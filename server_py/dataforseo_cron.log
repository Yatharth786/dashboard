2025-10-24 10:12:10,600 - INFO - 
======================================================================
2025-10-24 10:12:10,600 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 10:12:10,601 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-24 10:12:10,601 - INFO - [INFO] Started at: 2025-10-24 10:12:10.601227
2025-10-24 10:12:10,601 - INFO - ======================================================================

2025-10-24 10:12:10,601 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 10:12:20,616 - ERROR - [FAILED] Database connection attempt 1/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:12:20,620 - INFO - [RETRY] Waiting 2 seconds before retry...
2025-10-24 10:12:22,620 - INFO - [ATTEMPT 2/3] Connecting to database...
2025-10-24 10:12:32,626 - ERROR - [FAILED] Database connection attempt 2/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:12:32,627 - INFO - [RETRY] Waiting 4 seconds before retry...
2025-10-24 10:12:36,627 - INFO - [ATTEMPT 3/3] Connecting to database...
2025-10-24 10:12:46,631 - ERROR - [FAILED] Database connection attempt 3/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:12:46,632 - ERROR - [ERROR] All database connection attempts failed
2025-10-24 10:12:46,632 - ERROR - Please check:
2025-10-24 10:12:46,632 - ERROR -   1. Database server is running and accessible
2025-10-24 10:12:46,632 - ERROR -   2. Firewall allows connections on port 5432
2025-10-24 10:12:46,632 - ERROR -   3. Database credentials are correct
2025-10-24 10:12:46,632 - ERROR -   4. Network connectivity to database server
2025-10-24 10:12:46,632 - ERROR - [FATAL] Cannot proceed without database connection
2025-10-24 10:26:58,055 - INFO - 
======================================================================
2025-10-24 10:26:58,056 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 10:26:58,056 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-24 10:26:58,056 - INFO - [INFO] Started at: 2025-10-24 10:26:58.056324
2025-10-24 10:26:58,056 - INFO - ======================================================================

2025-10-24 10:26:58,056 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 10:26:58,164 - INFO - [SUCCESS] Database connected
2025-10-24 10:26:58,254 - INFO - [SUCCESS] Database tables ready
2025-10-24 10:26:58,254 - INFO - ======================================================================
2025-10-24 10:26:58,255 - INFO - [START] Collecting: laptop
2025-10-24 10:26:58,255 - INFO - ======================================================================
2025-10-24 10:26:58,256 - INFO - [SUBMIT] Submitting task: laptop
2025-10-24 10:26:59,145 - INFO - [SUCCESS] Task submitted: 10240756-1177-0209-0000-1342f4c57f6b
2025-10-24 10:26:59,193 - INFO - [SAVED] Task saved: 10240756-1177-0209-0000-1342f4c57f6b
2025-10-24 10:26:59,193 - INFO - [WAIT] Waiting 90 seconds for processing...
2025-10-24 10:28:29,212 - ERROR - [ERROR] API request failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10240756-1177-0209-0000-1342f4c57f6b (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000268EA87D6D0>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-24 10:28:29,213 - ERROR - [ERROR] Failed to get results for: 10240756-1177-0209-0000-1342f4c57f6b
2025-10-24 10:28:29,215 - INFO - ======================================================================
2025-10-24 10:28:29,219 - INFO - [START] Collecting: smartphone
2025-10-24 10:28:29,219 - INFO - ======================================================================
2025-10-24 10:28:29,223 - INFO - [SUBMIT] Submitting task: smartphone
2025-10-24 10:28:29,253 - ERROR - [ERROR] API request failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_post (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000268EA87DA90>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-24 10:28:29,259 - ERROR - [ERROR] Task submission failed: No response
2025-10-24 10:28:29,262 - INFO - ======================================================================
2025-10-24 10:28:29,266 - INFO - [START] Collecting: headphones
2025-10-24 10:28:29,271 - INFO - ======================================================================
2025-10-24 10:28:29,294 - INFO - [SUBMIT] Submitting task: headphones
2025-10-24 10:28:29,307 - ERROR - [ERROR] API request failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_post (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000268EA87E350>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-24 10:28:29,310 - ERROR - [ERROR] Task submission failed: No response
2025-10-24 10:28:29,313 - INFO - ======================================================================
2025-10-24 10:28:29,314 - INFO - [START] Collecting: smartwatch
2025-10-24 10:28:29,319 - INFO - ======================================================================
2025-10-24 10:28:29,326 - INFO - [SUBMIT] Submitting task: smartwatch
2025-10-24 10:28:29,339 - ERROR - [ERROR] API request failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_post (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000268EA87E710>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-24 10:28:29,339 - ERROR - [ERROR] Task submission failed: No response
2025-10-24 10:28:29,344 - INFO - ======================================================================
2025-10-24 10:28:29,349 - INFO - [START] Collecting: tablet
2025-10-24 10:28:29,354 - INFO - ======================================================================
2025-10-24 10:28:29,365 - INFO - [SUBMIT] Submitting task: tablet
2025-10-24 10:28:29,379 - ERROR - [ERROR] API request failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_post (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000268EA87EAD0>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-24 10:28:29,381 - ERROR - [ERROR] Task submission failed: No response
2025-10-24 10:28:31,757 - ERROR - Failed to update stats: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

2025-10-24 10:28:31,779 - ERROR - [FATAL] Fatal error: connection already closed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 321, in update_stats
    cursor.execute("""
    ~~~~~~~~~~~~~~^^^^
        INSERT INTO collection_stats
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (total_tasks, total_products, total_cost, keywords_processed)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (%s, %s, %s, %s)
        ^^^^^^^^^^^^^^^^^^^^^^^
    """, (tasks, products, cost, ','.join(keywords)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 676, in main
    result = collector.collect_all(keywords)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 570, in collect_all
    self.db.update_stats(
    ~~~~~~~~~~~~~~~~~~~~^
        tasks=successful,
        ^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        keywords=keywords
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 329, in update_stats
    self.conn.rollback()
    ~~~~~~~~~~~~~~~~~~^^
psycopg2.InterfaceError: connection already closed
2025-10-24 10:46:23,425 - INFO - [INIT] DataForSEO client initialized
2025-10-24 10:46:23,425 - INFO - 
======================================================================
2025-10-24 10:46:23,426 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 10:46:23,426 - INFO - [INFO] Keywords: laptop
2025-10-24 10:46:23,426 - INFO - [INFO] Started at: 2025-10-24 10:46:23.426501
2025-10-24 10:46:23,426 - INFO - ======================================================================

2025-10-24 10:46:23,426 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 10:46:33,428 - ERROR - [FAILED] Database connection attempt 1/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:46:33,428 - INFO - [RETRY] Waiting 2 seconds before retry...
2025-10-24 10:46:35,429 - INFO - [ATTEMPT 2/3] Connecting to database...
2025-10-24 10:46:45,441 - ERROR - [FAILED] Database connection attempt 2/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:46:45,444 - INFO - [RETRY] Waiting 4 seconds before retry...
2025-10-24 10:46:49,446 - INFO - [ATTEMPT 3/3] Connecting to database...
2025-10-24 10:46:59,453 - ERROR - [FAILED] Database connection attempt 3/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:46:59,456 - ERROR - [ERROR] All database connection attempts failed
2025-10-24 10:46:59,457 - ERROR - Please check:
2025-10-24 10:46:59,460 - ERROR -   1. Database server is running and accessible
2025-10-24 10:46:59,461 - ERROR -   2. Firewall allows connections on port 5432
2025-10-24 10:46:59,462 - ERROR -   3. Database credentials are correct
2025-10-24 10:46:59,463 - ERROR -   4. Network connectivity to database server
2025-10-24 10:46:59,464 - ERROR - [FATAL] Cannot proceed without database connection
2025-10-24 10:48:41,834 - INFO - [INIT] DataForSEO client initialized
2025-10-24 10:48:41,834 - INFO - 
======================================================================
2025-10-24 10:48:41,834 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 10:48:41,835 - INFO - [INFO] Keywords: laptop
2025-10-24 10:48:41,835 - INFO - [INFO] Started at: 2025-10-24 10:48:41.835368
2025-10-24 10:48:41,835 - INFO - ======================================================================

2025-10-24 10:48:41,835 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 10:48:45,910 - ERROR - [FAILED] Database connection attempt 1/3: connection to server at "localhost" (::1), port 8000 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 8000 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-24 10:48:45,911 - INFO - [RETRY] Waiting 2 seconds before retry...
2025-10-24 10:48:47,912 - INFO - [ATTEMPT 2/3] Connecting to database...
2025-10-24 10:48:51,985 - ERROR - [FAILED] Database connection attempt 2/3: connection to server at "localhost" (::1), port 8000 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 8000 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-24 10:48:51,988 - INFO - [RETRY] Waiting 4 seconds before retry...
2025-10-24 10:48:55,989 - INFO - [ATTEMPT 3/3] Connecting to database...
2025-10-24 10:49:00,073 - ERROR - [FAILED] Database connection attempt 3/3: connection to server at "localhost" (::1), port 8000 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?
connection to server at "localhost" (127.0.0.1), port 8000 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-24 10:49:00,073 - ERROR - [ERROR] All database connection attempts failed
2025-10-24 10:49:00,074 - ERROR - Please check:
2025-10-24 10:49:00,074 - ERROR -   1. Database server is running and accessible
2025-10-24 10:49:00,074 - ERROR -   2. Firewall allows connections on port 5432
2025-10-24 10:49:00,074 - ERROR -   3. Database credentials are correct
2025-10-24 10:49:00,075 - ERROR -   4. Network connectivity to database server
2025-10-24 10:49:00,075 - ERROR - [FATAL] Cannot proceed without database connection
2025-10-24 10:50:06,051 - INFO - [INIT] DataForSEO client initialized
2025-10-24 10:50:06,051 - INFO - 
======================================================================
2025-10-24 10:50:06,051 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 10:50:06,051 - INFO - [INFO] Keywords: laptop
2025-10-24 10:50:06,051 - INFO - [INFO] Started at: 2025-10-24 10:50:06.051918
2025-10-24 10:50:06,052 - INFO - ======================================================================

2025-10-24 10:50:06,052 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 10:50:16,053 - ERROR - [FAILED] Database connection attempt 1/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:50:16,062 - INFO - [RETRY] Waiting 2 seconds before retry...
2025-10-24 10:50:18,064 - INFO - [ATTEMPT 2/3] Connecting to database...
2025-10-24 10:50:28,069 - ERROR - [FAILED] Database connection attempt 2/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:50:28,070 - INFO - [RETRY] Waiting 4 seconds before retry...
2025-10-24 10:50:32,071 - INFO - [ATTEMPT 3/3] Connecting to database...
2025-10-24 10:50:42,073 - ERROR - [FAILED] Database connection attempt 3/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:50:42,074 - ERROR - [ERROR] All database connection attempts failed
2025-10-24 10:50:42,074 - ERROR - Please check:
2025-10-24 10:50:42,075 - ERROR -   1. Database server is running and accessible
2025-10-24 10:50:42,075 - ERROR -   2. Firewall allows connections on port 5432
2025-10-24 10:50:42,075 - ERROR -   3. Database credentials are correct
2025-10-24 10:50:42,076 - ERROR -   4. Network connectivity to database server
2025-10-24 10:50:42,076 - ERROR - [FATAL] Cannot proceed without database connection
2025-10-24 10:56:03,231 - INFO - [INIT] DataForSEO client initialized
2025-10-24 10:56:03,232 - INFO - 
======================================================================
2025-10-24 10:56:03,232 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 10:56:03,232 - INFO - [INFO] Keywords: laptop
2025-10-24 10:56:03,232 - INFO - [INFO] Started at: 2025-10-24 10:56:03.232466
2025-10-24 10:56:03,232 - INFO - ======================================================================

2025-10-24 10:56:03,232 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 10:56:13,238 - ERROR - [FAILED] Database connection attempt 1/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:56:13,238 - INFO - [RETRY] Waiting 2 seconds before retry...
2025-10-24 10:56:15,240 - INFO - [ATTEMPT 2/3] Connecting to database...
2025-10-24 10:56:25,252 - ERROR - [FAILED] Database connection attempt 2/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:56:25,253 - INFO - [RETRY] Waiting 4 seconds before retry...
2025-10-24 10:56:29,254 - INFO - [ATTEMPT 3/3] Connecting to database...
2025-10-24 10:56:39,266 - ERROR - [FAILED] Database connection attempt 3/3: connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-24 10:56:39,267 - ERROR - [ERROR] All database connection attempts failed
2025-10-24 10:56:39,268 - ERROR - Please check:
2025-10-24 10:56:39,268 - ERROR -   1. Database server is running and accessible
2025-10-24 10:56:39,269 - ERROR -   2. Firewall allows connections on port 5432
2025-10-24 10:56:39,269 - ERROR -   3. Database credentials are correct
2025-10-24 10:56:39,270 - ERROR -   4. Network connectivity to database server
2025-10-24 10:56:39,275 - ERROR - [FATAL] Cannot proceed without database connection
2025-10-24 11:08:22,622 - INFO - [INIT] DataForSEO client initialized
2025-10-24 11:08:22,622 - INFO - 
======================================================================
2025-10-24 11:08:22,622 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 11:08:22,622 - INFO - [INFO] Keywords: laptop
2025-10-24 11:08:22,622 - INFO - [INFO] Started at: 2025-10-24 11:08:22.622947
2025-10-24 11:08:22,623 - INFO - ======================================================================

2025-10-24 11:08:22,623 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 11:08:22,697 - INFO - [SUCCESS] Database connected
2025-10-24 11:08:22,765 - INFO - [SUCCESS] Database tables ready
2025-10-24 11:08:22,765 - INFO - ======================================================================
2025-10-24 11:08:22,765 - INFO - [START] Collecting: laptop
2025-10-24 11:08:22,766 - INFO - ======================================================================
2025-10-24 11:08:22,766 - INFO - [SUBMIT] Submitting task: laptop
2025-10-24 11:08:22,766 - INFO - [SUBMIT] Location: United States, Language: English (United States)
2025-10-24 11:08:23,580 - ERROR - [ERROR] Task submission failed. Code: 40100, Message: You are not authorized to access this resource. See your login details here: https://app.dataforseo.com/api-access .
2025-10-24 11:08:23,626 - INFO - Database disconnected
2025-10-24 11:08:23,626 - INFO - 
======================================================================
2025-10-24 11:08:23,626 - INFO - [COMPLETE] COLLECTION COMPLETED
2025-10-24 11:08:23,626 - INFO - [STATS] Total keywords: 1
2025-10-24 11:08:23,627 - INFO - [STATS] Successful: 0
2025-10-24 11:08:23,627 - INFO - [STATS] Total products: 0
2025-10-24 11:08:23,627 - INFO - [STATS] Total cost: $0.000
2025-10-24 11:08:23,627 - INFO - [INFO] Completed at: 2025-10-24 11:08:23.627333
2025-10-24 11:08:23,627 - INFO - ======================================================================

2025-10-24 12:49:34,490 - INFO - [INIT] DataForSEO client initialized
2025-10-24 12:49:34,490 - INFO - 
======================================================================
2025-10-24 12:49:34,490 - INFO - [START] STARTING DATA COLLECTION
2025-10-24 12:49:34,490 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-24 12:49:34,491 - INFO - [INFO] Started at: 2025-10-24 12:49:34.491024
2025-10-24 12:49:34,491 - INFO - ======================================================================

2025-10-24 12:49:34,491 - INFO - [ATTEMPT 1/3] Connecting to database...
2025-10-24 12:49:34,599 - INFO - [SUCCESS] Database connected
2025-10-24 12:49:34,681 - INFO - [SUCCESS] Database tables ready
2025-10-24 12:49:34,682 - INFO - ======================================================================
2025-10-24 12:49:34,682 - INFO - [START] Collecting: laptop
2025-10-24 12:49:34,682 - INFO - ======================================================================
2025-10-24 12:49:34,682 - INFO - [SUBMIT] Submitting task: laptop
2025-10-24 12:49:34,683 - INFO - [SUBMIT] Location: United States, Language: English (United States)
2025-10-24 12:49:35,266 - INFO - [SUCCESS] Task submitted: 10241019-1177-0209-0000-0d089bc0f43c
2025-10-24 12:49:35,295 - ERROR - [ERROR] Failed to save task: column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:                 (id, keyword, location_name, language_name, ...
                                      ^

2025-10-24 12:49:35,309 - INFO - [WAIT] Waiting 90 seconds for processing...
2025-10-24 12:51:05,310 - INFO - [FETCH] Fetching results for task: 10241019-1177-0209-0000-0d089bc0f43c
2025-10-24 12:51:05,880 - WARNING - [WAITING] Task not ready: 10241019-1177-0209-0000-0d089bc0f43c (status: 40602)
2025-10-24 12:51:05,880 - INFO - ======================================================================
2025-10-24 12:51:05,881 - INFO - [START] Collecting: smartphone
2025-10-24 12:51:05,881 - INFO - ======================================================================
2025-10-24 12:51:05,881 - INFO - [SUBMIT] Submitting task: smartphone
2025-10-24 12:51:05,881 - INFO - [SUBMIT] Location: United States, Language: English (United States)
2025-10-24 12:51:06,426 - INFO - [SUCCESS] Task submitted: 10241021-1177-0209-0000-3eeaea276bb0
2025-10-24 12:51:06,481 - ERROR - [ERROR] Failed to save task: column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:                 (id, keyword, location_name, language_name, ...
                                      ^

2025-10-24 12:51:06,495 - INFO - [WAIT] Waiting 90 seconds for processing...
2025-10-24 12:52:36,496 - INFO - [FETCH] Fetching results for task: 10241021-1177-0209-0000-3eeaea276bb0
2025-10-24 12:52:37,026 - WARNING - [WAITING] Task not ready: 10241021-1177-0209-0000-3eeaea276bb0 (status: 40602)
2025-10-24 12:52:37,027 - INFO - ======================================================================
2025-10-24 12:52:37,027 - INFO - [START] Collecting: headphones
2025-10-24 12:52:37,027 - INFO - ======================================================================
2025-10-24 12:52:37,027 - INFO - [SUBMIT] Submitting task: headphones
2025-10-24 12:52:37,028 - INFO - [SUBMIT] Location: United States, Language: English (United States)
2025-10-24 12:52:37,630 - INFO - [SUCCESS] Task submitted: 10241022-1177-0209-0000-15c888e7083c
2025-10-24 12:52:37,665 - ERROR - [ERROR] Failed to save task: column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:                 (id, keyword, location_name, language_name, ...
                                      ^

2025-10-24 12:52:37,678 - INFO - [WAIT] Waiting 90 seconds for processing...
2025-10-24 12:54:07,679 - INFO - [FETCH] Fetching results for task: 10241022-1177-0209-0000-15c888e7083c
2025-10-24 12:54:08,760 - INFO - [SUCCESS] Results retrieved for task: 10241022-1177-0209-0000-15c888e7083c
2025-10-24 12:54:08,763 - INFO - [EXTRACT] Extracted 74 products
2025-10-24 12:54:08,887 - ERROR - [ERROR] Failed to save products: invalid input syntax for type json
LINE 8: ...es/I/51Dd8aGSW0L._AC_UY218_.jpg',29.95,NULL,'USD','90 days f...
                                                             ^
DETAIL:  Token "days" is invalid.
CONTEXT:  JSON data, line 1: 90 days...

2025-10-24 12:54:08,932 - ERROR - [ERROR] Failed to save task: column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:                 (id, keyword, location_name, language_name, ...
                                      ^

2025-10-24 12:54:08,946 - INFO - [SUCCESS] Collected 0 products for 'headphones'
2025-10-24 12:54:08,947 - INFO - ======================================================================

2025-10-24 12:54:08,948 - INFO - ======================================================================
2025-10-24 12:54:08,949 - INFO - [START] Collecting: smartwatch
2025-10-24 12:54:08,950 - INFO - ======================================================================
2025-10-24 12:54:08,951 - INFO - [SUBMIT] Submitting task: smartwatch
2025-10-24 12:54:08,952 - INFO - [SUBMIT] Location: United States, Language: English (United States)
2025-10-24 12:54:09,586 - INFO - [SUCCESS] Task submitted: 10241024-1177-0209-0000-218f836419fa
2025-10-24 12:54:09,618 - ERROR - [ERROR] Failed to save task: column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:                 (id, keyword, location_name, language_name, ...
                                      ^

2025-10-24 12:54:09,633 - INFO - [WAIT] Waiting 90 seconds for processing...
2025-10-24 12:55:39,634 - INFO - [FETCH] Fetching results for task: 10241024-1177-0209-0000-218f836419fa
2025-10-24 12:55:40,947 - INFO - [SUCCESS] Results retrieved for task: 10241024-1177-0209-0000-218f836419fa
2025-10-24 12:55:40,948 - INFO - [EXTRACT] Extracted 135 products
2025-10-24 12:55:41,002 - ERROR - [ERROR] Failed to save products: invalid input syntax for type json
LINE 8: ...es/I/81GF-RiWI2L._AC_UY218_.jpg',59.99,NULL,'USD','Save 20% ...
                                                             ^
DETAIL:  Token "Save" is invalid.
CONTEXT:  JSON data, line 1: Save...

2025-10-24 12:55:41,063 - ERROR - [ERROR] Failed to save task: column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:                 (id, keyword, location_name, language_name, ...
                                      ^

2025-10-24 12:55:41,079 - INFO - [SUCCESS] Collected 0 products for 'smartwatch'
2025-10-24 12:55:41,080 - INFO - ======================================================================

2025-10-24 12:55:41,080 - INFO - ======================================================================
2025-10-24 12:55:41,080 - INFO - [START] Collecting: tablet
2025-10-24 12:55:41,080 - INFO - ======================================================================
2025-10-24 12:55:41,081 - INFO - [SUBMIT] Submitting task: tablet
2025-10-24 12:55:41,081 - INFO - [SUBMIT] Location: United States, Language: English (United States)
2025-10-24 12:55:41,589 - INFO - [SUCCESS] Task submitted: 10241025-1177-0209-0000-acb08eaa998c
2025-10-24 12:55:41,620 - ERROR - [ERROR] Failed to save task: column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:                 (id, keyword, location_name, language_name, ...
                                      ^

2025-10-24 12:55:41,634 - INFO - [WAIT] Waiting 90 seconds for processing...
2025-10-24 12:55:49,409 - INFO - 
[STOP] Stopped by user
2025-10-24 13:59:45,260 - INFO - [API] Initialized with 60s timeout
2025-10-24 13:59:45,261 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 13:59:45,403 - INFO - [DB] Connection successful
2025-10-24 13:59:45,450 - INFO - [DB] Tables verified
2025-10-24 13:59:45,451 - INFO - [COLLECT] Keyword: laptop
2025-10-24 13:59:45,451 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 13:59:45,451 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 13:59:45,451 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 13:59:45,451 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 13:59:45,451 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 13:59:45,452 - INFO - [COLLECT] Keyword: headphones
2025-10-24 13:59:45,452 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 13:59:45,452 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 13:59:45,452 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 13:59:45,452 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 13:59:45,452 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 13:59:45,453 - INFO - [COLLECT] Keyword: tablet
2025-10-24 13:59:45,453 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 13:59:45,453 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 13:59:45,453 - INFO - [DB] Disconnected
2025-10-24 13:59:45,453 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 14:18:56,294 - INFO - [API] Initialized with 60s timeout
2025-10-24 14:18:56,294 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 14:18:56,402 - INFO - [DB] Connection successful
2025-10-24 14:18:56,443 - INFO - [DB] Tables verified
2025-10-24 14:18:56,443 - INFO - [COLLECT] Keyword: laptop
2025-10-24 14:18:56,444 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:18:56,444 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 14:18:56,444 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 14:18:56,444 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:18:56,445 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 14:18:56,445 - INFO - [COLLECT] Keyword: headphones
2025-10-24 14:18:56,445 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:18:56,445 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 14:18:56,446 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 14:18:56,446 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:18:56,446 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 14:18:56,446 - INFO - [COLLECT] Keyword: tablet
2025-10-24 14:18:56,446 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:18:56,446 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 14:18:56,447 - INFO - [DB] Disconnected
2025-10-24 14:18:56,447 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 14:29:03,092 - INFO - [API] Initialized with 60s timeout
2025-10-24 14:29:03,092 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 14:29:03,183 - INFO - [DB] Connection successful
2025-10-24 14:29:03,227 - INFO - [DB] Tables verified
2025-10-24 14:29:03,228 - INFO - [COLLECT] Keyword: laptop
2025-10-24 14:29:03,228 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:29:03,229 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 14:29:03,229 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 14:29:03,229 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:29:03,230 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 14:29:03,230 - INFO - [COLLECT] Keyword: headphones
2025-10-24 14:29:03,230 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:29:03,230 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 14:29:03,231 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 14:29:03,231 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:29:03,231 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 14:29:03,231 - INFO - [COLLECT] Keyword: tablet
2025-10-24 14:29:03,232 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:29:03,232 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 14:29:03,232 - INFO - [DB] Disconnected
2025-10-24 14:29:03,232 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 14:30:23,234 - INFO - [API] Initialized with 60s timeout
2025-10-24 14:30:23,235 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 14:30:23,446 - INFO - [DB] Connection successful
2025-10-24 14:30:23,557 - INFO - [DB] Tables verified
2025-10-24 14:30:23,558 - INFO - [COLLECT] Keyword: laptop
2025-10-24 14:30:23,558 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:30:23,558 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 14:30:23,559 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 14:30:23,559 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:30:23,559 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 14:30:23,560 - INFO - [COLLECT] Keyword: headphones
2025-10-24 14:30:23,560 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:30:23,560 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 14:30:23,560 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 14:30:23,560 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:30:23,561 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 14:30:23,561 - INFO - [COLLECT] Keyword: tablet
2025-10-24 14:30:23,561 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:30:23,561 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 14:30:23,561 - INFO - [DB] Disconnected
2025-10-24 14:30:23,562 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 14:34:07,858 - INFO - [API] Initialized with 60s timeout
2025-10-24 14:34:07,858 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 14:34:07,948 - INFO - [DB] Connection successful
2025-10-24 14:34:07,990 - INFO - [DB] Tables verified
2025-10-24 14:34:07,990 - INFO - [COLLECT] Keyword: laptop
2025-10-24 14:34:07,990 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:34:07,991 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 14:34:07,991 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 14:34:07,991 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:34:07,992 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 14:34:07,992 - INFO - [COLLECT] Keyword: headphones
2025-10-24 14:34:07,992 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:34:07,992 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 14:34:07,993 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 14:34:07,993 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:34:07,993 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 14:34:07,993 - INFO - [COLLECT] Keyword: tablet
2025-10-24 14:34:07,994 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:34:07,994 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 14:34:07,994 - INFO - [DB] Disconnected
2025-10-24 14:34:07,994 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 14:38:51,376 - INFO - [API] Initialized with 60s timeout
2025-10-24 14:38:51,376 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 14:38:51,449 - INFO - [DB] Connection successful
2025-10-24 14:38:51,491 - INFO - [DB] Tables verified
2025-10-24 14:38:51,492 - INFO - [COLLECT] Keyword: laptop
2025-10-24 14:38:51,492 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:38:51,493 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 14:38:51,493 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 14:38:51,493 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:38:51,493 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 14:38:51,494 - INFO - [COLLECT] Keyword: headphones
2025-10-24 14:38:51,494 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:38:51,494 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 14:38:51,494 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 14:38:51,495 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:38:51,495 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 14:38:51,495 - INFO - [COLLECT] Keyword: tablet
2025-10-24 14:38:51,495 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:38:51,495 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 14:38:51,496 - INFO - [DB] Disconnected
2025-10-24 14:38:51,496 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 14:44:45,114 - INFO - [API] Initialized with 60s timeout
2025-10-24 14:44:45,114 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 14:44:45,200 - INFO - [DB] Connection successful
2025-10-24 14:44:45,252 - INFO - [DB] Tables verified
2025-10-24 14:44:45,252 - INFO - [COLLECT] Keyword: laptop
2025-10-24 14:44:45,253 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:44:45,253 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 14:44:45,253 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 14:44:45,253 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:44:45,254 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 14:44:45,254 - INFO - [COLLECT] Keyword: headphones
2025-10-24 14:44:45,254 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:44:45,254 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 14:44:45,254 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 14:44:45,254 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:44:45,254 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 14:44:45,254 - INFO - [COLLECT] Keyword: tablet
2025-10-24 14:44:45,255 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:44:45,255 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 14:44:45,255 - INFO - [DB] Disconnected
2025-10-24 14:44:45,255 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 14:45:43,107 - INFO - [API] Initialized with 60s timeout
2025-10-24 14:45:43,107 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 14:45:43,209 - INFO - [DB] Connection successful
2025-10-24 14:45:43,250 - INFO - [DB] Tables verified
2025-10-24 14:45:43,250 - INFO - [COLLECT] Keyword: laptop
2025-10-24 14:45:43,250 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:45:43,251 - ERROR - [API] Task submission failed for 'laptop'
2025-10-24 14:45:43,251 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 14:45:43,251 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:45:43,251 - ERROR - [API] Task submission failed for 'smartphone'
2025-10-24 14:45:43,251 - INFO - [COLLECT] Keyword: headphones
2025-10-24 14:45:43,251 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:45:43,252 - ERROR - [API] Task submission failed for 'headphones'
2025-10-24 14:45:43,252 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 14:45:43,252 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:45:43,252 - ERROR - [API] Task submission failed for 'smartwatch'
2025-10-24 14:45:43,252 - INFO - [COLLECT] Keyword: tablet
2025-10-24 14:45:43,252 - ERROR - [API ERROR] RestClient.post() got an unexpected keyword argument 'timeout'
2025-10-24 14:45:43,252 - ERROR - [API] Task submission failed for 'tablet'
2025-10-24 14:45:43,253 - INFO - [DB] Disconnected
2025-10-24 14:45:43,253 - INFO - [COMPLETE] Data collection finished successfully
2025-10-24 15:19:32,766 - INFO - [API] Initialized with 60s timeout
2025-10-24 15:19:32,766 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 15:19:32,859 - INFO - [DB] Connection successful
2025-10-24 15:19:32,898 - INFO - [DB] Tables verified
2025-10-24 15:19:32,899 - INFO - [COLLECT] Keyword: laptop
2025-10-24 15:20:44,019 - INFO - [API] Initialized with 60s timeout
2025-10-24 15:20:44,019 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-24 15:20:44,183 - INFO - [DB] Connection successful
2025-10-24 15:20:44,266 - INFO - [DB] Tables verified
2025-10-24 15:20:44,267 - INFO - [COLLECT] Keyword: laptop
2025-10-24 15:20:44,267 - INFO - [API] Submitting task for keyword='laptop'
2025-10-24 15:20:45,393 - INFO - [API] Task submitted successfully. task_id=10241250-1177-0209-0000-cbd3e0e495a9
2025-10-24 15:23:45,393 - INFO - [API] Fetching results for task_id=10241250-1177-0209-0000-cbd3e0e495a9
2025-10-24 15:23:47,660 - INFO - [DONE] 94 products saved for 'laptop'
2025-10-24 15:23:47,661 - INFO - [COLLECT] Keyword: smartphone
2025-10-24 15:23:47,661 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-24 15:23:47,883 - INFO - [API] Task submitted successfully. task_id=10241253-1177-0209-0000-15ddba7555b0
2025-10-24 15:26:47,887 - INFO - [API] Fetching results for task_id=10241253-1177-0209-0000-15ddba7555b0
2025-10-24 15:26:50,966 - INFO - [DONE] 14 products saved for 'smartphone'
2025-10-24 15:26:50,969 - INFO - [COLLECT] Keyword: headphones
2025-10-24 15:26:50,969 - INFO - [API] Submitting task for keyword='headphones'
2025-10-24 15:26:51,262 - INFO - [API] Task submitted successfully. task_id=10241256-1177-0209-0000-cd57511b1f09
2025-10-24 15:29:51,262 - INFO - [API] Fetching results for task_id=10241256-1177-0209-0000-cd57511b1f09
2025-10-24 15:29:52,613 - INFO - [DONE] 70 products saved for 'headphones'
2025-10-24 15:29:52,613 - INFO - [COLLECT] Keyword: smartwatch
2025-10-24 15:29:52,614 - INFO - [API] Submitting task for keyword='smartwatch'
2025-10-24 15:29:52,914 - INFO - [API] Task submitted successfully. task_id=10241259-1177-0209-0000-6d7c1c442b38
2025-10-24 15:32:52,915 - INFO - [API] Fetching results for task_id=10241259-1177-0209-0000-6d7c1c442b38
2025-10-24 15:32:53,985 - INFO - [DONE] 12 products saved for 'smartwatch'
2025-10-24 15:32:53,986 - INFO - [COLLECT] Keyword: tablet
2025-10-24 15:32:53,987 - INFO - [API] Submitting task for keyword='tablet'
2025-10-24 15:32:54,210 - INFO - [API] Task submitted successfully. task_id=10241302-1177-0209-0000-d4c018e1da67
2025-10-24 15:35:54,210 - INFO - [API] Fetching results for task_id=10241302-1177-0209-0000-d4c018e1da67
2025-10-24 15:35:55,176 - INFO - [DONE] 63 products saved for 'tablet'
2025-10-24 15:35:55,177 - INFO - [DB] Disconnected
2025-10-24 15:35:55,178 - INFO - [COMPLETE] Data collection finished successfully
2025-10-25 11:29:39,511 - INFO - [API] Initialized with 60s timeout
2025-10-25 11:29:39,512 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-25 11:29:39,801 - INFO - [DB] Connection successful
2025-10-25 11:29:39,845 - INFO - [DB] Tables verified
2025-10-25 11:29:39,845 - INFO - [COLLECT] Keyword: laptop
2025-10-25 11:29:39,847 - INFO - [API] Submitting task for keyword='laptop'
2025-10-25 11:29:41,315 - INFO - [API] Task submitted successfully. task_id=10250859-1177-0209-0000-ee141c339f4a
2025-10-25 11:32:41,316 - INFO - [API] Fetching results for task_id=10250859-1177-0209-0000-ee141c339f4a
2025-10-25 11:38:53,311 - INFO - [API] Initialized with 60s timeout
2025-10-25 11:38:53,311 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-25 11:38:53,419 - INFO - [DB] Connection successful
2025-10-25 11:38:53,460 - INFO - [DB] Tables verified
2025-10-25 11:38:53,461 - INFO - [COLLECT] Keyword: laptop
2025-10-25 11:38:53,461 - INFO - [API] Submitting task for keyword='laptop'
2025-10-25 11:38:54,445 - INFO - [API] Task submitted successfully. task_id=10250908-1177-0209-0000-273554416186
2025-10-25 11:41:03,096 - INFO - [API] Initialized with 60s timeout
2025-10-25 11:41:03,097 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-25 11:41:03,191 - INFO - [DB] Connection successful
2025-10-25 11:41:03,230 - INFO - [DB] Tables verified
2025-10-25 11:41:03,231 - INFO - [COLLECT] Keyword: laptop
2025-10-25 11:41:03,231 - INFO - [API] Submitting task for keyword='laptop'
2025-10-25 11:41:04,664 - INFO - [API] Task submitted successfully. task_id=10250911-1177-0209-0000-c110dfeb0df2
2025-10-25 11:44:04,666 - INFO - [API] Fetching results for task_id=10250911-1177-0209-0000-c110dfeb0df2
2025-10-25 13:58:45,759 - INFO - [API] Initialized with 60s timeout
2025-10-25 13:58:45,759 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-25 13:58:46,126 - INFO - [DB] Connection successful
2025-10-25 13:58:46,161 - INFO - [DB] Tables verified
2025-10-25 13:58:46,161 - INFO - [COLLECT] Keyword: laptop
2025-10-25 13:58:46,161 - INFO - [API] Submitting task for keyword='laptop'
2025-10-25 13:58:47,386 - INFO - [API] Task submitted successfully. task_id=10251128-1177-0209-0000-b44bdbb19da1
2025-10-25 14:01:47,436 - INFO - [API] Fetching results for task_id=10251128-1177-0209-0000-b44bdbb19da1
2025-10-25 14:06:11,872 - INFO - [API] Initialized with 60s timeout
2025-10-25 14:06:11,872 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-25 14:06:11,961 - INFO - [DB] Connection successful
2025-10-25 14:06:11,997 - INFO - [DB] Tables verified
2025-10-25 14:06:11,998 - INFO - [COLLECT] Keyword: laptop
2025-10-25 14:06:11,998 - INFO - [API] Submitting task for keyword='laptop'
2025-10-25 14:06:12,811 - INFO - [API] Task submitted successfully. task_id=10251136-1177-0209-0000-4eab11d0f47d
2025-10-25 14:06:12,811 - INFO - [API] Polling for results (task_id=10251136-1177-0209-0000-4eab11d0f47d) up to 600s, interval=8s
2025-10-25 14:06:13,016 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:06:21,230 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:06:29,440 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:06:37,610 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:06:46,474 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:06:54,699 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:07:02,991 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:07:11,215 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:07:19,446 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:07:27,927 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:07:36,237 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:07:44,432 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:07:52,650 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:08:00,829 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:08:09,032 - INFO - [API] Task 10251136-1177-0209-0000-4eab11d0f47d status_code=40401; still processing or empty result.
2025-10-25 14:08:38,726 - ERROR - [API ERROR] Attempt 1/3 failed: ('Connection aborted.', ConnectionResetError(10054, 'An existing connection was forcibly closed by the remote host', None, 10054, None))
2025-10-25 14:08:38,727 - INFO - [API] Retrying after 2.0s...
2025-10-25 14:08:40,729 - ERROR - [API ERROR] Attempt 2/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000027972A10910>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:08:40,730 - INFO - [API] Retrying after 4.0s...
2025-10-25 14:08:44,737 - ERROR - [API ERROR] Attempt 3/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000027972A10B90>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:08:44,737 - WARNING - [API] No response while polling task_id=10251136-1177-0209-0000-4eab11d0f47d
2025-10-25 14:08:52,740 - ERROR - [API ERROR] Attempt 1/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x00000279728D39D0>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:08:52,741 - INFO - [API] Retrying after 2.0s...
2025-10-25 14:08:54,743 - ERROR - [API ERROR] Attempt 2/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000027972A10A50>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:08:54,744 - INFO - [API] Retrying after 4.0s...
2025-10-25 14:08:58,746 - ERROR - [API ERROR] Attempt 3/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000027972A111D0>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:08:58,747 - WARNING - [API] No response while polling task_id=10251136-1177-0209-0000-4eab11d0f47d
2025-10-25 14:09:06,751 - ERROR - [API ERROR] Attempt 1/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000027972A11590>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:09:06,751 - INFO - [API] Retrying after 2.0s...
2025-10-25 14:09:08,754 - ERROR - [API ERROR] Attempt 2/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000027972A11950>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:09:08,754 - INFO - [API] Retrying after 4.0s...
2025-10-25 14:09:12,757 - ERROR - [API ERROR] Attempt 3/3 failed: HTTPSConnectionPool(host='api.dataforseo.com', port=443): Max retries exceeded with url: /v3/merchant/amazon/products/task_get/advanced/10251136-1177-0209-0000-4eab11d0f47d (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x0000027972A11D10>: Failed to resolve 'api.dataforseo.com' ([Errno 11001] getaddrinfo failed)"))
2025-10-25 14:09:12,758 - WARNING - [API] No response while polling task_id=10251136-1177-0209-0000-4eab11d0f47d
2025-10-25 14:26:19,890 - INFO - [API] Initialized with 60s timeout
2025-10-25 14:26:19,892 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-25 14:26:20,140 - INFO - [DB] Connection successful
2025-10-25 14:26:20,180 - INFO - [DB] Tables verified
2025-10-25 14:26:20,180 - INFO - [COLLECT] Keyword: laptop
2025-10-25 14:26:20,181 - INFO - [API] Submitting task for keyword='laptop'
2025-10-25 14:26:21,514 - INFO - [API] Task submitted successfully. task_id=10251156-1177-0209-0000-c8da9d60f45f
2025-10-25 14:26:21,514 - INFO - [API] Polling for results (task_id=10251156-1177-0209-0000-c8da9d60f45f) up to 600s, interval=8s
2025-10-25 14:26:21,913 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:26:30,195 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:26:38,595 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:26:49,082 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:27:02,084 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:27:12,298 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:27:20,694 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:27:29,045 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:27:37,735 - INFO - [API] Task 10251156-1177-0209-0000-c8da9d60f45f status_code=40401; still processing or empty result.
2025-10-25 14:42:26,157 - INFO - ======================================================================
2025-10-25 14:42:26,158 - INFO - STARTING DATAFORSEO COLLECTION
2025-10-25 14:42:26,158 - INFO - ======================================================================
2025-10-25 14:42:26,159 - INFO - [CONFIG] Location Code: 2356
2025-10-25 14:42:26,159 - INFO - [CONFIG] Language Code: en
2025-10-25 14:42:26,159 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-25 14:42:26,159 - INFO - [API] Initialized with 60s timeout
2025-10-25 14:42:26,160 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-25 14:42:26,255 - INFO - [DB] Connection successful
2025-10-25 14:42:26,289 - INFO - [DB] Tables verified
2025-10-25 14:42:26,290 - INFO - ======================================================================
2025-10-25 14:42:26,290 - INFO - [COLLECT] Keyword: laptop
2025-10-25 14:42:26,290 - INFO - [API] Submitting task for keyword='laptop', location=2356, language=en
2025-10-25 14:42:27,105 - INFO - [API] Task submitted successfully. task_id=10251212-1177-0209-0000-a41d3c19adb9
2025-10-25 14:42:27,107 - INFO - [WAIT] Waiting 180 seconds...
2025-10-25 14:45:27,130 - INFO - [API] Fetching results for task_id=10251212-1177-0209-0000-a41d3c19adb9
2025-10-25 14:45:27,965 - WARNING - [API] Task status: 40401 (not ready)
2025-10-25 14:45:27,966 - ERROR - [FAILED] Could not retrieve results
2025-10-25 14:45:27,966 - INFO - ======================================================================
2025-10-25 14:45:27,966 - INFO - [COLLECT] Keyword: smartphone
2025-10-25 14:45:27,966 - INFO - [API] Submitting task for keyword='smartphone', location=2356, language=en
2025-10-25 14:45:28,308 - INFO - [API] Task submitted successfully. task_id=10251215-1177-0209-0000-2ce24512512c
2025-10-25 14:45:28,309 - INFO - [WAIT] Waiting 180 seconds...
2025-10-25 14:48:28,330 - INFO - [API] Fetching results for task_id=10251215-1177-0209-0000-2ce24512512c
2025-10-25 14:48:29,289 - WARNING - [API] Task status: 40401 (not ready)
2025-10-25 14:48:29,290 - ERROR - [FAILED] Could not retrieve results
2025-10-25 14:48:29,291 - INFO - ======================================================================
2025-10-25 14:48:29,291 - INFO - [COLLECT] Keyword: headphones
2025-10-25 14:48:29,291 - INFO - [API] Submitting task for keyword='headphones', location=2356, language=en
2025-10-25 14:48:29,521 - INFO - [API] Task submitted successfully. task_id=10251218-1177-0209-0000-e772b240f421
2025-10-25 14:48:29,522 - INFO - [WAIT] Waiting 180 seconds...
2025-10-25 14:51:29,541 - INFO - [API] Fetching results for task_id=10251218-1177-0209-0000-e772b240f421
2025-10-25 14:51:30,542 - WARNING - [API] Task status: 40401 (not ready)
2025-10-25 14:51:30,543 - ERROR - [FAILED] Could not retrieve results
2025-10-25 14:51:30,543 - INFO - ======================================================================
2025-10-25 14:51:30,543 - INFO - [COLLECT] Keyword: smartwatch
2025-10-25 14:51:30,544 - INFO - [API] Submitting task for keyword='smartwatch', location=2356, language=en
2025-10-25 14:51:30,776 - INFO - [API] Task submitted successfully. task_id=10251221-1177-0209-0000-d5e1c0dc663c
2025-10-25 14:51:30,777 - INFO - [WAIT] Waiting 180 seconds...
2025-10-25 14:54:30,797 - INFO - [API] Fetching results for task_id=10251221-1177-0209-0000-d5e1c0dc663c
2025-10-25 14:54:33,271 - WARNING - [API] Task status: 40401 (not ready)
2025-10-25 14:54:33,275 - ERROR - [FAILED] Could not retrieve results
2025-10-25 14:54:33,276 - INFO - ======================================================================
2025-10-25 14:54:33,277 - INFO - [COLLECT] Keyword: tablet
2025-10-25 14:54:33,278 - INFO - [API] Submitting task for keyword='tablet', location=2356, language=en
2025-10-25 14:54:33,594 - INFO - [API] Task submitted successfully. task_id=10251224-1177-0209-0000-ddff84da9029
2025-10-25 14:54:33,596 - INFO - [WAIT] Waiting 180 seconds...
2025-10-25 14:57:33,615 - INFO - [API] Fetching results for task_id=10251224-1177-0209-0000-ddff84da9029
2025-10-25 14:57:36,039 - WARNING - [API] Task status: 40401 (not ready)
2025-10-25 14:57:36,039 - ERROR - [FAILED] Could not retrieve results
2025-10-25 14:57:36,040 - INFO - [DB] Disconnected
2025-10-25 14:57:36,041 - INFO - ======================================================================
2025-10-25 14:57:36,042 - INFO - [COMPLETE] Collection finished
2025-10-25 14:57:36,043 - INFO - [STATS] Success: 0/5
2025-10-25 14:57:36,044 - INFO - [STATS] Total products: 0
2025-10-25 14:57:36,046 - INFO - ======================================================================
2025-10-27 09:40:51,454 - INFO - ======================================================================
2025-10-27 09:40:51,455 - INFO - STARTING DATAFORSEO COLLECTION
2025-10-27 09:40:51,455 - INFO - ======================================================================
2025-10-27 09:40:51,456 - INFO - [CONFIG] Location Code: 2840
2025-10-27 09:40:51,456 - INFO - [CONFIG] Language Code: en
2025-10-27 09:40:51,457 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-27 09:40:51,457 - INFO - [API] Initialized with 60s timeout
2025-10-27 09:40:51,457 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 09:40:51,552 - INFO - [DB] Connection successful
2025-10-27 09:40:51,591 - INFO - [DB] Tables verified
2025-10-27 09:40:51,591 - INFO - ======================================================================
2025-10-27 09:40:51,591 - INFO - [COLLECT] Keyword: laptop
2025-10-27 09:40:51,592 - INFO - [API] Submitting task: keyword='laptop', location='United States', language='English'
2025-10-27 09:40:52,539 - INFO - [API] Task submitted successfully. task_id=10270610-1177-0209-0000-a053141e1d0a
2025-10-27 09:40:52,539 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 09:41:51,818 - INFO - ======================================================================
2025-10-27 09:41:51,818 - INFO - STARTING DATAFORSEO COLLECTION
2025-10-27 09:41:51,818 - INFO - ======================================================================
2025-10-27 09:41:51,819 - INFO - [CONFIG] Location Code: 2356
2025-10-27 09:41:51,819 - INFO - [CONFIG] Language Code: en
2025-10-27 09:41:51,819 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-27 09:41:51,820 - INFO - [API] Initialized with 60s timeout
2025-10-27 09:41:51,820 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 09:41:51,910 - INFO - [DB] Connection successful
2025-10-27 09:41:51,949 - INFO - [DB] Tables verified
2025-10-27 09:41:51,950 - INFO - ======================================================================
2025-10-27 09:41:51,950 - INFO - [COLLECT] Keyword: laptop
2025-10-27 09:41:51,951 - INFO - [API] Submitting task: keyword='laptop', location='India', language='English'
2025-10-27 09:41:52,885 - INFO - [API] Task submitted successfully. task_id=10270611-1177-0209-0000-b2dac7f07ad9
2025-10-27 09:41:52,885 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 09:44:52,883 - INFO - [API] Fetching results for task_id=10270611-1177-0209-0000-b2dac7f07ad9
2025-10-27 09:44:53,884 - WARNING - [API] Task status: 40401 (not ready)
2025-10-27 09:44:53,884 - ERROR - [FAILED] Could not retrieve results
2025-10-27 09:44:53,884 - INFO - ======================================================================
2025-10-27 09:44:53,884 - INFO - [COLLECT] Keyword: smartphone
2025-10-27 09:44:53,884 - INFO - [API] Submitting task: keyword='smartphone', location='India', language='English'
2025-10-27 09:44:54,148 - INFO - [API] Task submitted successfully. task_id=10270614-1177-0209-0000-9f9aba75a268
2025-10-27 09:44:54,148 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 09:47:54,110 - INFO - [API] Fetching results for task_id=10270614-1177-0209-0000-9f9aba75a268
2025-10-27 09:47:56,062 - WARNING - [API] Task status: 40401 (not ready)
2025-10-27 09:47:56,065 - ERROR - [FAILED] Could not retrieve results
2025-10-27 09:47:56,066 - INFO - ======================================================================
2025-10-27 09:47:56,066 - INFO - [COLLECT] Keyword: headphones
2025-10-27 09:47:56,067 - INFO - [API] Submitting task: keyword='headphones', location='India', language='English'
2025-10-27 09:47:56,287 - INFO - [API] Task submitted successfully. task_id=10270617-1177-0209-0000-5b727982c74d
2025-10-27 09:47:56,287 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 09:50:56,251 - INFO - [API] Fetching results for task_id=10270617-1177-0209-0000-5b727982c74d
2025-10-27 09:50:58,348 - WARNING - [API] Task status: 40401 (not ready)
2025-10-27 09:50:58,351 - ERROR - [FAILED] Could not retrieve results
2025-10-27 09:50:58,351 - INFO - ======================================================================
2025-10-27 09:50:58,352 - INFO - [COLLECT] Keyword: smartwatch
2025-10-27 09:50:58,353 - INFO - [API] Submitting task: keyword='smartwatch', location='India', language='English'
2025-10-27 09:50:58,571 - INFO - [API] Task submitted successfully. task_id=10270620-1177-0209-0000-ce12ba04e947
2025-10-27 09:50:58,571 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 09:53:58,534 - INFO - [API] Fetching results for task_id=10270620-1177-0209-0000-ce12ba04e947
2025-10-27 09:54:00,539 - WARNING - [API] Task status: 40401 (not ready)
2025-10-27 09:54:00,540 - ERROR - [FAILED] Could not retrieve results
2025-10-27 09:54:00,540 - INFO - ======================================================================
2025-10-27 09:54:00,541 - INFO - [COLLECT] Keyword: tablet
2025-10-27 09:54:00,542 - INFO - [API] Submitting task: keyword='tablet', location='India', language='English'
2025-10-27 09:54:00,757 - INFO - [API] Task submitted successfully. task_id=10270623-1177-0209-0000-e8139fb06260
2025-10-27 09:54:00,757 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 09:57:00,720 - INFO - [API] Fetching results for task_id=10270623-1177-0209-0000-e8139fb06260
2025-10-27 09:57:02,874 - WARNING - [API] Task status: 40401 (not ready)
2025-10-27 09:57:02,875 - ERROR - [FAILED] Could not retrieve results
2025-10-27 09:57:02,876 - INFO - [DB] Disconnected
2025-10-27 09:57:02,878 - INFO - ======================================================================
2025-10-27 09:57:02,878 - INFO - [COMPLETE] Collection finished
2025-10-27 09:57:02,879 - INFO - [STATS] Success: 0/5
2025-10-27 09:57:02,881 - INFO - [STATS] Total products: 0
2025-10-27 09:57:02,882 - INFO - ======================================================================
2025-10-27 10:05:10,350 - INFO - ======================================================================
2025-10-27 10:05:10,350 - INFO - STARTING DATAFORSEO COLLECTION
2025-10-27 10:05:10,350 - INFO - ======================================================================
2025-10-27 10:05:10,352 - INFO - [CONFIG] Location Code: 2356
2025-10-27 10:05:10,352 - INFO - [CONFIG] Language Code: en
2025-10-27 10:05:10,352 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-27 10:05:10,352 - INFO - [API] Initialized with 60s timeout
2025-10-27 10:05:10,352 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 10:05:10,435 - INFO - [DB] Connection successful
2025-10-27 10:05:10,469 - INFO - [DB] Tables verified
2025-10-27 10:05:10,469 - INFO - ======================================================================
2025-10-27 10:05:10,469 - INFO - [COLLECT] Keyword: laptop
2025-10-27 10:05:10,469 - INFO - [API] Submitting task: keyword='laptop', location='India', language='English'
2025-10-27 10:05:11,338 - INFO - [API] Task submitted successfully. task_id=10270635-1177-0209-0000-9cc16b6555c4
2025-10-27 10:05:11,338 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:05:39,793 - INFO - [API] Initialized with 60s timeout
2025-10-27 10:05:39,794 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 10:05:39,885 - INFO - [DB] Connection successful
2025-10-27 10:05:39,922 - INFO - [DB] Tables verified
2025-10-27 10:05:39,922 - INFO - ======================================================================
2025-10-27 10:05:39,922 - INFO - [COLLECT] Keyword: laptop
2025-10-27 10:05:39,923 - INFO - [API] Submitting task: keyword='laptop', location_code=2356, language='English'
2025-10-27 10:05:40,715 - INFO - [API] Task submitted successfully. task_id=10270635-1177-0209-0000-93981dc66ab8
2025-10-27 10:05:40,717 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:08:40,690 - INFO - [API] Fetching results for task_id=10270635-1177-0209-0000-93981dc66ab8
2025-10-27 10:08:42,805 - INFO - [API] Results ready for 10270635-1177-0209-0000-93981dc66ab8
2025-10-27 10:08:42,809 - INFO - [DONE] 0 products saved for 'laptop'
2025-10-27 10:08:42,809 - INFO - ======================================================================
2025-10-27 10:08:42,809 - INFO - [COLLECT] Keyword: smartphone
2025-10-27 10:08:42,810 - INFO - [API] Submitting task: keyword='smartphone', location_code=2356, language='English'
2025-10-27 10:08:43,022 - INFO - [API] Task submitted successfully. task_id=10270638-1177-0209-0000-2d3caa353f44
2025-10-27 10:08:43,023 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:11:42,996 - INFO - [API] Fetching results for task_id=10270638-1177-0209-0000-2d3caa353f44
2025-10-27 10:11:45,317 - INFO - [API] Results ready for 10270638-1177-0209-0000-2d3caa353f44
2025-10-27 10:11:45,324 - INFO - [DONE] 0 products saved for 'smartphone'
2025-10-27 10:11:45,325 - INFO - ======================================================================
2025-10-27 10:11:45,325 - INFO - [COLLECT] Keyword: headphones
2025-10-27 10:11:45,327 - INFO - [API] Submitting task: keyword='headphones', location_code=2356, language='English'
2025-10-27 10:11:45,549 - INFO - [API] Task submitted successfully. task_id=10270641-1177-0209-0000-4ec56ec7c1d3
2025-10-27 10:11:45,550 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:14:45,524 - INFO - [API] Fetching results for task_id=10270641-1177-0209-0000-4ec56ec7c1d3
2025-10-27 10:14:48,671 - INFO - [API] Results ready for 10270641-1177-0209-0000-4ec56ec7c1d3
2025-10-27 10:14:48,674 - INFO - [DONE] 0 products saved for 'headphones'
2025-10-27 10:14:48,675 - INFO - ======================================================================
2025-10-27 10:14:48,676 - INFO - [COLLECT] Keyword: smartwatch
2025-10-27 10:14:48,676 - INFO - [API] Submitting task: keyword='smartwatch', location_code=2356, language='English'
2025-10-27 10:14:48,896 - INFO - [API] Task submitted successfully. task_id=10270644-1177-0209-0000-5ccba3a28379
2025-10-27 10:14:48,897 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:17:48,870 - INFO - [API] Fetching results for task_id=10270644-1177-0209-0000-5ccba3a28379
2025-10-27 10:17:51,002 - INFO - [API] Results ready for 10270644-1177-0209-0000-5ccba3a28379
2025-10-27 10:17:51,008 - INFO - [DONE] 0 products saved for 'smartwatch'
2025-10-27 10:17:51,009 - INFO - ======================================================================
2025-10-27 10:17:51,010 - INFO - [COLLECT] Keyword: tablet
2025-10-27 10:17:51,010 - INFO - [API] Submitting task: keyword='tablet', location_code=2356, language='English'
2025-10-27 10:17:51,228 - INFO - [API] Task submitted successfully. task_id=10270647-1177-0209-0000-83e2c83a7adc
2025-10-27 10:17:51,230 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:20:51,209 - INFO - [API] Fetching results for task_id=10270647-1177-0209-0000-83e2c83a7adc
2025-10-27 10:20:53,418 - INFO - [API] Results ready for 10270647-1177-0209-0000-83e2c83a7adc
2025-10-27 10:20:53,422 - INFO - [DONE] 0 products saved for 'tablet'
2025-10-27 10:20:53,425 - INFO - [DB] Disconnected
2025-10-27 10:20:53,426 - INFO - [COMPLETE] All keywords processed.
2025-10-27 10:25:09,994 - INFO - [API] Initialized with 60s timeout
2025-10-27 10:25:09,994 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 10:25:10,070 - INFO - [DB] Connection successful
2025-10-27 10:25:10,103 - INFO - [DB] Tables verified
2025-10-27 10:25:10,103 - INFO - ======================================================================
2025-10-27 10:25:10,103 - INFO - [COLLECT] Keyword: laptop
2025-10-27 10:25:10,104 - INFO - [API] Submitting task: keyword='laptop', location_code=284991475, language='English'
2025-10-27 10:25:10,913 - INFO - [API] Task submitted successfully. task_id=10270655-1177-0209-0000-3c12c0853e8c
2025-10-27 10:25:10,914 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:28:10,895 - INFO - [API] Fetching results for task_id=10270655-1177-0209-0000-3c12c0853e8c
2025-10-27 10:28:11,678 - INFO - [API] Results ready for 10270655-1177-0209-0000-3c12c0853e8c
2025-10-27 10:28:11,679 - INFO - [DONE] 0 products saved for 'laptop'
2025-10-27 10:28:11,679 - INFO - ======================================================================
2025-10-27 10:28:11,679 - INFO - [COLLECT] Keyword: smartphone
2025-10-27 10:28:11,679 - INFO - [API] Submitting task: keyword='smartphone', location_code=284991475, language='English'
2025-10-27 10:28:11,877 - INFO - [API] Task submitted successfully. task_id=10270658-1177-0209-0000-88c00bf2f11f
2025-10-27 10:28:11,877 - INFO - [WAIT] Waiting 180 seconds...
2025-10-27 10:41:59,420 - INFO - [API] Initialized with 90s timeout
2025-10-27 10:41:59,422 - INFO - [TEST] Testing API connection...
2025-10-27 10:41:59,422 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 10:41:59,506 - INFO - [DB] Connection successful
2025-10-27 10:41:59,507 - INFO - [TEST]  Database connection successful
2025-10-27 10:41:59,509 - INFO - [DB] Disconnected
2025-10-27 10:42:06,774 - INFO - [API] Initialized with 90s timeout
2025-10-27 10:42:06,774 - INFO - ======================================================================
2025-10-27 10:42:06,774 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 10:42:06,774 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 10:42:06,774 - INFO - ======================================================================
2025-10-27 10:42:06,775 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 10:42:06,843 - INFO - [DB] Connection successful
2025-10-27 10:42:06,878 - INFO - [DB] Tables verified
2025-10-27 10:42:06,879 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 10:42:06,879 - INFO - ======================================================================
2025-10-27 10:42:06,879 - INFO - [COLLECT] Starting collection for keyword: 'laptop'
2025-10-27 10:42:06,879 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 10:42:06,880 - INFO - [COLLECT] Language: English
2025-10-27 10:42:06,880 - INFO - [COLLECT] Depth: 100
2025-10-27 10:42:06,880 - INFO - ======================================================================
2025-10-27 10:42:06,880 - INFO - [API] Submitting task: keyword='laptop', location_code=284991475, language='English'
2025-10-27 10:42:08,028 - INFO - [API]  Task submitted successfully. task_id=10270712-1177-0209-0000-de675d198270
2025-10-27 10:42:08,028 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 10:45:08,015 - INFO - [API] Polling results for task_id=10270712-1177-0209-0000-de675d198270 (attempt 1/3)
2025-10-27 10:45:10,746 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:45:10,746 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 10:45:20,747 - INFO - [API] Polling results for task_id=10270712-1177-0209-0000-de675d198270 (attempt 2/3)
2025-10-27 10:45:20,941 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:45:20,942 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 10:45:30,943 - INFO - [API] Polling results for task_id=10270712-1177-0209-0000-de675d198270 (attempt 3/3)
2025-10-27 10:45:31,353 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:45:31,354 - ERROR - [API]  Gave up after 3 retries for task_id=10270712-1177-0209-0000-de675d198270
2025-10-27 10:45:31,356 - ERROR - [COLLECT]  Could not retrieve results for 'laptop'
2025-10-27 10:45:31,359 - INFO - 
[PROGRESS] Processing keyword 2/7
2025-10-27 10:45:31,360 - INFO - ======================================================================
2025-10-27 10:45:31,361 - INFO - [COLLECT] Starting collection for keyword: 'smartphone'
2025-10-27 10:45:31,362 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 10:45:31,365 - INFO - [COLLECT] Language: English
2025-10-27 10:45:31,365 - INFO - [COLLECT] Depth: 100
2025-10-27 10:45:31,366 - INFO - ======================================================================
2025-10-27 10:45:31,367 - INFO - [API] Submitting task: keyword='smartphone', location_code=284991475, language='English'
2025-10-27 10:45:31,598 - INFO - [API]  Task submitted successfully. task_id=10270715-1177-0209-0000-9b34e6466e93
2025-10-27 10:45:31,602 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 10:48:31,589 - INFO - [API] Polling results for task_id=10270715-1177-0209-0000-9b34e6466e93 (attempt 1/3)
2025-10-27 10:48:34,097 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:48:34,099 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 10:48:44,101 - INFO - [API] Polling results for task_id=10270715-1177-0209-0000-9b34e6466e93 (attempt 2/3)
2025-10-27 10:48:44,330 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:48:44,330 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 10:48:54,330 - INFO - [API] Polling results for task_id=10270715-1177-0209-0000-9b34e6466e93 (attempt 3/3)
2025-10-27 10:48:54,575 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:48:54,577 - ERROR - [API]  Gave up after 3 retries for task_id=10270715-1177-0209-0000-9b34e6466e93
2025-10-27 10:48:54,578 - ERROR - [COLLECT]  Could not retrieve results for 'smartphone'
2025-10-27 10:48:54,579 - INFO - 
[PROGRESS] Processing keyword 3/7
2025-10-27 10:48:54,580 - INFO - ======================================================================
2025-10-27 10:48:54,581 - INFO - [COLLECT] Starting collection for keyword: 'headphones'
2025-10-27 10:48:54,585 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 10:48:54,587 - INFO - [COLLECT] Language: English
2025-10-27 10:48:54,590 - INFO - [COLLECT] Depth: 100
2025-10-27 10:48:54,591 - INFO - ======================================================================
2025-10-27 10:48:54,592 - INFO - [API] Submitting task: keyword='headphones', location_code=284991475, language='English'
2025-10-27 10:48:54,847 - INFO - [API]  Task submitted successfully. task_id=10270718-1177-0209-0000-2f635d74760e
2025-10-27 10:48:54,849 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 10:51:54,836 - INFO - [API] Polling results for task_id=10270718-1177-0209-0000-2f635d74760e (attempt 1/3)
2025-10-27 10:51:57,003 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:51:57,003 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 10:52:07,004 - INFO - [API] Polling results for task_id=10270718-1177-0209-0000-2f635d74760e (attempt 2/3)
2025-10-27 10:52:07,247 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:52:07,247 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 10:52:17,248 - INFO - [API] Polling results for task_id=10270718-1177-0209-0000-2f635d74760e (attempt 3/3)
2025-10-27 10:52:17,467 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 10:52:17,468 - ERROR - [API]  Gave up after 3 retries for task_id=10270718-1177-0209-0000-2f635d74760e
2025-10-27 10:52:17,469 - ERROR - [COLLECT]  Could not retrieve results for 'headphones'
2025-10-27 10:52:17,469 - INFO - 
[PROGRESS] Processing keyword 4/7
2025-10-27 10:52:17,470 - INFO - ======================================================================
2025-10-27 10:52:17,471 - INFO - [COLLECT] Starting collection for keyword: 'smartwatch'
2025-10-27 10:52:17,472 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 10:52:17,476 - INFO - [COLLECT] Language: English
2025-10-27 10:52:17,477 - INFO - [COLLECT] Depth: 100
2025-10-27 10:52:17,478 - INFO - ======================================================================
2025-10-27 10:52:17,480 - INFO - [API] Submitting task: keyword='smartwatch', location_code=284991475, language='English'
2025-10-27 10:52:17,669 - INFO - [API]  Task submitted successfully. task_id=10270722-1177-0209-0000-00c6ab8a1f1c
2025-10-27 10:52:17,670 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:02:57,317 - INFO - [API] Initialized with 90s timeout
2025-10-27 11:02:57,317 - INFO - ======================================================================
2025-10-27 11:02:57,317 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 11:02:57,318 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 11:02:57,318 - INFO - ======================================================================
2025-10-27 11:02:57,318 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 11:02:57,446 - INFO - [DB] Connection successful
2025-10-27 11:02:57,514 - INFO - [DB] Tables verified
2025-10-27 11:02:57,515 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 11:02:57,515 - INFO - ======================================================================
2025-10-27 11:02:57,515 - INFO - [COLLECT] Starting collection for keyword: 'laptop'
2025-10-27 11:02:57,515 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 11:02:57,515 - INFO - [COLLECT] Language: English
2025-10-27 11:02:57,515 - INFO - [COLLECT] Depth: 100
2025-10-27 11:02:57,515 - INFO - ======================================================================
2025-10-27 11:02:57,515 - INFO - [API] Submitting task: keyword='laptop', location_code=284991475, language='English'
2025-10-27 11:02:58,599 - INFO - [API]  Task submitted successfully. task_id=10270732-1177-0209-0000-148e676a07d1
2025-10-27 11:02:58,599 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:05:58,590 - INFO - [API] Polling results for task_id=10270732-1177-0209-0000-148e676a07d1 (attempt 1/3)
2025-10-27 11:05:59,428 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:05:59,429 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:06:09,429 - INFO - [API] Polling results for task_id=10270732-1177-0209-0000-148e676a07d1 (attempt 2/3)
2025-10-27 11:06:09,657 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:06:09,658 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:06:19,658 - INFO - [API] Polling results for task_id=10270732-1177-0209-0000-148e676a07d1 (attempt 3/3)
2025-10-27 11:06:19,903 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:06:19,903 - ERROR - [API]  Gave up after 3 retries for task_id=10270732-1177-0209-0000-148e676a07d1
2025-10-27 11:06:19,903 - ERROR - [COLLECT]  Could not retrieve results for 'laptop'
2025-10-27 11:06:19,903 - INFO - 
[PROGRESS] Processing keyword 2/7
2025-10-27 11:06:19,903 - INFO - ======================================================================
2025-10-27 11:06:19,903 - INFO - [COLLECT] Starting collection for keyword: 'smartphone'
2025-10-27 11:06:19,903 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 11:06:19,903 - INFO - [COLLECT] Language: English
2025-10-27 11:06:19,903 - INFO - [COLLECT] Depth: 100
2025-10-27 11:06:19,903 - INFO - ======================================================================
2025-10-27 11:06:19,903 - INFO - [API] Submitting task: keyword='smartphone', location_code=284991475, language='English'
2025-10-27 11:06:20,127 - INFO - [API]  Task submitted successfully. task_id=10270736-1177-0209-0000-fae4b6642e55
2025-10-27 11:06:20,127 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:09:20,118 - INFO - [API] Polling results for task_id=10270736-1177-0209-0000-fae4b6642e55 (attempt 1/3)
2025-10-27 11:09:22,535 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:09:22,536 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:09:32,536 - INFO - [API] Polling results for task_id=10270736-1177-0209-0000-fae4b6642e55 (attempt 2/3)
2025-10-27 11:09:32,828 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:09:32,828 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:09:42,828 - INFO - [API] Polling results for task_id=10270736-1177-0209-0000-fae4b6642e55 (attempt 3/3)
2025-10-27 11:09:43,089 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:09:43,090 - ERROR - [API]  Gave up after 3 retries for task_id=10270736-1177-0209-0000-fae4b6642e55
2025-10-27 11:09:43,092 - ERROR - [COLLECT]  Could not retrieve results for 'smartphone'
2025-10-27 11:09:43,092 - INFO - 
[PROGRESS] Processing keyword 3/7
2025-10-27 11:09:43,093 - INFO - ======================================================================
2025-10-27 11:09:43,094 - INFO - [COLLECT] Starting collection for keyword: 'headphones'
2025-10-27 11:09:43,095 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 11:09:43,096 - INFO - [COLLECT] Language: English
2025-10-27 11:09:43,097 - INFO - [COLLECT] Depth: 100
2025-10-27 11:09:43,098 - INFO - ======================================================================
2025-10-27 11:09:43,098 - INFO - [API] Submitting task: keyword='headphones', location_code=284991475, language='English'
2025-10-27 11:09:43,339 - INFO - [API]  Task submitted successfully. task_id=10270739-1177-0209-0000-1f176e4057c2
2025-10-27 11:09:43,340 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:12:43,333 - INFO - [API] Polling results for task_id=10270739-1177-0209-0000-1f176e4057c2 (attempt 1/3)
2025-10-27 11:12:45,697 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:12:45,698 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:12:55,699 - INFO - [API] Polling results for task_id=10270739-1177-0209-0000-1f176e4057c2 (attempt 2/3)
2025-10-27 11:12:55,999 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:12:56,001 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:13:06,002 - INFO - [API] Polling results for task_id=10270739-1177-0209-0000-1f176e4057c2 (attempt 3/3)
2025-10-27 11:13:06,245 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:13:06,246 - ERROR - [API]  Gave up after 3 retries for task_id=10270739-1177-0209-0000-1f176e4057c2
2025-10-27 11:13:06,247 - ERROR - [COLLECT]  Could not retrieve results for 'headphones'
2025-10-27 11:13:06,248 - INFO - 
[PROGRESS] Processing keyword 4/7
2025-10-27 11:13:06,248 - INFO - ======================================================================
2025-10-27 11:13:06,249 - INFO - [COLLECT] Starting collection for keyword: 'smartwatch'
2025-10-27 11:13:06,249 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 11:13:06,250 - INFO - [COLLECT] Language: English
2025-10-27 11:13:06,251 - INFO - [COLLECT] Depth: 100
2025-10-27 11:13:06,252 - INFO - ======================================================================
2025-10-27 11:13:06,253 - INFO - [API] Submitting task: keyword='smartwatch', location_code=284991475, language='English'
2025-10-27 11:13:06,462 - INFO - [API]  Task submitted successfully. task_id=10270743-1177-0209-0000-f8efc10cbb49
2025-10-27 11:13:06,463 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:16:06,456 - INFO - [API] Polling results for task_id=10270743-1177-0209-0000-f8efc10cbb49 (attempt 1/3)
2025-10-27 11:16:07,389 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:16:07,390 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:16:17,390 - INFO - [API] Polling results for task_id=10270743-1177-0209-0000-f8efc10cbb49 (attempt 2/3)
2025-10-27 11:16:17,671 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:16:17,671 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:16:27,671 - INFO - [API] Polling results for task_id=10270743-1177-0209-0000-f8efc10cbb49 (attempt 3/3)
2025-10-27 11:16:27,945 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:16:27,945 - ERROR - [API]  Gave up after 3 retries for task_id=10270743-1177-0209-0000-f8efc10cbb49
2025-10-27 11:16:27,945 - ERROR - [COLLECT]  Could not retrieve results for 'smartwatch'
2025-10-27 11:16:27,945 - INFO - 
[PROGRESS] Processing keyword 5/7
2025-10-27 11:16:27,945 - INFO - ======================================================================
2025-10-27 11:16:27,945 - INFO - [COLLECT] Starting collection for keyword: 'tablet'
2025-10-27 11:16:27,945 - INFO - [COLLECT] Location: India (code: 284991475)
2025-10-27 11:16:27,946 - INFO - [COLLECT] Language: English
2025-10-27 11:16:27,946 - INFO - [COLLECT] Depth: 100
2025-10-27 11:16:27,946 - INFO - ======================================================================
2025-10-27 11:16:27,946 - INFO - [API] Submitting task: keyword='tablet', location_code=284991475, language='English'
2025-10-27 11:16:28,214 - INFO - [API]  Task submitted successfully. task_id=10270746-1177-0209-0000-cc553227b6bb
2025-10-27 11:16:28,214 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:18:05,670 - INFO - [API] Initialized with 90s timeout
2025-10-27 11:18:05,670 - INFO - ======================================================================
2025-10-27 11:18:05,670 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 11:18:05,670 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 11:18:05,671 - INFO - ======================================================================
2025-10-27 11:18:05,671 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 11:18:05,812 - INFO - [DB] Connection successful
2025-10-27 11:18:05,864 - INFO - [DB] Tables verified
2025-10-27 11:18:05,864 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 11:18:05,864 - INFO - ======================================================================
2025-10-27 11:18:05,864 - INFO - [COLLECT] Starting collection for keyword: 'laptop'
2025-10-27 11:18:05,864 - INFO - [COLLECT] Location: India (code: 1010091)
2025-10-27 11:18:05,864 - INFO - [COLLECT] Language: English
2025-10-27 11:18:05,864 - INFO - [COLLECT] Depth: 100
2025-10-27 11:18:05,864 - INFO - ======================================================================
2025-10-27 11:18:05,864 - INFO - [API] Submitting task: keyword='laptop', location_code=1010091, language='English'
2025-10-27 11:18:06,740 - INFO - [API]  Task submitted successfully. task_id=10270748-1177-0209-0000-87e9bb467dc5
2025-10-27 11:18:06,741 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:21:06,734 - INFO - [API] Polling results for task_id=10270748-1177-0209-0000-87e9bb467dc5 (attempt 1/3)
2025-10-27 11:21:09,412 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:21:09,414 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:21:19,415 - INFO - [API] Polling results for task_id=10270748-1177-0209-0000-87e9bb467dc5 (attempt 2/3)
2025-10-27 11:21:19,644 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:21:19,645 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:21:29,645 - INFO - [API] Polling results for task_id=10270748-1177-0209-0000-87e9bb467dc5 (attempt 3/3)
2025-10-27 11:21:29,907 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:21:29,907 - ERROR - [API]  Gave up after 3 retries for task_id=10270748-1177-0209-0000-87e9bb467dc5
2025-10-27 11:21:29,907 - ERROR - [COLLECT]  Could not retrieve results for 'laptop'
2025-10-27 11:21:29,907 - INFO - 
[PROGRESS] Processing keyword 2/7
2025-10-27 11:21:29,907 - INFO - ======================================================================
2025-10-27 11:21:29,907 - INFO - [COLLECT] Starting collection for keyword: 'smartphone'
2025-10-27 11:21:29,908 - INFO - [COLLECT] Location: India (code: 1010091)
2025-10-27 11:21:29,908 - INFO - [COLLECT] Language: English
2025-10-27 11:21:29,908 - INFO - [COLLECT] Depth: 100
2025-10-27 11:21:29,908 - INFO - ======================================================================
2025-10-27 11:21:29,908 - INFO - [API] Submitting task: keyword='smartphone', location_code=1010091, language='English'
2025-10-27 11:21:30,146 - INFO - [API]  Task submitted successfully. task_id=10270751-1177-0209-0000-ff23a13cb5f3
2025-10-27 11:21:30,146 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:24:30,140 - INFO - [API] Polling results for task_id=10270751-1177-0209-0000-ff23a13cb5f3 (attempt 1/3)
2025-10-27 11:24:32,357 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:24:32,359 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:24:42,361 - INFO - [API] Polling results for task_id=10270751-1177-0209-0000-ff23a13cb5f3 (attempt 2/3)
2025-10-27 11:24:42,617 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:24:42,618 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:24:52,618 - INFO - [API] Polling results for task_id=10270751-1177-0209-0000-ff23a13cb5f3 (attempt 3/3)
2025-10-27 11:24:52,872 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:24:52,872 - ERROR - [API]  Gave up after 3 retries for task_id=10270751-1177-0209-0000-ff23a13cb5f3
2025-10-27 11:24:52,873 - ERROR - [COLLECT]  Could not retrieve results for 'smartphone'
2025-10-27 11:24:52,873 - INFO - 
[PROGRESS] Processing keyword 3/7
2025-10-27 11:24:52,874 - INFO - ======================================================================
2025-10-27 11:24:52,875 - INFO - [COLLECT] Starting collection for keyword: 'headphones'
2025-10-27 11:24:52,875 - INFO - [COLLECT] Location: India (code: 1010091)
2025-10-27 11:24:52,876 - INFO - [COLLECT] Language: English
2025-10-27 11:24:52,876 - INFO - [COLLECT] Depth: 100
2025-10-27 11:24:52,877 - INFO - ======================================================================
2025-10-27 11:24:52,878 - INFO - [API] Submitting task: keyword='headphones', location_code=1010091, language='English'
2025-10-27 11:24:53,140 - INFO - [API]  Task submitted successfully. task_id=10270754-1177-0209-0000-5dde0470fd98
2025-10-27 11:24:53,140 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:27:53,135 - INFO - [API] Polling results for task_id=10270754-1177-0209-0000-5dde0470fd98 (attempt 1/3)
2025-10-27 11:27:54,047 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:27:54,047 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:28:04,048 - INFO - [API] Polling results for task_id=10270754-1177-0209-0000-5dde0470fd98 (attempt 2/3)
2025-10-27 11:28:04,242 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:28:04,242 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:28:14,243 - INFO - [API] Polling results for task_id=10270754-1177-0209-0000-5dde0470fd98 (attempt 3/3)
2025-10-27 11:28:14,461 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:28:14,462 - ERROR - [API]  Gave up after 3 retries for task_id=10270754-1177-0209-0000-5dde0470fd98
2025-10-27 11:28:14,462 - ERROR - [COLLECT]  Could not retrieve results for 'headphones'
2025-10-27 11:28:14,462 - INFO - 
[PROGRESS] Processing keyword 4/7
2025-10-27 11:28:14,462 - INFO - ======================================================================
2025-10-27 11:28:14,462 - INFO - [COLLECT] Starting collection for keyword: 'smartwatch'
2025-10-27 11:28:14,463 - INFO - [COLLECT] Location: India (code: 1010091)
2025-10-27 11:28:14,463 - INFO - [COLLECT] Language: English
2025-10-27 11:28:14,463 - INFO - [COLLECT] Depth: 100
2025-10-27 11:28:14,463 - INFO - ======================================================================
2025-10-27 11:28:14,463 - INFO - [API] Submitting task: keyword='smartwatch', location_code=1010091, language='English'
2025-10-27 11:28:14,675 - INFO - [API]  Task submitted successfully. task_id=10270758-1177-0209-0000-1695a81873d5
2025-10-27 11:28:14,675 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:31:14,670 - INFO - [API] Polling results for task_id=10270758-1177-0209-0000-1695a81873d5 (attempt 1/3)
2025-10-27 11:31:15,530 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:31:15,530 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:31:25,530 - INFO - [API] Polling results for task_id=10270758-1177-0209-0000-1695a81873d5 (attempt 2/3)
2025-10-27 11:31:25,771 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:31:25,771 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:31:35,772 - INFO - [API] Polling results for task_id=10270758-1177-0209-0000-1695a81873d5 (attempt 3/3)
2025-10-27 11:31:35,997 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:31:35,998 - ERROR - [API]  Gave up after 3 retries for task_id=10270758-1177-0209-0000-1695a81873d5
2025-10-27 11:31:35,998 - ERROR - [COLLECT]  Could not retrieve results for 'smartwatch'
2025-10-27 11:31:35,998 - INFO - 
[PROGRESS] Processing keyword 5/7
2025-10-27 11:31:35,998 - INFO - ======================================================================
2025-10-27 11:31:35,998 - INFO - [COLLECT] Starting collection for keyword: 'tablet'
2025-10-27 11:31:35,999 - INFO - [COLLECT] Location: India (code: 1010091)
2025-10-27 11:31:35,999 - INFO - [COLLECT] Language: English
2025-10-27 11:31:35,999 - INFO - [COLLECT] Depth: 100
2025-10-27 11:31:35,999 - INFO - ======================================================================
2025-10-27 11:31:36,000 - INFO - [API] Submitting task: keyword='tablet', location_code=1010091, language='English'
2025-10-27 11:31:36,189 - INFO - [API]  Task submitted successfully. task_id=10270801-1177-0209-0000-e383ad704565
2025-10-27 11:31:36,190 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:34:36,185 - INFO - [API] Polling results for task_id=10270801-1177-0209-0000-e383ad704565 (attempt 1/3)
2025-10-27 11:34:37,045 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:34:37,047 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:34:47,048 - INFO - [API] Polling results for task_id=10270801-1177-0209-0000-e383ad704565 (attempt 2/3)
2025-10-27 11:34:47,259 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:34:47,259 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:34:57,259 - INFO - [API] Polling results for task_id=10270801-1177-0209-0000-e383ad704565 (attempt 3/3)
2025-10-27 11:34:57,478 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:34:57,479 - ERROR - [API]  Gave up after 3 retries for task_id=10270801-1177-0209-0000-e383ad704565
2025-10-27 11:34:57,479 - ERROR - [COLLECT]  Could not retrieve results for 'tablet'
2025-10-27 11:34:57,479 - INFO - 
[PROGRESS] Processing keyword 6/7
2025-10-27 11:34:57,479 - INFO - ======================================================================
2025-10-27 11:34:57,480 - INFO - [COLLECT] Starting collection for keyword: 'wireless earbuds'
2025-10-27 11:34:57,480 - INFO - [COLLECT] Location: India (code: 1010091)
2025-10-27 11:34:57,480 - INFO - [COLLECT] Language: English
2025-10-27 11:34:57,480 - INFO - [COLLECT] Depth: 100
2025-10-27 11:34:57,480 - INFO - ======================================================================
2025-10-27 11:34:57,481 - INFO - [API] Submitting task: keyword='wireless earbuds', location_code=1010091, language='English'
2025-10-27 11:34:57,672 - INFO - [API]  Task submitted successfully. task_id=10270804-1177-0209-0000-38b78ce2e05f
2025-10-27 11:34:57,672 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:35:03,096 - INFO - [API] Initialized with 90s timeout
2025-10-27 11:35:03,097 - INFO - ======================================================================
2025-10-27 11:35:03,097 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 11:35:03,097 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 11:35:03,097 - INFO - ======================================================================
2025-10-27 11:35:03,097 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 11:35:03,253 - INFO - [DB] Connection successful
2025-10-27 11:35:03,327 - INFO - [DB] Tables verified
2025-10-27 11:35:03,327 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 11:35:03,327 - INFO - ======================================================================
2025-10-27 11:35:03,327 - INFO - [COLLECT] Starting collection for keyword: 'laptop'
2025-10-27 11:35:03,327 - INFO - [COLLECT] Location: India (code: 2356)
2025-10-27 11:35:03,328 - INFO - [COLLECT] Language: English
2025-10-27 11:35:03,328 - INFO - [COLLECT] Depth: 100
2025-10-27 11:35:03,328 - INFO - ======================================================================
2025-10-27 11:35:03,328 - INFO - [API] Submitting task: keyword='laptop', location_code=2356, language='English'
2025-10-27 11:35:04,140 - INFO - [API]  Task submitted successfully. task_id=10270805-1177-0209-0000-bbb9b4150bb9
2025-10-27 11:35:04,141 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:36:11,924 - INFO - [API] Initialized with 90s timeout
2025-10-27 11:36:11,925 - INFO - ======================================================================
2025-10-27 11:36:11,925 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 11:36:11,926 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 11:36:11,926 - INFO - ======================================================================
2025-10-27 11:36:11,926 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 11:36:12,060 - INFO - [DB] Connection successful
2025-10-27 11:36:12,114 - INFO - [DB] Tables verified
2025-10-27 11:36:12,114 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 11:36:12,115 - INFO - ======================================================================
2025-10-27 11:36:12,115 - INFO - [COLLECT] Starting collection for keyword: 'laptop'
2025-10-27 11:36:12,115 - INFO - [COLLECT] Location: United State (code: 2356)
2025-10-27 11:36:12,115 - INFO - [COLLECT] Language: English
2025-10-27 11:36:12,115 - INFO - [COLLECT] Depth: 100
2025-10-27 11:36:12,116 - INFO - ======================================================================
2025-10-27 11:36:12,116 - INFO - [API] Submitting task: keyword='laptop', location_code=2356, language='English'
2025-10-27 11:36:12,984 - INFO - [API]  Task submitted successfully. task_id=10270806-1177-0209-0000-4f2ab5823493
2025-10-27 11:36:12,985 - INFO - [WAIT] Initial wait: 180 seconds...
2025-10-27 11:36:49,462 - INFO - [API] Initialized with 90s timeout
2025-10-27 11:36:49,462 - INFO - ======================================================================
2025-10-27 11:36:49,462 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 11:36:49,463 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 11:36:49,463 - INFO - ======================================================================
2025-10-27 11:36:49,463 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 11:36:49,563 - INFO - [DB] Connection successful
2025-10-27 11:36:49,645 - INFO - [DB] Tables verified
2025-10-27 11:36:49,646 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 11:36:49,646 - INFO - ======================================================================
2025-10-27 11:36:49,646 - INFO - [COLLECT] Starting collection for keyword: 'laptop'
2025-10-27 11:36:49,646 - INFO - [COLLECT] Location: United State (code: 2840)
2025-10-27 11:36:49,646 - INFO - [COLLECT] Language: English
2025-10-27 11:36:49,646 - INFO - [COLLECT] Depth: 100
2025-10-27 11:36:49,646 - INFO - ======================================================================
2025-10-27 11:36:49,647 - INFO - [API] Submitting task: keyword='laptop', location_code=2840, language='English'
2025-10-27 11:36:50,565 - INFO - [API]  Task submitted successfully. task_id=10270806-1177-0209-0000-de31aef5dcec
2025-10-27 11:36:50,566 - INFO - [WAIT] Initial wait: 60 seconds...
2025-10-27 11:37:50,565 - INFO - [API] Polling results for task_id=10270806-1177-0209-0000-de31aef5dcec (attempt 1/3)
2025-10-27 11:37:50,824 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:37:50,824 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:38:00,824 - INFO - [API] Polling results for task_id=10270806-1177-0209-0000-de31aef5dcec (attempt 2/3)
2025-10-27 11:38:01,050 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:38:01,050 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:38:11,051 - INFO - [API] Polling results for task_id=10270806-1177-0209-0000-de31aef5dcec (attempt 3/3)
2025-10-27 11:38:11,288 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:38:11,289 - ERROR - [API]  Gave up after 3 retries for task_id=10270806-1177-0209-0000-de31aef5dcec
2025-10-27 11:38:11,289 - ERROR - [COLLECT]  Could not retrieve results for 'laptop'
2025-10-27 11:38:11,290 - INFO - 
[PROGRESS] Processing keyword 2/7
2025-10-27 11:38:11,290 - INFO - ======================================================================
2025-10-27 11:38:11,291 - INFO - [COLLECT] Starting collection for keyword: 'smartphone'
2025-10-27 11:38:11,291 - INFO - [COLLECT] Location: United State (code: 2840)
2025-10-27 11:38:11,291 - INFO - [COLLECT] Language: English
2025-10-27 11:38:11,291 - INFO - [COLLECT] Depth: 100
2025-10-27 11:38:11,292 - INFO - ======================================================================
2025-10-27 11:38:11,292 - INFO - [API] Submitting task: keyword='smartphone', location_code=2840, language='English'
2025-10-27 11:38:11,553 - INFO - [API]  Task submitted successfully. task_id=10270808-1177-0209-0000-a50bd0b226f2
2025-10-27 11:38:11,553 - INFO - [WAIT] Initial wait: 60 seconds...
2025-10-27 11:39:11,552 - INFO - [API] Polling results for task_id=10270808-1177-0209-0000-a50bd0b226f2 (attempt 1/3)
2025-10-27 11:39:11,794 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:39:11,794 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 11:39:21,794 - INFO - [API] Polling results for task_id=10270808-1177-0209-0000-a50bd0b226f2 (attempt 2/3)
2025-10-27 11:39:22,056 - INFO - [API] Task still processing: Task Not Found.
2025-10-27 11:39:22,056 - INFO - [WAIT] Waiting 10 seconds before next poll...
2025-10-27 12:12:12,622 - INFO - [API] Initialized with 90s timeout
2025-10-27 12:12:12,622 - INFO - ======================================================================
2025-10-27 12:12:12,622 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 12:12:12,623 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 12:12:12,623 - INFO - ======================================================================
2025-10-27 12:12:12,623 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 12:14:21,071 - INFO - [API] Initialized with 90s timeout
2025-10-27 12:14:21,072 - INFO - ======================================================================
2025-10-27 12:14:21,072 - INFO - [START] DataForSEO Amazon Product Collector
2025-10-27 12:14:21,072 - INFO - [START] Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 12:14:21,072 - INFO - ======================================================================
2025-10-27 12:14:21,072 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 12:14:31,073 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-27 12:14:33,074 - INFO - [DB] Connecting to database (attempt 2/3)...
2025-10-27 12:14:43,078 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-27 12:14:47,081 - INFO - [DB] Connecting to database (attempt 3/3)...
2025-10-27 12:14:57,155 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: timeout expired

2025-10-27 12:14:57,163 - ERROR - [EXIT] Database connection failed
2025-10-27 12:29:40,368 - INFO - [API] DataForSEO client initialized
2025-10-27 12:29:40,369 - INFO - [JSON] Output directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_output
2025-10-27 12:29:40,369 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-27 12:29:40,473 - INFO - [DB] Connected successfully!
2025-10-27 12:29:40,540 - INFO - [DB] Tables ready
2025-10-27 12:29:40,541 - INFO - [STORAGE] Using PostgreSQL database
2025-10-27 12:29:40,542 - INFO - 
======================================================================
2025-10-27 12:29:40,543 - INFO - [START] DATA COLLECTION
2025-10-27 12:29:40,543 - INFO - Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 12:29:40,543 - INFO - Started: 2025-10-27 12:29:40.543714
2025-10-27 12:29:40,543 - INFO - ======================================================================
2025-10-27 12:29:40,544 - INFO - 
======================================================================
2025-10-27 12:29:40,544 - INFO - [COLLECT] Keyword: 'laptop'
2025-10-27 12:29:40,544 - INFO - ======================================================================
2025-10-27 12:29:40,544 - INFO - [API] Submitting task: 'laptop'
2025-10-27 12:29:40,544 - INFO - [API] Location: United States, Language: English
2025-10-27 12:29:41,277 - INFO - [API]  Task submitted: 10270859-1177-0209-0000-1df49963ac22
2025-10-27 12:29:41,277 - INFO - [JSON] Task saved: task_10270859-1177-0209-0000-1df49963ac22.json
2025-10-27 12:29:41,303 - ERROR - [ERROR] Error collecting 'laptop': column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:             (id, keyword, location_name, language_name, stat...
                                  ^

2025-10-27 12:29:41,303 - INFO - 
======================================================================
2025-10-27 12:29:41,303 - INFO - [COLLECT] Keyword: 'smartphone'
2025-10-27 12:29:41,303 - INFO - ======================================================================
2025-10-27 12:29:41,303 - INFO - [API] Submitting task: 'smartphone'
2025-10-27 12:29:41,303 - INFO - [API] Location: United States, Language: English
2025-10-27 12:29:41,847 - INFO - [API]  Task submitted: 10270859-1177-0209-0000-a094ebf40d38
2025-10-27 12:29:41,849 - INFO - [JSON] Task saved: task_10270859-1177-0209-0000-a094ebf40d38.json
2025-10-27 12:29:41,863 - ERROR - [ERROR] Error collecting 'smartphone': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:29:41,864 - INFO - 
======================================================================
2025-10-27 12:29:41,864 - INFO - [COLLECT] Keyword: 'headphones'
2025-10-27 12:29:41,865 - INFO - ======================================================================
2025-10-27 12:29:41,865 - INFO - [API] Submitting task: 'headphones'
2025-10-27 12:29:41,865 - INFO - [API] Location: United States, Language: English
2025-10-27 12:29:42,514 - INFO - [API]  Task submitted: 10270859-1177-0209-0000-598c0ee7b26c
2025-10-27 12:29:42,515 - INFO - [JSON] Task saved: task_10270859-1177-0209-0000-598c0ee7b26c.json
2025-10-27 12:29:42,527 - ERROR - [ERROR] Error collecting 'headphones': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:29:42,528 - INFO - 
======================================================================
2025-10-27 12:29:42,528 - INFO - [COLLECT] Keyword: 'smartwatch'
2025-10-27 12:29:42,528 - INFO - ======================================================================
2025-10-27 12:29:42,529 - INFO - [API] Submitting task: 'smartwatch'
2025-10-27 12:29:42,529 - INFO - [API] Location: United States, Language: English
2025-10-27 12:29:43,179 - INFO - [API]  Task submitted: 10270859-1177-0209-0000-df42431704fb
2025-10-27 12:29:43,180 - INFO - [JSON] Task saved: task_10270859-1177-0209-0000-df42431704fb.json
2025-10-27 12:29:43,193 - ERROR - [ERROR] Error collecting 'smartwatch': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:29:43,194 - INFO - 
======================================================================
2025-10-27 12:29:43,195 - INFO - [COLLECT] Keyword: 'tablet'
2025-10-27 12:29:43,196 - INFO - ======================================================================
2025-10-27 12:29:43,196 - INFO - [API] Submitting task: 'tablet'
2025-10-27 12:29:43,196 - INFO - [API] Location: United States, Language: English
2025-10-27 12:29:43,758 - INFO - [API]  Task submitted: 10270859-1177-0209-0000-7c95bf70e3ea
2025-10-27 12:29:43,759 - INFO - [JSON] Task saved: task_10270859-1177-0209-0000-7c95bf70e3ea.json
2025-10-27 12:29:43,773 - ERROR - [ERROR] Error collecting 'tablet': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:29:43,774 - INFO - 
======================================================================
2025-10-27 12:29:43,774 - INFO - [COLLECT] Keyword: 'wireless earbuds'
2025-10-27 12:29:43,774 - INFO - ======================================================================
2025-10-27 12:29:43,774 - INFO - [API] Submitting task: 'wireless earbuds'
2025-10-27 12:29:43,775 - INFO - [API] Location: United States, Language: English
2025-10-27 12:29:44,406 - INFO - [API]  Task submitted: 10270859-1177-0209-0000-ea85882184ef
2025-10-27 12:29:44,406 - INFO - [JSON] Task saved: task_10270859-1177-0209-0000-ea85882184ef.json
2025-10-27 12:29:44,418 - ERROR - [ERROR] Error collecting 'wireless earbuds': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:29:44,418 - INFO - 
======================================================================
2025-10-27 12:29:44,419 - INFO - [COLLECT] Keyword: 'power bank'
2025-10-27 12:29:44,419 - INFO - ======================================================================
2025-10-27 12:29:44,419 - INFO - [API] Submitting task: 'power bank'
2025-10-27 12:29:44,419 - INFO - [API] Location: United States, Language: English
2025-10-27 12:29:45,091 - INFO - [API]  Task submitted: 10270859-1177-0209-0000-e7c5f1c30774
2025-10-27 12:29:45,093 - INFO - [JSON] Task saved: task_10270859-1177-0209-0000-e7c5f1c30774.json
2025-10-27 12:29:45,107 - ERROR - [ERROR] Error collecting 'power bank': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:29:45,108 - INFO - [JSON] Summary saved: summary_20251027_122945.json
2025-10-27 12:29:45,121 - ERROR - [FATAL] Fatal error: current transaction is aborted, commands ignored until end of transaction block
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 596, in main
    result = collector.collect_all(keywords)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 567, in collect_all
    self.db.update_stats(successful, total_products, total_cost, keywords)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 308, in update_stats
    cursor.execute("""
    ~~~~~~~~~~~~~~^^^^
        INSERT INTO collection_stats
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (total_tasks, total_products, total_cost, keywords_processed)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (%s, %s, %s, %s)
        ^^^^^^^^^^^^^^^^^^^^^^^
    """, (tasks, products, cost, ','.join(keywords)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:31:05,718 - INFO - [API] DataForSEO client initialized
2025-10-27 12:31:05,721 - INFO - [JSON] Output directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_output
2025-10-27 12:31:05,721 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-27 12:31:05,818 - INFO - [DB] Connected successfully!
2025-10-27 12:31:05,883 - INFO - [DB] Tables ready
2025-10-27 12:31:05,884 - INFO - [STORAGE] Using PostgreSQL database
2025-10-27 12:31:05,884 - INFO - 
======================================================================
2025-10-27 12:31:05,884 - INFO - [START] DATA COLLECTION
2025-10-27 12:31:05,884 - INFO - Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 12:31:05,885 - INFO - Started: 2025-10-27 12:31:05.885019
2025-10-27 12:31:05,885 - INFO - ======================================================================
2025-10-27 12:31:05,885 - INFO - 
======================================================================
2025-10-27 12:31:05,885 - INFO - [COLLECT] Keyword: 'laptop'
2025-10-27 12:31:05,886 - INFO - ======================================================================
2025-10-27 12:31:05,886 - INFO - [API] Submitting task: 'laptop'
2025-10-27 12:31:05,886 - INFO - [API] Location: United States, Language: English
2025-10-27 12:31:06,670 - INFO - [API]  Task submitted: 10270901-1177-0209-0000-07aa6b1a3069
2025-10-27 12:31:06,671 - INFO - [JSON] Task saved: task_10270901-1177-0209-0000-07aa6b1a3069.json
2025-10-27 12:31:06,699 - ERROR - [ERROR] Error collecting 'laptop': column "location_name" of relation "dataforseo_tasks" does not exist
LINE 3:             (id, keyword, location_name, language_name, stat...
                                  ^

2025-10-27 12:31:06,699 - INFO - 
======================================================================
2025-10-27 12:31:06,699 - INFO - [COLLECT] Keyword: 'smartphone'
2025-10-27 12:31:06,699 - INFO - ======================================================================
2025-10-27 12:31:06,699 - INFO - [API] Submitting task: 'smartphone'
2025-10-27 12:31:06,699 - INFO - [API] Location: United States, Language: English
2025-10-27 12:31:07,371 - INFO - [API]  Task submitted: 10270901-1177-0209-0000-05e66211438e
2025-10-27 12:31:07,372 - INFO - [JSON] Task saved: task_10270901-1177-0209-0000-05e66211438e.json
2025-10-27 12:31:07,386 - ERROR - [ERROR] Error collecting 'smartphone': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:31:07,386 - INFO - 
======================================================================
2025-10-27 12:31:07,386 - INFO - [COLLECT] Keyword: 'headphones'
2025-10-27 12:31:07,386 - INFO - ======================================================================
2025-10-27 12:31:07,387 - INFO - [API] Submitting task: 'headphones'
2025-10-27 12:31:07,387 - INFO - [API] Location: United States, Language: English
2025-10-27 12:31:08,031 - INFO - [API]  Task submitted: 10270901-1177-0209-0000-8eb421fa4473
2025-10-27 12:31:08,033 - INFO - [JSON] Task saved: task_10270901-1177-0209-0000-8eb421fa4473.json
2025-10-27 12:31:08,051 - ERROR - [ERROR] Error collecting 'headphones': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:31:08,052 - INFO - 
======================================================================
2025-10-27 12:31:08,053 - INFO - [COLLECT] Keyword: 'smartwatch'
2025-10-27 12:31:08,053 - INFO - ======================================================================
2025-10-27 12:31:08,053 - INFO - [API] Submitting task: 'smartwatch'
2025-10-27 12:31:08,053 - INFO - [API] Location: United States, Language: English
2025-10-27 12:31:08,618 - INFO - [API]  Task submitted: 10270901-1177-0209-0000-3aa8a952eb3d
2025-10-27 12:31:08,620 - INFO - [JSON] Task saved: task_10270901-1177-0209-0000-3aa8a952eb3d.json
2025-10-27 12:31:08,635 - ERROR - [ERROR] Error collecting 'smartwatch': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:31:08,635 - INFO - 
======================================================================
2025-10-27 12:31:08,635 - INFO - [COLLECT] Keyword: 'tablet'
2025-10-27 12:31:08,635 - INFO - ======================================================================
2025-10-27 12:31:08,635 - INFO - [API] Submitting task: 'tablet'
2025-10-27 12:31:08,635 - INFO - [API] Location: United States, Language: English
2025-10-27 12:31:09,272 - INFO - [API]  Task submitted: 10270901-1177-0209-0000-f2d9570f97ab
2025-10-27 12:31:09,274 - INFO - [JSON] Task saved: task_10270901-1177-0209-0000-f2d9570f97ab.json
2025-10-27 12:31:09,289 - ERROR - [ERROR] Error collecting 'tablet': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:31:09,289 - INFO - 
======================================================================
2025-10-27 12:31:09,289 - INFO - [COLLECT] Keyword: 'wireless earbuds'
2025-10-27 12:31:09,290 - INFO - ======================================================================
2025-10-27 12:31:09,290 - INFO - [API] Submitting task: 'wireless earbuds'
2025-10-27 12:31:09,290 - INFO - [API] Location: United States, Language: English
2025-10-27 12:31:09,925 - INFO - [API]  Task submitted: 10270901-1177-0209-0000-b2822d7fb7a1
2025-10-27 12:31:09,926 - INFO - [JSON] Task saved: task_10270901-1177-0209-0000-b2822d7fb7a1.json
2025-10-27 12:31:09,938 - ERROR - [ERROR] Error collecting 'wireless earbuds': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:31:09,938 - INFO - 
======================================================================
2025-10-27 12:31:09,938 - INFO - [COLLECT] Keyword: 'power bank'
2025-10-27 12:31:09,938 - INFO - ======================================================================
2025-10-27 12:31:09,939 - INFO - [API] Submitting task: 'power bank'
2025-10-27 12:31:09,939 - INFO - [API] Location: United States, Language: English
2025-10-27 12:31:10,618 - INFO - [API]  Task submitted: 10270901-1177-0209-0000-6063c6f25c53
2025-10-27 12:31:10,625 - INFO - [JSON] Task saved: task_10270901-1177-0209-0000-6063c6f25c53.json
2025-10-27 12:31:10,640 - ERROR - [ERROR] Error collecting 'power bank': current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:31:10,642 - INFO - [JSON] Summary saved: summary_20251027_123110.json
2025-10-27 12:31:10,655 - ERROR - [FATAL] Fatal error: current transaction is aborted, commands ignored until end of transaction block
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 596, in main
    result = collector.collect_all(keywords)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 567, in collect_all
    self.db.update_stats(successful, total_products, total_cost, keywords)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 308, in update_stats
    cursor.execute("""
    ~~~~~~~~~~~~~~^^^^
        INSERT INTO collection_stats
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        (total_tasks, total_products, total_cost, keywords_processed)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        VALUES (%s, %s, %s, %s)
        ^^^^^^^^^^^^^^^^^^^^^^^
    """, (tasks, products, cost, ','.join(keywords)))
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.InFailedSqlTransaction: current transaction is aborted, commands ignored until end of transaction block

2025-10-27 12:37:59,184 - INFO - [API] DataForSEO client initialized
2025-10-27 12:37:59,184 - INFO - 
2025-10-27 12:37:59,184 - INFO - ======================================================================
2025-10-27 12:37:59,184 - INFO - [START] DATA COLLECTION
2025-10-27 12:37:59,184 - INFO - Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 12:37:59,184 - INFO - Started: 2025-10-27 12:37:59.184891
2025-10-27 12:37:59,184 - INFO - ======================================================================
2025-10-27 12:37:59,185 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-27 12:37:59,284 - INFO - [DB]  Connected successfully!
2025-10-27 12:37:59,340 - INFO - [DB] Tables ready
2025-10-27 12:37:59,341 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 12:37:59,341 - INFO - 
2025-10-27 12:37:59,342 - INFO - ======================================================================
2025-10-27 12:37:59,342 - INFO - [COLLECT] Keyword: 'laptop'
2025-10-27 12:37:59,342 - INFO - ======================================================================
2025-10-27 12:37:59,342 - INFO - [API] Submitting task: 'laptop'
2025-10-27 12:37:59,342 - INFO - [API] Location: India, Language: English
2025-10-27 12:38:00,028 - INFO - [API]  Task submitted: 10270908-1177-0209-0000-e20ced07b0e1
2025-10-27 12:38:00,056 - ERROR - [DB] Error saving task: column "location" of relation "dataforseo_tasks" does not exist
LINE 2: ...       INSERT INTO dataforseo_tasks (id, keyword, location, ...
                                                             ^

2025-10-27 12:38:00,068 - INFO - [WAIT] Waiting 120s for processing...
2025-10-27 12:40:00,067 - INFO - [API] Polling results (attempt 1/15)
2025-10-27 12:40:00,781 - INFO - [API] Task status: 40401 (still processing)
2025-10-27 12:40:00,783 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:40:20,788 - INFO - [API] Polling results (attempt 2/15)
2025-10-27 12:40:21,471 - INFO - [API] Task status: 40401 (still processing)
2025-10-27 12:40:21,472 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:40:40,084 - INFO - [API] DataForSEO client initialized
2025-10-27 12:40:40,084 - INFO - 
2025-10-27 12:40:40,084 - INFO - ======================================================================
2025-10-27 12:40:40,085 - INFO - [START] DATA COLLECTION
2025-10-27 12:40:40,085 - INFO - Keywords: laptop, smartphone, headphones, smartwatch, tablet, wireless earbuds, power bank
2025-10-27 12:40:40,085 - INFO - Started: 2025-10-27 12:40:40.085171
2025-10-27 12:40:40,085 - INFO - ======================================================================
2025-10-27 12:40:40,085 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-27 12:40:40,171 - INFO - [DB]  Connected successfully!
2025-10-27 12:40:40,210 - INFO - [DB] Tables ready
2025-10-27 12:40:40,211 - INFO - 
[PROGRESS] Processing keyword 1/7
2025-10-27 12:40:40,211 - INFO - 
2025-10-27 12:40:40,211 - INFO - ======================================================================
2025-10-27 12:40:40,212 - INFO - [COLLECT] Keyword: 'laptop'
2025-10-27 12:40:40,212 - INFO - ======================================================================
2025-10-27 12:40:40,212 - INFO - [API] Submitting task: 'laptop'
2025-10-27 12:40:40,212 - INFO - [API] Location: India, Language: English
2025-10-27 12:40:40,777 - INFO - [API]  Task submitted: 10270910-1177-0209-0000-d45709d494ec
2025-10-27 12:40:40,778 - INFO - [WAIT] Waiting 120s for processing...
2025-10-27 12:42:40,778 - INFO - [API] Polling results (attempt 1/15)
2025-10-27 12:42:41,380 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:42:41,382 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:43:01,383 - INFO - [API] Polling results (attempt 2/15)
2025-10-27 12:43:02,331 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:43:02,332 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:43:22,333 - INFO - [API] Polling results (attempt 3/15)
2025-10-27 12:43:23,241 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:43:23,243 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:43:43,245 - INFO - [API] Polling results (attempt 4/15)
2025-10-27 12:43:44,183 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:43:44,185 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:44:04,187 - INFO - [API] Polling results (attempt 5/15)
2025-10-27 12:44:04,956 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:44:04,956 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:44:24,958 - INFO - [API] Polling results (attempt 6/15)
2025-10-27 12:44:25,805 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:44:25,806 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:44:45,813 - INFO - [API] Polling results (attempt 7/15)
2025-10-27 12:44:46,722 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:44:46,727 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:45:06,731 - INFO - [API] Polling results (attempt 8/15)
2025-10-27 12:45:07,482 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:45:07,484 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:45:27,485 - INFO - [API] Polling results (attempt 9/15)
2025-10-27 12:45:29,158 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:45:29,159 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:45:49,160 - INFO - [API] Polling results (attempt 10/15)
2025-10-27 12:45:49,804 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:45:49,805 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:46:09,806 - INFO - [API] Polling results (attempt 11/15)
2025-10-27 12:46:10,510 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:46:10,512 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:46:30,513 - INFO - [API] Polling results (attempt 12/15)
2025-10-27 12:46:31,153 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:46:31,154 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:46:51,155 - INFO - [API] Polling results (attempt 13/15)
2025-10-27 12:46:51,716 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:46:51,716 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:47:11,717 - INFO - [API] Polling results (attempt 14/15)
2025-10-27 12:47:12,344 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:47:12,345 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:47:32,346 - INFO - [API] Polling results (attempt 15/15)
2025-10-27 12:47:33,138 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:47:33,139 - ERROR - [API]  Gave up after 15 retries
2025-10-27 12:47:33,140 - ERROR - [COLLECT]  Could not retrieve results
2025-10-27 12:47:33,141 - INFO - 
[PROGRESS] Processing keyword 2/7
2025-10-27 12:47:33,142 - INFO - 
2025-10-27 12:47:33,143 - INFO - ======================================================================
2025-10-27 12:47:33,145 - INFO - [COLLECT] Keyword: 'smartphone'
2025-10-27 12:47:33,145 - INFO - ======================================================================
2025-10-27 12:47:33,166 - INFO - [API] Submitting task: 'smartphone'
2025-10-27 12:47:33,167 - INFO - [API] Location: India, Language: English
2025-10-27 12:47:33,920 - INFO - [API]  Task submitted: 10270917-1177-0209-0000-20dd2b60cd53
2025-10-27 12:47:33,920 - INFO - [WAIT] Waiting 120s for processing...
2025-10-27 12:49:33,921 - INFO - [API] Polling results (attempt 1/15)
2025-10-27 12:49:34,597 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:49:34,598 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:49:54,600 - INFO - [API] Polling results (attempt 2/15)
2025-10-27 12:49:55,222 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:49:55,222 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:50:15,223 - INFO - [API] Polling results (attempt 3/15)
2025-10-27 12:50:15,883 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:50:15,886 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:50:35,888 - INFO - [API] Polling results (attempt 4/15)
2025-10-27 12:50:36,530 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:50:36,530 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:50:56,530 - INFO - [API] Polling results (attempt 5/15)
2025-10-27 12:50:57,137 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:50:57,138 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:51:17,139 - INFO - [API] Polling results (attempt 6/15)
2025-10-27 12:51:17,769 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:51:17,770 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:51:37,772 - INFO - [API] Polling results (attempt 7/15)
2025-10-27 12:51:38,428 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:51:38,429 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:51:58,431 - INFO - [API] Polling results (attempt 8/15)
2025-10-27 12:51:59,110 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:51:59,111 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:52:19,112 - INFO - [API] Polling results (attempt 9/15)
2025-10-27 12:52:19,906 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:52:19,908 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:52:39,909 - INFO - [API] Polling results (attempt 10/15)
2025-10-27 12:52:40,678 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:52:40,679 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:53:00,683 - INFO - [API] Polling results (attempt 11/15)
2025-10-27 12:53:01,306 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:53:01,307 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:53:21,308 - INFO - [API] Polling results (attempt 12/15)
2025-10-27 12:53:21,885 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:53:21,886 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:53:41,887 - INFO - [API] Polling results (attempt 13/15)
2025-10-27 12:53:42,528 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:53:42,529 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:54:02,531 - INFO - [API] Polling results (attempt 14/15)
2025-10-27 12:54:03,213 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:54:03,214 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:54:23,215 - INFO - [API] Polling results (attempt 15/15)
2025-10-27 12:54:23,897 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:54:23,900 - ERROR - [API]  Gave up after 15 retries
2025-10-27 12:54:23,901 - ERROR - [COLLECT]  Could not retrieve results
2025-10-27 12:54:23,902 - INFO - 
[PROGRESS] Processing keyword 3/7
2025-10-27 12:54:23,902 - INFO - 
2025-10-27 12:54:23,903 - INFO - ======================================================================
2025-10-27 12:54:23,904 - INFO - [COLLECT] Keyword: 'headphones'
2025-10-27 12:54:23,906 - INFO - ======================================================================
2025-10-27 12:54:23,909 - INFO - [API] Submitting task: 'headphones'
2025-10-27 12:54:23,911 - INFO - [API] Location: India, Language: English
2025-10-27 12:54:24,500 - INFO - [API]  Task submitted: 10270924-1177-0209-0000-2da32b370f59
2025-10-27 12:54:24,501 - INFO - [WAIT] Waiting 120s for processing...
2025-10-27 12:56:24,502 - INFO - [API] Polling results (attempt 1/15)
2025-10-27 12:56:25,211 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:56:25,211 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:56:45,213 - INFO - [API] Polling results (attempt 2/15)
2025-10-27 12:56:45,819 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:56:45,820 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:57:05,821 - INFO - [API] Polling results (attempt 3/15)
2025-10-27 12:57:06,481 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:57:06,482 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:57:26,484 - INFO - [API] Polling results (attempt 4/15)
2025-10-27 12:57:27,111 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:57:27,112 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:57:47,117 - INFO - [API] Polling results (attempt 5/15)
2025-10-27 12:57:47,801 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:57:47,802 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:58:07,803 - INFO - [API] Polling results (attempt 6/15)
2025-10-27 12:58:08,432 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:58:08,433 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:58:28,434 - INFO - [API] Polling results (attempt 7/15)
2025-10-27 12:58:29,040 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:58:29,040 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:58:49,041 - INFO - [API] Polling results (attempt 8/15)
2025-10-27 12:58:49,636 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:58:49,638 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:59:09,640 - INFO - [API] Polling results (attempt 9/15)
2025-10-27 12:59:10,301 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 12:59:10,301 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 12:59:30,302 - INFO - [API] Polling results (attempt 10/15)
2025-10-27 12:59:51,411 - ERROR - [API] Error polling results: [WinError 10065] A socket operation was attempted to an unreachable host
2025-10-27 13:00:11,413 - INFO - [API] Polling results (attempt 11/15)
2025-10-27 13:00:11,479 - ERROR - [API] Error polling results: [Errno 11001] getaddrinfo failed
2025-10-27 13:00:31,482 - INFO - [API] Polling results (attempt 12/15)
2025-10-27 13:00:31,543 - ERROR - [API] Error polling results: [Errno 11001] getaddrinfo failed
2025-10-27 13:00:51,545 - INFO - [API] Polling results (attempt 13/15)
2025-10-27 13:00:51,603 - ERROR - [API] Error polling results: [Errno 11001] getaddrinfo failed
2025-10-27 13:01:11,607 - INFO - [API] Polling results (attempt 14/15)
2025-10-27 13:01:11,668 - ERROR - [API] Error polling results: [Errno 11001] getaddrinfo failed
2025-10-27 13:01:31,670 - INFO - [API] Polling results (attempt 15/15)
2025-10-27 13:01:31,727 - ERROR - [API] Error polling results: [Errno 11001] getaddrinfo failed
2025-10-27 13:01:31,731 - ERROR - [API]  Gave up after 15 retries
2025-10-27 13:01:31,732 - ERROR - [COLLECT]  Could not retrieve results
2025-10-27 13:01:31,733 - INFO - 
[PROGRESS] Processing keyword 4/7
2025-10-27 13:01:31,733 - INFO - 
2025-10-27 13:01:31,736 - INFO - ======================================================================
2025-10-27 13:01:31,738 - INFO - [COLLECT] Keyword: 'smartwatch'
2025-10-27 13:01:31,740 - INFO - ======================================================================
2025-10-27 13:01:31,742 - INFO - [API] Submitting task: 'smartwatch'
2025-10-27 13:01:31,745 - INFO - [API] Location: India, Language: English
2025-10-27 13:01:31,821 - ERROR - [API] Exception during task submission: [Errno 11001] getaddrinfo failed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 207, in submit_task
    response = self.client.post(endpoint, post_data)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 50, in post
    return self.request(path, 'POST', data)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 36, in request
    connection.request('POST', path, json.dumps(data), headers=headers)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1338, in request
    self._send_request(method, url, body, headers, encode_chunked)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1384, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "C:\Python313\Lib\http\client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1472, in connect
    super().connect()
    ~~~~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1003, in connect
    self.sock = self._create_connection(
                ~~~~~~~~~~~~~~~~~~~~~~~^
        (self.host,self.port), self.timeout, self.source_address)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 840, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
               ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed
2025-10-27 13:01:31,891 - ERROR - [COLLECT]  Task submission failed
2025-10-27 13:01:31,892 - INFO - 
[PROGRESS] Processing keyword 5/7
2025-10-27 13:01:31,893 - INFO - 
2025-10-27 13:01:31,893 - INFO - ======================================================================
2025-10-27 13:01:31,894 - INFO - [COLLECT] Keyword: 'tablet'
2025-10-27 13:01:31,894 - INFO - ======================================================================
2025-10-27 13:01:31,894 - INFO - [API] Submitting task: 'tablet'
2025-10-27 13:01:31,895 - INFO - [API] Location: India, Language: English
2025-10-27 13:01:31,961 - ERROR - [API] Exception during task submission: [Errno 11001] getaddrinfo failed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 207, in submit_task
    response = self.client.post(endpoint, post_data)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 50, in post
    return self.request(path, 'POST', data)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 36, in request
    connection.request('POST', path, json.dumps(data), headers=headers)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1338, in request
    self._send_request(method, url, body, headers, encode_chunked)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1384, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "C:\Python313\Lib\http\client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1472, in connect
    super().connect()
    ~~~~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1003, in connect
    self.sock = self._create_connection(
                ~~~~~~~~~~~~~~~~~~~~~~~^
        (self.host,self.port), self.timeout, self.source_address)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 840, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
               ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed
2025-10-27 13:01:31,977 - ERROR - [COLLECT]  Task submission failed
2025-10-27 13:01:31,978 - INFO - 
[PROGRESS] Processing keyword 6/7
2025-10-27 13:01:31,979 - INFO - 
2025-10-27 13:01:31,979 - INFO - ======================================================================
2025-10-27 13:01:31,982 - INFO - [COLLECT] Keyword: 'wireless earbuds'
2025-10-27 13:01:31,983 - INFO - ======================================================================
2025-10-27 13:01:31,984 - INFO - [API] Submitting task: 'wireless earbuds'
2025-10-27 13:01:31,986 - INFO - [API] Location: India, Language: English
2025-10-27 13:01:32,064 - ERROR - [API] Exception during task submission: [Errno 11001] getaddrinfo failed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 207, in submit_task
    response = self.client.post(endpoint, post_data)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 50, in post
    return self.request(path, 'POST', data)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 36, in request
    connection.request('POST', path, json.dumps(data), headers=headers)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1338, in request
    self._send_request(method, url, body, headers, encode_chunked)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1384, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "C:\Python313\Lib\http\client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1472, in connect
    super().connect()
    ~~~~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1003, in connect
    self.sock = self._create_connection(
                ~~~~~~~~~~~~~~~~~~~~~~~^
        (self.host,self.port), self.timeout, self.source_address)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 840, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
               ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed
2025-10-27 13:01:32,081 - ERROR - [COLLECT]  Task submission failed
2025-10-27 13:01:32,082 - INFO - 
[PROGRESS] Processing keyword 7/7
2025-10-27 13:01:32,083 - INFO - 
2025-10-27 13:01:32,084 - INFO - ======================================================================
2025-10-27 13:01:32,085 - INFO - [COLLECT] Keyword: 'power bank'
2025-10-27 13:01:32,086 - INFO - ======================================================================
2025-10-27 13:01:32,088 - INFO - [API] Submitting task: 'power bank'
2025-10-27 13:01:32,089 - INFO - [API] Location: India, Language: English
2025-10-27 13:01:32,176 - ERROR - [API] Exception during task submission: [Errno 11001] getaddrinfo failed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 207, in submit_task
    response = self.client.post(endpoint, post_data)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 50, in post
    return self.request(path, 'POST', data)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\rest_client.py", line 36, in request
    connection.request('POST', path, json.dumps(data), headers=headers)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1338, in request
    self._send_request(method, url, body, headers, encode_chunked)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1384, in _send_request
    self.endheaders(body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\http\client.py", line 1093, in _send_output
    self.send(msg)
    ~~~~~~~~~^^^^^
  File "C:\Python313\Lib\http\client.py", line 1037, in send
    self.connect()
    ~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1472, in connect
    super().connect()
    ~~~~~~~~~~~~~~~^^
  File "C:\Python313\Lib\http\client.py", line 1003, in connect
    self.sock = self._create_connection(
                ~~~~~~~~~~~~~~~~~~~~~~~^
        (self.host,self.port), self.timeout, self.source_address)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 840, in create_connection
    for res in getaddrinfo(host, port, 0, SOCK_STREAM):
               ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\socket.py", line 977, in getaddrinfo
    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):
               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
socket.gaierror: [Errno 11001] getaddrinfo failed
2025-10-27 13:01:32,185 - ERROR - [COLLECT]  Task submission failed
2025-10-27 13:01:32,187 - INFO - [DB] Disconnected
2025-10-27 13:01:32,188 - INFO - 
2025-10-27 13:01:32,190 - INFO - ======================================================================
2025-10-27 13:01:32,192 - INFO - [COMPLETE] ALL KEYWORDS PROCESSED
2025-10-27 13:01:32,193 - INFO - [STATS] Successful: 0/7
2025-10-27 13:01:32,194 - INFO - [STATS] Failed: 7
2025-10-27 13:01:32,199 - INFO - [STATS] Total products: 0
2025-10-27 13:01:32,200 - INFO - Finished: 2025-10-27 13:01:32.200160
2025-10-27 13:01:32,201 - INFO - ======================================================================
2025-10-27 14:03:07,403 - INFO - [API] Initialized with 60s timeout
2025-10-27 14:03:07,403 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 14:03:07,522 - INFO - [DB] Connection successful
2025-10-27 14:03:07,564 - INFO - [DB] Tables verified
2025-10-27 14:03:07,565 - INFO - [COLLECT] Keyword: laptop
2025-10-27 14:03:07,565 - INFO - [API] Submitting task for keyword='laptop'
2025-10-27 14:03:08,525 - INFO - [API] Task submitted successfully. task_id=10271033-1177-0209-0000-180df0326e38
2025-10-27 14:05:08,533 - INFO - [API] Fetching results for task_id=10271033-1177-0209-0000-180df0326e38
2025-10-27 14:24:23,791 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 14:24:23,871 - INFO - [DB] Connection successful
2025-10-27 14:24:23,872 - INFO - [API] DataForSEO client initialized
2025-10-27 14:24:23,872 - INFO - 
======================================================================
2025-10-27 14:24:23,872 - INFO - [PROGRESS] Processing keyword 1/7 -> 'laptop'
2025-10-27 14:24:23,872 - INFO - ======================================================================

2025-10-27 14:24:23,873 - INFO - [API] Submitting task: 'laptop'
2025-10-27 14:24:24,777 - INFO - [API]  Task submitted: 10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:24:24,778 - INFO - [WAIT] Waiting 120s for processing...
2025-10-27 14:26:24,785 - INFO - [API] Polling results (task_id=10271054-1177-0209-0000-aa7b3e67bc68) up to 15 attempts, interval=20s
2025-10-27 14:26:24,786 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:26:25,553 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:26:45,555 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:26:45,753 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:27:05,754 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:27:05,945 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:27:25,955 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:27:26,225 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:27:46,228 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:27:46,411 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:28:06,413 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:28:06,589 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:28:26,591 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:28:26,791 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:28:46,793 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:28:46,997 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:29:07,000 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:29:07,235 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:29:27,238 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:29:27,444 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:29:47,447 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:29:47,611 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:30:07,614 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:30:07,786 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:30:27,789 - INFO - [API] Fetching results for task_id=10271054-1177-0209-0000-aa7b3e67bc68
2025-10-27 14:30:27,971 - INFO - [API] Task 10271054-1177-0209-0000-aa7b3e67bc68 status=40401; waiting...
2025-10-27 14:35:07,784 - INFO - [API] Initialized DataForSEO client
2025-10-27 14:35:07,784 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 14:35:07,893 - INFO - [DB] Connection successful
2025-10-27 14:35:07,923 - INFO - [DB] Tables verified
2025-10-27 14:35:07,923 - INFO - [COLLECT] Keyword: laptop
2025-10-27 14:35:07,924 - INFO - [API] Submitting task for keyword='laptop'
2025-10-27 14:35:08,505 - INFO - [API] Task submitted successfully. task_id=10271105-1177-0209-0000-6243b43d36e9
2025-10-27 14:35:08,506 - INFO - [WAIT] Waiting 120s for processing...
2025-10-27 14:37:08,510 - INFO - [API] Polling for results (task_id=10271105-1177-0209-0000-6243b43d36e9, max_retries=15, interval=20s)
2025-10-27 14:37:08,513 - INFO - [API] Polling results (attempt 1/15)
2025-10-27 14:37:09,139 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:37:09,141 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:37:29,144 - INFO - [API] Polling results (attempt 2/15)
2025-10-27 14:37:29,866 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:37:29,866 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:37:49,868 - INFO - [API] Polling results (attempt 3/15)
2025-10-27 14:37:50,461 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:37:50,462 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:38:10,464 - INFO - [API] Polling results (attempt 4/15)
2025-10-27 14:38:11,131 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:38:11,132 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:38:31,134 - INFO - [API] Polling results (attempt 5/15)
2025-10-27 14:38:31,804 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:38:31,804 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:38:51,806 - INFO - [API] Polling results (attempt 6/15)
2025-10-27 14:38:52,456 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:38:52,457 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:39:12,459 - INFO - [API] Polling results (attempt 7/15)
2025-10-27 14:39:13,073 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:39:13,074 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:39:33,076 - INFO - [API] Polling results (attempt 8/15)
2025-10-27 14:39:33,696 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:39:33,697 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:39:53,699 - INFO - [API] Polling results (attempt 9/15)
2025-10-27 14:39:54,288 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:39:54,289 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:40:14,291 - INFO - [API] Polling results (attempt 10/15)
2025-10-27 14:40:14,853 - INFO - [API] Task status: 40401 (Task Not Found.)
2025-10-27 14:40:14,853 - INFO - [WAIT] Waiting 20s before retry...
2025-10-27 14:43:15,074 - INFO - [API] Initialized
2025-10-27 14:43:15,074 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 14:43:15,160 - INFO - [DB] Connection successful
2025-10-27 14:43:15,203 - INFO - [DB] Tables verified
2025-10-27 14:43:15,204 - INFO - [COLLECT] Keyword: laptop
2025-10-27 14:43:15,204 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 14:43:16,163 - INFO - [SUCCESS] Task submitted: 10271113-1177-0209-0000-89fd956a4437
2025-10-27 14:43:16,164 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 14:43:16,164 - INFO - [WAIT] Initial wait: 180s
2025-10-27 14:46:16,172 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 14:46:18,561 - INFO - [SUCCESS] Task 10271113-1177-0209-0000-89fd956a4437 completed
2025-10-27 14:46:18,712 - INFO - [SUCCESS] Saved 97 products for 'laptop'
2025-10-27 14:46:18,713 - INFO - [COLLECT] Keyword: smartphone
2025-10-27 14:46:18,714 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 14:46:18,962 - INFO - [SUCCESS] Task submitted: 10271116-1177-0209-0000-4dbf31c64bcb
2025-10-27 14:46:18,963 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 14:46:18,963 - INFO - [WAIT] Initial wait: 180s
2025-10-27 14:49:18,971 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 14:52:50,582 - INFO - [API] Initialized
2025-10-27 14:52:50,582 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 14:52:50,674 - INFO - [DB] Connection successful
2025-10-27 14:52:50,724 - INFO - [DB] Tables verified
2025-10-27 14:52:50,725 - INFO - [COLLECT] Keyword: laptop
2025-10-27 14:52:50,725 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 14:52:51,544 - INFO - [SUCCESS] Task submitted: 10271122-1177-0209-0000-43e23920b4da
2025-10-27 14:52:51,544 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 14:52:51,545 - INFO - [WAIT] Initial wait: 180s
2025-10-27 14:55:51,550 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 14:55:52,336 - INFO - [PENDING] Task 10271122-1177-0209-0000-43e23920b4da still processing (status: 40602)
2025-10-27 14:55:52,337 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:00:52,345 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 15:00:53,420 - INFO - [SUCCESS] Task 10271122-1177-0209-0000-43e23920b4da completed
2025-10-27 15:00:53,421 - ERROR - [ERROR] 'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 333, in main
    result = collector.collect_keyword(kw.strip())
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 301, in collect_keyword
    products = self.extract_products(results, task_id, keyword)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 257, in extract_products
    "rating_value": item.get("rating", {}).get("value"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
2025-10-27 15:03:25,089 - INFO - [API] Initialized
2025-10-27 15:03:25,090 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:03:25,183 - INFO - [DB] Connection successful
2025-10-27 15:03:25,224 - INFO - [DB] Tables verified
2025-10-27 15:03:25,224 - INFO - [COLLECT] Keyword: laptop
2025-10-27 15:03:25,225 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:03:26,111 - INFO - [SUCCESS] Task submitted: 10271133-1177-0209-0000-750f70c8d3e1
2025-10-27 15:03:26,111 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 15:03:26,112 - INFO - [WAIT] Initial wait: 180s
2025-10-27 15:06:26,117 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 15:06:28,310 - INFO - [SUCCESS] Task 10271133-1177-0209-0000-750f70c8d3e1 completed
2025-10-27 15:06:28,450 - INFO - [SUCCESS] Saved 9 products for 'laptop'
2025-10-27 15:06:28,450 - INFO - [COLLECT] Keyword: smartphone
2025-10-27 15:06:28,451 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:06:28,720 - INFO - [SUCCESS] Task submitted: 10271136-1177-0209-0000-db2c3e1488e4
2025-10-27 15:06:28,723 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 15:06:28,723 - INFO - [WAIT] Initial wait: 180s
2025-10-27 15:09:28,730 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 15:09:30,991 - INFO - [PENDING] Task 10271136-1177-0209-0000-db2c3e1488e4 still processing (status: 40602)
2025-10-27 15:09:30,993 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:14:31,000 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 15:14:32,199 - INFO - [SUCCESS] Task 10271136-1177-0209-0000-db2c3e1488e4 completed
2025-10-27 15:14:32,200 - ERROR - [ERROR] 'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 333, in main
    result = collector.collect_keyword(kw.strip())
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 301, in collect_keyword
    products = self.extract_products(results, task_id, keyword)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 257, in extract_products
    "rating_value": item.get("rating", {}).get("value"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
2025-10-27 15:15:03,561 - INFO - [API] Initialized
2025-10-27 15:15:03,562 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:15:03,680 - INFO - [DB] Connection successful
2025-10-27 15:15:03,720 - INFO - [DB] Tables verified
2025-10-27 15:15:03,720 - INFO - [COLLECT] Keyword: laptop
2025-10-27 15:15:03,721 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:15:04,652 - INFO - [SUCCESS] Task submitted: 10271145-1177-0209-0000-ac77ae96272c
2025-10-27 15:15:04,653 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 15:15:04,653 - INFO - [WAIT] Initial wait: 180s
2025-10-27 15:16:37,711 - INFO - [API] Initialized
2025-10-27 15:16:37,712 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:16:37,813 - INFO - [DB] Connection successful
2025-10-27 15:16:37,865 - INFO - [DB] Tables verified
2025-10-27 15:16:37,865 - INFO - [COLLECT] Keyword: headphones
2025-10-27 15:16:37,866 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:16:38,675 - INFO - [SUCCESS] Task submitted: 10271146-1177-0209-0000-66d7846eb907
2025-10-27 15:16:38,677 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 15:16:38,677 - INFO - [WAIT] Initial wait: 180s
2025-10-27 15:19:38,683 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 15:19:39,485 - INFO - [PENDING] Task 10271146-1177-0209-0000-66d7846eb907 still processing (status: 40602)
2025-10-27 15:19:39,486 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:22:17,840 - INFO - ======================================================================
2025-10-27 15:22:17,840 - INFO - [CONFIG] DataForSEO Collection Settings
2025-10-27 15:22:17,840 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-27 15:22:17,840 - INFO - [CONFIG] Language: en
2025-10-27 15:22:17,840 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-27 15:22:17,840 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-27 15:22:17,841 - INFO - [CONFIG] Keywords: headphones, smartwatch, tablet
2025-10-27 15:22:17,841 - INFO - ======================================================================
2025-10-27 15:22:17,841 - INFO - [API] Initialized
2025-10-27 15:22:17,841 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:22:18,011 - INFO - [DB]  Connection successful
2025-10-27 15:22:18,055 - INFO - [DB] Tables verified
2025-10-27 15:22:18,056 - INFO - 
2025-10-27 15:22:18,056 - INFO - ======================================================================
2025-10-27 15:22:18,056 - INFO - [START] Starting data collection...
2025-10-27 15:22:18,056 - INFO - ======================================================================
2025-10-27 15:22:18,057 - INFO - 
2025-10-27 15:22:18,057 - INFO - [PROGRESS] Processing keyword 1/3
2025-10-27 15:22:18,057 - INFO - ======================================================================
2025-10-27 15:22:18,057 - INFO - [COLLECT] Keyword: headphones
2025-10-27 15:22:18,057 - INFO - [COLLECT] Location: India (code: 2356)
2025-10-27 15:22:18,057 - INFO - [COLLECT] Language: en
2025-10-27 15:22:18,058 - INFO - [COLLECT] Depth: 100
2025-10-27 15:22:18,058 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:22:18,058 - INFO - [API] Submitting task for keyword='headphones'
2025-10-27 15:22:18,861 - INFO - [API]  Task submitted successfully. task_id=10271152-1177-0209-0000-18832f6abe01
2025-10-27 15:22:18,861 - INFO - [STANDARD] Standard queue - may take up to 45 minutes
2025-10-27 15:22:18,861 - INFO - [WAIT] Initial wait: 180s
2025-10-27 15:23:59,371 - INFO - 
2025-10-27 15:23:59,372 - INFO - [STOP] Stopped by user
2025-10-27 15:24:02,967 - INFO - ======================================================================
2025-10-27 15:24:02,967 - INFO - [CONFIG] DataForSEO Collection Settings
2025-10-27 15:24:02,967 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-27 15:24:02,968 - INFO - [CONFIG] Language: en
2025-10-27 15:24:02,968 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-27 15:24:02,968 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-27 15:24:02,968 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones
2025-10-27 15:24:02,968 - INFO - ======================================================================
2025-10-27 15:24:02,968 - INFO - [API] Initialized
2025-10-27 15:24:02,968 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:24:03,090 - INFO - [DB]  Connection successful
2025-10-27 15:24:03,135 - INFO - [DB] Tables verified
2025-10-27 15:24:03,136 - INFO - 
2025-10-27 15:24:03,136 - INFO - ======================================================================
2025-10-27 15:24:03,137 - INFO - [START] Starting data collection...
2025-10-27 15:24:03,138 - INFO - ======================================================================
2025-10-27 15:24:03,138 - INFO - 
2025-10-27 15:24:03,138 - INFO - [PROGRESS] Processing keyword 1/3
2025-10-27 15:24:03,139 - INFO - ======================================================================
2025-10-27 15:24:03,139 - INFO - [COLLECT] Keyword: laptop
2025-10-27 15:24:03,139 - INFO - [COLLECT] Location: India (code: 2356)
2025-10-27 15:24:03,139 - INFO - [COLLECT] Language: en
2025-10-27 15:24:03,140 - INFO - [COLLECT] Depth: 100
2025-10-27 15:24:03,140 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:24:03,140 - INFO - [API] Submitting task for keyword='laptop'
2025-10-27 15:24:03,963 - INFO - [API]  Task submitted successfully. task_id=10271154-1177-0209-0000-8e0fda278f08
2025-10-27 15:24:03,963 - INFO - [STANDARD] Standard queue - may take up to 45 minutes
2025-10-27 15:24:03,964 - INFO - [WAIT] Initial wait: 180s
2025-10-27 15:27:03,967 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 15:27:05,900 - INFO - [PENDING] Task 10271154-1177-0209-0000-8e0fda278f08 still processing (status: 40401)
2025-10-27 15:27:05,901 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:32:05,906 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 15:32:07,985 - INFO - [PENDING] Task 10271154-1177-0209-0000-8e0fda278f08 still processing (status: 40401)
2025-10-27 15:32:07,987 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:33:46,478 - INFO - 
2025-10-27 15:33:46,479 - INFO - [STOP] Stopped by user
2025-10-27 15:33:49,556 - INFO - ======================================================================
2025-10-27 15:33:49,557 - INFO - [CONFIG] DataForSEO Collection Settings
2025-10-27 15:33:49,557 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-27 15:33:49,557 - INFO - [CONFIG] Language: en
2025-10-27 15:33:49,557 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-27 15:33:49,557 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-27 15:33:49,557 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones
2025-10-27 15:33:49,557 - INFO - ======================================================================
2025-10-27 15:33:49,557 - INFO - [API] Initialized
2025-10-27 15:33:49,558 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:33:49,648 - INFO - [DB]  Connection successful
2025-10-27 15:33:49,689 - INFO - [DB] Tables verified
2025-10-27 15:33:49,690 - INFO - 
2025-10-27 15:33:49,690 - INFO - ======================================================================
2025-10-27 15:33:49,691 - INFO - [START] Starting data collection...
2025-10-27 15:33:49,691 - INFO - ======================================================================
2025-10-27 15:33:49,692 - INFO - 
2025-10-27 15:33:49,692 - INFO - [PROGRESS] Processing keyword 1/3
2025-10-27 15:33:49,692 - INFO - ======================================================================
2025-10-27 15:33:49,693 - INFO - [COLLECT] Keyword: laptop
2025-10-27 15:33:49,693 - INFO - [COLLECT] Location: India (code: 2356)
2025-10-27 15:33:49,693 - INFO - [COLLECT] Language: en
2025-10-27 15:33:49,694 - INFO - [COLLECT] Depth: 100
2025-10-27 15:33:49,694 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:33:49,694 - INFO - [API] Submitting task for keyword='laptop'
2025-10-27 15:33:50,484 - INFO - [API]  Task submitted successfully. task_id=10271203-1177-0209-0000-bd04d0643992
2025-10-27 15:33:50,485 - INFO - [STANDARD] Standard queue - may take up to 45 minutes
2025-10-27 15:33:50,485 - INFO - [WAIT] Initial wait: 180s
2025-10-27 15:36:50,488 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 15:36:51,230 - INFO - [PENDING] Task 10271203-1177-0209-0000-bd04d0643992 still processing (status: 40401)
2025-10-27 15:36:51,230 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:41:51,236 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 15:41:53,496 - INFO - [PENDING] Task 10271203-1177-0209-0000-bd04d0643992 still processing (status: 40401)
2025-10-27 15:41:53,497 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:46:53,503 - INFO - [CHECK] Attempt 3/10 to retrieve results...
2025-10-27 15:46:54,287 - INFO - [PENDING] Task 10271203-1177-0209-0000-bd04d0643992 still processing (status: 40401)
2025-10-27 15:46:54,287 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 15:47:00,931 - INFO - 
2025-10-27 15:47:00,931 - INFO - [STOP] Stopped by user
2025-10-27 15:48:46,065 - INFO - ======================================================================
2025-10-27 15:48:46,065 - INFO - [CONFIG] DataForSEO Collection Settings
2025-10-27 15:48:46,065 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-27 15:48:46,065 - INFO - [CONFIG] Language: en
2025-10-27 15:48:46,066 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-27 15:48:46,066 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-27 15:48:46,066 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones
2025-10-27 15:48:46,066 - INFO - ======================================================================
2025-10-27 15:48:46,066 - INFO - [API] Initialized
2025-10-27 15:48:46,066 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:48:46,206 - INFO - [DB]  Connection successful
2025-10-27 15:48:46,267 - INFO - [DB] Tables verified
2025-10-27 15:48:46,267 - INFO - 
2025-10-27 15:48:46,267 - INFO - ======================================================================
2025-10-27 15:48:46,268 - INFO - [START] Starting data collection...
2025-10-27 15:48:46,268 - INFO - ======================================================================
2025-10-27 15:48:46,268 - INFO - 
2025-10-27 15:48:46,268 - INFO - [PROGRESS] Processing keyword 1/3
2025-10-27 15:48:46,269 - INFO - ======================================================================
2025-10-27 15:48:46,269 - INFO - [COLLECT] Keyword: laptop
2025-10-27 15:48:46,269 - INFO - [COLLECT] Location: India (code: 2356)
2025-10-27 15:48:46,269 - INFO - [COLLECT] Language: en
2025-10-27 15:48:46,269 - INFO - [COLLECT] Depth: 100
2025-10-27 15:48:46,270 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:48:46,270 - INFO - [API] Submitting task for keyword='laptop'
2025-10-27 15:48:47,070 - INFO - [API]  Task submitted successfully. task_id=10271218-1177-0209-0000-63ff0fab6a0f
2025-10-27 15:48:47,070 - INFO - [WAIT] Waiting for task 10271218-1177-0209-0000-63ff0fab6a0f (timeout=2700s)...
2025-10-27 15:48:47,070 - INFO - [WAIT] Sleeping initial 180s before polling task 10271218-1177-0209-0000-63ff0fab6a0f
2025-10-27 15:49:13,434 - INFO - 
2025-10-27 15:49:13,435 - INFO - [STOP] Stopped by user
2025-10-27 15:49:31,859 - INFO - ======================================================================
2025-10-27 15:49:31,859 - INFO - [CONFIG] DataForSEO Collection Settings
2025-10-27 15:49:31,859 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-27 15:49:31,859 - INFO - [CONFIG] Language: en
2025-10-27 15:49:31,860 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-27 15:49:31,860 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-27 15:49:31,860 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones
2025-10-27 15:49:31,860 - INFO - ======================================================================
2025-10-27 15:49:31,860 - INFO - [API] Initialized
2025-10-27 15:49:31,860 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 15:49:31,959 - INFO - [DB]  Connection successful
2025-10-27 15:49:32,005 - INFO - [DB] Tables verified
2025-10-27 15:49:32,006 - INFO - 
2025-10-27 15:49:32,006 - INFO - ======================================================================
2025-10-27 15:49:32,007 - INFO - [START] Starting data collection...
2025-10-27 15:49:32,008 - INFO - ======================================================================
2025-10-27 15:49:32,008 - INFO - 
2025-10-27 15:49:32,008 - INFO - [PROGRESS] Processing keyword 1/3
2025-10-27 15:49:32,009 - INFO - ======================================================================
2025-10-27 15:49:32,009 - INFO - [COLLECT] Keyword: laptop
2025-10-27 15:49:32,009 - INFO - [COLLECT] Location: India (code: 2356)
2025-10-27 15:49:32,010 - INFO - [COLLECT] Language: en
2025-10-27 15:49:32,010 - INFO - [COLLECT] Depth: 100
2025-10-27 15:49:32,010 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 15:49:32,010 - INFO - [API] Submitting task for keyword='laptop'
2025-10-27 15:49:32,790 - INFO - [API]  Task submitted successfully. task_id=10271219-1177-0209-0000-86b5d64b0d78
2025-10-27 15:49:32,790 - INFO - [WAIT] Waiting for task 10271219-1177-0209-0000-86b5d64b0d78 (timeout=2700s)...
2025-10-27 15:49:32,790 - INFO - [WAIT] Sleeping initial 180s before polling task 10271219-1177-0209-0000-86b5d64b0d78
2025-10-27 15:52:32,793 - INFO - [CHECK] Poll attempt 1. Elapsed: 180s. Polling for task 10271219-1177-0209-0000-86b5d64b0d78...
2025-10-27 15:52:33,632 - INFO - [PENDING] Task 10271219-1177-0209-0000-86b5d64b0d78 still processing (status: 40401)
2025-10-27 15:52:33,632 - INFO - [WAITING] Task 10271219-1177-0209-0000-86b5d64b0d78 not ready. Sleeping 300s before next poll...
2025-10-27 15:54:23,819 - INFO - 
2025-10-27 15:54:23,819 - INFO - [STOP] Stopped by user
2025-10-27 16:23:51,551 - INFO - ======================================================================
2025-10-27 16:23:51,551 - INFO - [CONFIG] DataForSEO Collection Settings
2025-10-27 16:23:51,552 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-27 16:23:51,552 - INFO - [CONFIG] Language: en
2025-10-27 16:23:51,552 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-27 16:23:51,552 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-27 16:23:51,552 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones
2025-10-27 16:23:51,552 - INFO - ======================================================================
2025-10-27 16:23:51,552 - INFO - [API] Initialized
2025-10-27 16:23:51,552 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 16:23:51,651 - INFO - [DB]  Connection successful
2025-10-27 16:23:51,701 - INFO - [DB] Tables verified
2025-10-27 16:23:51,702 - INFO - 
2025-10-27 16:23:51,702 - INFO - ======================================================================
2025-10-27 16:23:51,703 - INFO - [START] Starting data collection...
2025-10-27 16:23:51,703 - INFO - ======================================================================
2025-10-27 16:23:51,703 - INFO - 
2025-10-27 16:23:51,704 - INFO - [PROGRESS] Processing keyword 1/3
2025-10-27 16:23:51,704 - INFO - ======================================================================
2025-10-27 16:23:51,705 - INFO - [COLLECT] Keyword: laptop
2025-10-27 16:23:51,705 - INFO - [COLLECT] Location: India (code: 2356)
2025-10-27 16:23:51,705 - INFO - [COLLECT] Language: en
2025-10-27 16:23:51,705 - INFO - [COLLECT] Depth: 100
2025-10-27 16:23:51,705 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 16:23:51,706 - INFO - [API] Submitting task for keyword='laptop'
2025-10-27 16:23:52,622 - INFO - [API]  Task submitted successfully. task_id=10271253-1177-0209-0000-590823d4bff2
2025-10-27 16:23:52,622 - INFO - [WAIT] Waiting for task 10271253-1177-0209-0000-590823d4bff2 (timeout=2700s)...
2025-10-27 16:23:52,623 - INFO - [WAIT] Sleeping initial 180s before polling task 10271253-1177-0209-0000-590823d4bff2
2025-10-27 16:26:52,625 - INFO - [CHECK] Poll attempt 1. Elapsed: 180s. Polling for task 10271253-1177-0209-0000-590823d4bff2...
2025-10-27 16:26:54,774 - INFO - [PENDING] Task 10271253-1177-0209-0000-590823d4bff2 still processing (status: 40401)
2025-10-27 16:26:54,775 - INFO - [WAITING] Task 10271253-1177-0209-0000-590823d4bff2 not ready. Sleeping 300s before next poll...
2025-10-27 16:29:09,945 - INFO - 
2025-10-27 16:29:09,946 - INFO - [STOP] Stopped by user
2025-10-27 16:32:01,332 - INFO - [API] Initialized
2025-10-27 16:32:01,332 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 16:32:01,456 - INFO - [DB] Connection successful
2025-10-27 16:32:01,497 - INFO - [DB] Tables verified
2025-10-27 16:32:01,497 - INFO - [COLLECT] Keyword: laptop
2025-10-27 16:32:01,498 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 16:32:02,328 - INFO - [SUCCESS] Task submitted: 10271302-1177-0209-0000-bd0db9d46166
2025-10-27 16:32:02,328 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 16:32:02,328 - INFO - [WAIT] Initial wait: 180s
2025-10-27 16:35:02,330 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 16:35:04,245 - WARNING - [STATUS] Task 10271302-1177-0209-0000-bd0db9d46166 status: 40401
2025-10-27 16:35:04,246 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 16:40:04,250 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 16:40:05,037 - WARNING - [STATUS] Task 10271302-1177-0209-0000-bd0db9d46166 status: 40401
2025-10-27 16:40:05,037 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-27 16:40:24,810 - INFO - [API] Initialized
2025-10-27 16:40:24,810 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 16:40:24,914 - INFO - [DB] Connection successful
2025-10-27 16:40:24,959 - INFO - [DB] Tables verified
2025-10-27 16:40:24,959 - INFO - [COLLECT] Keyword: laptop
2025-10-27 16:40:24,960 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 16:40:25,776 - INFO - [SUCCESS] Task submitted: 10271310-1177-0209-0000-62e9cac5ab00
2025-10-27 16:40:25,776 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 16:40:25,776 - INFO - [WAIT] Initial wait: 180s
2025-10-27 16:41:32,646 - INFO - [API] Initialized
2025-10-27 16:41:32,646 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 16:41:32,727 - INFO - [DB] Connection successful
2025-10-27 16:41:32,772 - INFO - [DB] Tables verified
2025-10-27 16:41:32,773 - INFO - [COLLECT] Keyword: laptop
2025-10-27 16:41:32,773 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 16:41:33,578 - INFO - [SUCCESS] Task submitted: 10271311-1177-0209-0000-f4adb654f2b0
2025-10-27 16:41:33,578 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 16:41:33,578 - INFO - [WAIT] Initial wait: 90s
2025-10-27 16:43:03,580 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 16:43:04,348 - INFO - [PENDING] Task 10271311-1177-0209-0000-f4adb654f2b0 still processing (status: 40602)
2025-10-27 16:43:04,349 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 16:43:15,822 - INFO - [API] Initialized
2025-10-27 16:43:15,822 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 16:43:15,912 - INFO - [DB] Connection successful
2025-10-27 16:43:15,955 - INFO - [DB] Tables verified
2025-10-27 16:43:15,955 - INFO - [COLLECT] Keyword: laptop
2025-10-27 16:43:15,955 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 16:43:16,711 - INFO - [SUCCESS] Task submitted: 10271313-1177-0209-0000-ac6af8bce34b
2025-10-27 16:43:16,711 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 16:43:16,712 - INFO - [WAIT] Initial wait: 90s
2025-10-27 16:44:46,714 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 16:44:47,569 - INFO - [PENDING] Task 10271313-1177-0209-0000-ac6af8bce34b still processing (status: 40602)
2025-10-27 16:44:47,570 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 16:47:47,572 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 16:47:48,530 - INFO - [SUCCESS] Task 10271313-1177-0209-0000-ac6af8bce34b completed
2025-10-27 16:47:48,531 - ERROR - [ERROR] 'NoneType' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 333, in main
    result = collector.collect_keyword(kw.strip())
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 301, in collect_keyword
    products = self.extract_products(results, task_id, keyword)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 257, in extract_products
    "rating_value": item.get("rating", {}).get("value"),
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
2025-10-27 17:12:02,519 - INFO - [API] Initialized
2025-10-27 17:12:02,519 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 17:12:02,640 - INFO - [DB] Connection successful
2025-10-27 17:12:02,703 - INFO - [DB] Tables verified
2025-10-27 17:12:02,704 - INFO - [COLLECT] Keyword: laptop
2025-10-27 17:12:02,704 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 17:12:03,536 - INFO - [SUCCESS] Task submitted: 10271342-1184-0209-0000-b2dd8018f0a1
2025-10-27 17:12:03,537 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 17:12:03,537 - INFO - [WAIT] Initial wait: 180s
2025-10-27 17:14:29,173 - INFO - [API] Initialized
2025-10-27 17:14:29,173 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 17:14:29,306 - INFO - [DB] Connection successful
2025-10-27 17:14:29,373 - INFO - [DB] Tables verified
2025-10-27 17:14:29,374 - INFO - [COLLECT] Keyword: laptop
2025-10-27 17:14:29,374 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 17:14:30,201 - INFO - [SUCCESS] Task submitted: 10271344-1184-0209-0000-c90d683021e0
2025-10-27 17:14:30,201 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 17:14:30,202 - INFO - [WAIT] Initial wait: 90s
2025-10-27 17:16:00,203 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 17:16:01,000 - WARNING - [STATUS] Task 10271344-1184-0209-0000-c90d683021e0 status: 40401
2025-10-27 17:16:01,000 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:34:23,423 - INFO - [API] Initialized
2025-10-27 17:34:23,424 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-27 17:34:23,538 - INFO - [DB] Connection successful
2025-10-27 17:34:23,592 - INFO - [DB] Tables verified
2025-10-27 17:34:23,593 - INFO - [COLLECT] Keyword: laptop
2025-10-27 17:34:23,593 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 17:34:24,409 - INFO - [SUCCESS] Task submitted: 10271404-1184-0209-0000-2f6a4765e9be
2025-10-27 17:34:24,409 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 17:34:24,410 - INFO - [WAIT] Initial wait: 90s
2025-10-27 17:35:54,411 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 17:35:55,186 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:35:55,187 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:38:55,189 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 17:38:57,317 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:38:57,317 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:41:57,319 - INFO - [CHECK] Attempt 3/10 to retrieve results...
2025-10-27 17:41:59,667 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:41:59,668 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:44:59,670 - INFO - [CHECK] Attempt 4/10 to retrieve results...
2025-10-27 17:45:01,782 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:45:01,783 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:48:01,785 - INFO - [CHECK] Attempt 5/10 to retrieve results...
2025-10-27 17:48:03,980 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:48:03,981 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:51:03,983 - INFO - [CHECK] Attempt 6/10 to retrieve results...
2025-10-27 17:51:06,476 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:51:06,477 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:54:06,479 - INFO - [CHECK] Attempt 7/10 to retrieve results...
2025-10-27 17:54:08,728 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:54:08,729 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 17:57:08,731 - INFO - [CHECK] Attempt 8/10 to retrieve results...
2025-10-27 17:57:10,957 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 17:57:10,958 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 18:00:10,960 - INFO - [CHECK] Attempt 9/10 to retrieve results...
2025-10-27 18:00:13,104 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 18:00:13,104 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 18:03:13,106 - INFO - [CHECK] Attempt 10/10 to retrieve results...
2025-10-27 18:03:15,265 - WARNING - [STATUS] Task 10271404-1184-0209-0000-2f6a4765e9be status: 40401
2025-10-27 18:03:15,266 - ERROR - [FAILED] Could not retrieve results for 'laptop' after 10 attempts
2025-10-27 18:03:15,267 - INFO - [COLLECT] Keyword: smartphone
2025-10-27 18:03:15,268 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-27 18:03:15,475 - INFO - [SUCCESS] Task submitted: 10271433-1184-0209-0000-1b4807b0c39d
2025-10-27 18:03:15,476 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-27 18:03:15,477 - INFO - [WAIT] Initial wait: 90s
2025-10-27 18:04:45,478 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-27 18:04:48,241 - WARNING - [STATUS] Task 10271433-1184-0209-0000-1b4807b0c39d status: 40401
2025-10-27 18:04:48,243 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-27 18:07:48,245 - INFO - [CHECK] Attempt 2/10 to retrieve results...
2025-10-27 18:07:50,507 - WARNING - [STATUS] Task 10271433-1184-0209-0000-1b4807b0c39d status: 40201
2025-10-27 18:07:50,508 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-28 09:10:18,986 - INFO - [CHECK] Attempt 3/10 to retrieve results...
2025-10-28 09:10:20,594 - WARNING - [STATUS] Task 10271433-1184-0209-0000-1b4807b0c39d status: 40401
2025-10-28 09:10:20,595 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-28 09:13:20,596 - INFO - [CHECK] Attempt 4/10 to retrieve results...
2025-10-28 09:13:22,159 - WARNING - [STATUS] Task 10271433-1184-0209-0000-1b4807b0c39d status: 40401
2025-10-28 09:13:22,160 - WARNING - [WAITING] Results not ready, waiting 180s before retry...
2025-10-28 09:14:57,655 - INFO - [API] Initialized
2025-10-28 09:14:57,655 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 09:14:57,741 - INFO - [DB] Connection successful
2025-10-28 09:14:57,776 - INFO - [DB] Tables verified
2025-10-28 09:14:57,776 - INFO - [COLLECT] Keyword: laptop
2025-10-28 09:14:57,776 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-28 09:14:58,600 - INFO - [SUCCESS] Task submitted: 10280544-1184-0209-0000-494154d04b6d
2025-10-28 09:14:58,601 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-28 09:14:58,601 - INFO - [WAIT] Initial wait: 180s
2025-10-28 09:17:58,602 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-28 09:17:59,524 - WARNING - [STATUS] Task 10280544-1184-0209-0000-494154d04b6d status: 40401
2025-10-28 09:17:59,524 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-28 09:23:19,657 - INFO - [API] Initialized
2025-10-28 09:23:19,658 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 09:23:19,754 - INFO - [DB] Connection successful
2025-10-28 09:23:19,788 - INFO - [DB] Tables verified
2025-10-28 09:23:19,788 - INFO - [COLLECT] Keyword: laptop
2025-10-28 09:23:19,789 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-28 09:23:20,636 - INFO - [SUCCESS] Task submitted: 10280553-1184-0209-0000-ae035d5f1c0e
2025-10-28 09:23:20,639 - INFO - [STANDARD] Using standard queue - may take up to 45 minutes
2025-10-28 09:23:20,639 - INFO - [WAIT] Initial wait: 180s
2025-10-28 09:26:20,641 - INFO - [CHECK] Attempt 1/10 to retrieve results...
2025-10-28 09:26:22,129 - WARNING - [STATUS] Task 10280553-1184-0209-0000-ae035d5f1c0e status: 40401
2025-10-28 09:26:22,148 - WARNING - [WAITING] Results not ready, waiting 300s before retry...
2025-10-28 09:59:08,854 - INFO - ======================================================================
2025-10-28 09:59:08,886 - INFO - [CONFIG] DataForSEO Collection Settings
2025-10-28 09:59:08,886 - INFO - [CONFIG] Location: United States (Code: 2840)
2025-10-28 09:59:08,887 - INFO - [CONFIG] Language: en
2025-10-28 09:59:08,887 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-28 09:59:08,888 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-28 09:59:08,888 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-28 09:59:08,888 - INFO - ======================================================================
2025-10-28 09:59:08,889 - INFO - [API] Initialized
2025-10-28 09:59:08,890 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 09:59:08,967 - INFO - [DB]  Connection successful
2025-10-28 09:59:09,009 - INFO - [DB] Tables verified
2025-10-28 09:59:09,009 - INFO - 
2025-10-28 09:59:09,010 - INFO - ======================================================================
2025-10-28 09:59:09,010 - INFO - [START] Starting data collection...
2025-10-28 09:59:09,010 - INFO - ======================================================================
2025-10-28 09:59:09,010 - INFO - 
2025-10-28 09:59:09,011 - INFO - [PROGRESS] Processing keyword 1/5
2025-10-28 09:59:09,011 - INFO - ======================================================================
2025-10-28 09:59:09,011 - INFO - [COLLECT] Keyword: laptop
2025-10-28 09:59:09,011 - INFO - [COLLECT] Location: United States (code: 2840)
2025-10-28 09:59:09,011 - INFO - [COLLECT] Language: en
2025-10-28 09:59:09,011 - INFO - [COLLECT] Depth: 100
2025-10-28 09:59:09,012 - INFO - [STANDARD] Using standard queue ($0.001/product)
2025-10-28 09:59:09,012 - INFO - [API] Submitting task for keyword='laptop'
2025-10-28 09:59:09,012 - INFO - [API] Parameters: location_code=2840, language_code=en, depth=100
2025-10-28 09:59:10,048 - INFO - [API]  Task submitted successfully. task_id=10280629-1184-0209-0000-73b48b21da0c
2025-10-28 09:59:10,049 - INFO - [WAIT] Waiting for task 10280629-1184-0209-0000-73b48b21da0c (max timeout: 2700s)
2025-10-28 09:59:10,050 - INFO - [WAIT] Initial wait: 180s before first check
2025-10-28 10:02:10,052 - INFO - [CHECK] Attempt 1. Elapsed: 180s. Checking task 10280629-1184-0209-0000-73b48b21da0c...
2025-10-28 10:02:11,052 - INFO - [SUCCESS] Task 10280629-1184-0209-0000-73b48b21da0c completed but no results yet
2025-10-28 10:02:11,053 - INFO - [WAITING] Task not ready. Sleeping 300s before next check...
2025-10-28 10:07:11,054 - INFO - [CHECK] Attempt 2. Elapsed: 481s. Checking task 10280629-1184-0209-0000-73b48b21da0c...
2025-10-28 10:07:11,923 - INFO - [SUCCESS] Task 10280629-1184-0209-0000-73b48b21da0c completed but no results yet
2025-10-28 10:07:11,924 - INFO - [WAITING] Task not ready. Sleeping 300s before next check...
2025-10-28 10:12:11,925 - INFO - [CHECK] Attempt 3. Elapsed: 781s. Checking task 10280629-1184-0209-0000-73b48b21da0c...
2025-10-28 10:12:12,963 - INFO - [SUCCESS] Task 10280629-1184-0209-0000-73b48b21da0c completed but no results yet
2025-10-28 10:12:12,963 - INFO - [WAITING] Task not ready. Sleeping 300s before next check...
2025-10-28 10:16:48,313 - INFO - 
[STOP] Stopped by user
2025-10-28 10:16:56,885 - INFO - [API] Initialized with 60s timeout
2025-10-28 10:16:56,885 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 10:16:56,956 - INFO - [DB] Connection successful
2025-10-28 10:16:56,998 - INFO - [DB] Tables verified
2025-10-28 10:16:56,999 - INFO - [COLLECT] Keyword: laptop
2025-10-28 10:16:56,999 - INFO - [API] Submitting task for keyword='laptop'
2025-10-28 10:16:57,745 - INFO - [API] Task submitted successfully. task_id=10280646-1184-0209-0000-920921ee625d
2025-10-28 10:19:57,746 - INFO - [API] Fetching results for task_id=10280646-1184-0209-0000-920921ee625d
2025-10-28 10:19:58,570 - ERROR - [FAILED] Could not retrieve results for 'laptop'
2025-10-28 10:19:58,572 - INFO - [COLLECT] Keyword: smartphone
2025-10-28 10:19:58,573 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-28 10:19:59,359 - INFO - [API] Task submitted successfully. task_id=10280649-1184-0209-0000-0860524334e6
2025-10-28 10:22:59,361 - INFO - [API] Fetching results for task_id=10280649-1184-0209-0000-0860524334e6
2025-10-28 10:23:00,178 - ERROR - [FAILED] Could not retrieve results for 'smartphone'
2025-10-28 10:23:00,179 - INFO - [COLLECT] Keyword: headphones
2025-10-28 10:23:00,179 - INFO - [API] Submitting task for keyword='headphones'
2025-10-28 10:23:00,972 - INFO - [API] Task submitted successfully. task_id=10280653-1184-0209-0000-50683d952c9f
2025-10-28 10:26:00,977 - INFO - [API] Fetching results for task_id=10280653-1184-0209-0000-50683d952c9f
2025-10-28 10:26:01,815 - ERROR - [FAILED] Could not retrieve results for 'headphones'
2025-10-28 10:26:01,816 - INFO - [COLLECT] Keyword: smartwatch
2025-10-28 10:26:01,817 - INFO - [API] Submitting task for keyword='smartwatch'
2025-10-28 10:26:02,644 - INFO - [API] Task submitted successfully. task_id=10280656-1184-0209-0000-1f2dd6d07eb3
2025-10-28 10:29:02,646 - INFO - [API] Fetching results for task_id=10280656-1184-0209-0000-1f2dd6d07eb3
2025-10-28 10:29:03,376 - ERROR - [FAILED] Could not retrieve results for 'smartwatch'
2025-10-28 10:29:03,377 - INFO - [COLLECT] Keyword: tablet
2025-10-28 10:29:03,379 - INFO - [API] Submitting task for keyword='tablet'
2025-10-28 10:29:04,050 - INFO - [API] Task submitted successfully. task_id=10280659-1184-0209-0000-57597651ed2e
2025-10-28 10:32:04,052 - INFO - [API] Fetching results for task_id=10280659-1184-0209-0000-57597651ed2e
2025-10-28 10:32:04,113 - ERROR - [FAILED] Could not retrieve results for 'tablet'
2025-10-28 10:32:04,114 - INFO - [DB] Disconnected
2025-10-28 10:32:04,117 - INFO - ======================================================================
2025-10-28 10:32:04,119 - INFO - [COMPLETE] Successful: 0/5
2025-10-28 10:32:04,119 - INFO - [STATS] Total products: 0
2025-10-28 10:32:04,120 - INFO - ======================================================================
2025-10-28 10:44:59,954 - INFO - [API] Initialized for LIVE requests
2025-10-28 10:44:59,956 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 10:45:02,051 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-28 10:45:04,053 - INFO - [DB] Connecting to database (attempt 2/3)...
2025-10-28 10:45:06,138 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-28 10:45:10,140 - INFO - [DB] Connecting to database (attempt 3/3)...
2025-10-28 10:45:12,208 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-28 10:45:12,208 - ERROR - [EXIT] Database connection failed
2025-10-28 10:45:57,585 - INFO - [API] Initialized with 60s timeout
2025-10-28 10:45:57,586 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 10:45:59,682 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-28 10:46:01,683 - INFO - [DB] Connecting to database (attempt 2/3)...
2025-10-28 10:46:03,763 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-28 10:46:07,765 - INFO - [DB] Connecting to database (attempt 3/3)...
2025-10-28 10:46:09,889 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-28 10:46:09,889 - ERROR - [EXIT] Database connection failed
2025-10-28 10:50:36,855 - INFO - [API] Initialized with 60s timeout
2025-10-28 10:50:36,855 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 10:50:37,099 - INFO - [DB] Connection successful
2025-10-28 10:50:37,219 - INFO - [DB] Tables verified
2025-10-28 10:50:37,219 - INFO - [COLLECT] Keyword: laptop
2025-10-28 10:50:37,220 - INFO - [API] Submitting task for keyword='laptop'
2025-10-28 10:50:38,153 - INFO - [API] Task submitted successfully. task_id=10280720-1184-0209-0000-8a291d778ef2
2025-10-28 10:52:38,998 - INFO - 
[STOP] Stopped by user
2025-10-28 10:52:41,932 - INFO - [API] Initialized for LIVE requests
2025-10-28 10:52:41,933 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 10:52:42,157 - INFO - [DB] Connection successful
2025-10-28 10:52:42,296 - INFO - [DB] Tables verified
2025-10-28 10:52:42,296 - INFO - ======================================================================
2025-10-28 10:52:42,296 - INFO - [START] Starting LIVE data collection...
2025-10-28 10:52:42,297 - INFO - ======================================================================
2025-10-28 10:52:42,297 - INFO - [COLLECT] Keyword: laptop
2025-10-28 10:52:42,297 - INFO - [API] Sending LIVE request for keyword='laptop'
2025-10-28 10:52:42,950 - ERROR - [API] API error: Not Found.
2025-10-28 10:52:42,950 - ERROR - [FAILED] Could not get results for 'laptop'
2025-10-28 10:52:42,951 - INFO - [COLLECT] Keyword: smartphone
2025-10-28 10:52:42,951 - INFO - [API] Sending LIVE request for keyword='smartphone'
2025-10-28 10:52:43,598 - ERROR - [API] API error: Not Found.
2025-10-28 10:52:43,599 - ERROR - [FAILED] Could not get results for 'smartphone'
2025-10-28 10:52:43,599 - INFO - [COLLECT] Keyword: headphones
2025-10-28 10:52:43,600 - INFO - [API] Sending LIVE request for keyword='headphones'
2025-10-28 10:52:44,223 - ERROR - [API] API error: Not Found.
2025-10-28 10:52:44,223 - ERROR - [FAILED] Could not get results for 'headphones'
2025-10-28 10:52:44,224 - INFO - [COLLECT] Keyword: smartwatch
2025-10-28 10:52:44,224 - INFO - [API] Sending LIVE request for keyword='smartwatch'
2025-10-28 10:52:44,840 - ERROR - [API] API error: Not Found.
2025-10-28 10:52:44,840 - ERROR - [FAILED] Could not get results for 'smartwatch'
2025-10-28 10:52:44,840 - INFO - [COLLECT] Keyword: tablet
2025-10-28 10:52:44,841 - INFO - [API] Sending LIVE request for keyword='tablet'
2025-10-28 10:52:45,446 - ERROR - [API] API error: Not Found.
2025-10-28 10:52:45,447 - ERROR - [FAILED] Could not get results for 'tablet'
2025-10-28 10:52:45,448 - INFO - [DB] Disconnected
2025-10-28 10:52:45,448 - INFO - ======================================================================
2025-10-28 10:52:45,448 - INFO - [COMPLETE] Data collection finished
2025-10-28 10:52:45,449 - INFO - [STATS] Successful: 0/5
2025-10-28 10:52:45,450 - INFO - [STATS] Total products: 0
2025-10-28 10:52:45,454 - INFO - [STATS] Estimated cost: $0.000
2025-10-28 10:52:45,455 - INFO - [STATS] Duration: 3s (0.1min)
2025-10-28 10:52:45,456 - INFO - [STATS] Mode: LIVE (immediate results)
2025-10-28 10:52:45,456 - INFO - ======================================================================
2025-10-28 10:53:37,623 - INFO - [API] Initialized with 60s timeout
2025-10-28 10:53:37,623 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-28 10:53:37,858 - INFO - [DB] Connection successful
2025-10-28 10:53:37,978 - INFO - [DB] Tables verified
2025-10-28 10:53:37,979 - INFO - [COLLECT] Keyword: laptop
2025-10-28 10:53:37,979 - INFO - [API] Submitting task for keyword='laptop'
2025-10-28 10:53:38,659 - INFO - [API] Task submitted successfully. task_id=10280723-1184-0209-0000-75699e55791d
2025-10-28 10:56:38,660 - INFO - [API] Fetching results for task_id=10280723-1184-0209-0000-75699e55791d
2025-10-28 10:56:39,467 - ERROR - [FAILED] Could not retrieve results for 'laptop'
2025-10-28 10:56:39,468 - INFO - [COLLECT] Keyword: smartphone
2025-10-28 10:56:39,468 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-28 10:56:40,250 - INFO - [API] Task submitted successfully. task_id=10280726-1184-0209-0000-b997dd75a4e3
2025-10-28 10:58:34,988 - INFO - 
[STOP] Stopped by user
2025-10-28 10:58:49,652 - INFO - [API] Initialized with 60s timeout
2025-10-28 10:58:49,652 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-28 10:58:49,885 - INFO - [DB]  Connection successful
2025-10-28 10:58:50,012 - INFO - [DB] Tables verified
2025-10-28 10:58:50,012 - INFO - 
2025-10-28 10:58:50,012 - INFO - ======================================================================
2025-10-28 10:58:50,013 - INFO - [START] Starting data collection...
2025-10-28 10:58:50,013 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-28 10:58:50,013 - INFO - ======================================================================
2025-10-28 10:58:50,014 - INFO - 
[PROGRESS] Processing keyword 1/5
2025-10-28 10:58:50,014 - INFO - 
2025-10-28 10:58:50,014 - INFO - ======================================================================
2025-10-28 10:58:50,015 - INFO - [COLLECT] Keyword: laptop
2025-10-28 10:58:50,015 - INFO - ======================================================================
2025-10-28 10:58:50,015 - INFO - [API] Submitting task for keyword='laptop'
2025-10-28 10:58:50,705 - INFO - [API]  Task submitted: 10280728-1184-0209-0000-8dddf44757b2
2025-10-28 10:58:50,705 - INFO - [WAIT] Waiting 180s for processing...
2025-10-28 11:01:50,706 - INFO - [API] Fetching results for 10280728-1184-0209-0000-8dddf44757b2
2025-10-28 11:01:51,511 - WARNING - [API] Task not ready (status: 20000)
2025-10-28 11:01:51,512 - ERROR - [FAILED] Could not retrieve results for 'laptop'
2025-10-28 11:01:51,513 - INFO - 
[PROGRESS] Processing keyword 2/5
2025-10-28 11:01:51,514 - INFO - 
2025-10-28 11:01:51,514 - INFO - ======================================================================
2025-10-28 11:01:51,515 - INFO - [COLLECT] Keyword: smartphone
2025-10-28 11:01:51,516 - INFO - ======================================================================
2025-10-28 11:01:51,518 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-28 11:01:52,256 - INFO - [API]  Task submitted: 10280731-1184-0209-0000-b7896b2d8bd4
2025-10-28 11:01:52,257 - INFO - [WAIT] Waiting 180s for processing...
2025-10-28 11:04:52,258 - INFO - [API] Fetching results for 10280731-1184-0209-0000-b7896b2d8bd4
2025-10-28 11:04:53,048 - WARNING - [API] Task not ready (status: 20000)
2025-10-28 11:04:53,048 - ERROR - [FAILED] Could not retrieve results for 'smartphone'
2025-10-28 11:04:53,050 - INFO - 
[PROGRESS] Processing keyword 3/5
2025-10-28 11:04:53,050 - INFO - 
2025-10-28 11:04:53,051 - INFO - ======================================================================
2025-10-28 11:04:53,053 - INFO - [COLLECT] Keyword: headphones
2025-10-28 11:04:53,054 - INFO - ======================================================================
2025-10-28 11:04:53,055 - INFO - [API] Submitting task for keyword='headphones'
2025-10-28 11:04:53,792 - INFO - [API]  Task submitted: 10280734-1184-0209-0000-fade23ab0b4c
2025-10-28 11:04:53,793 - INFO - [WAIT] Waiting 180s for processing...
2025-10-28 11:05:39,230 - INFO - 
[STOP] Stopped by user
2025-10-28 11:05:41,434 - INFO - [API] Initialized with 60s timeout
2025-10-28 11:05:41,434 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-28 11:05:41,695 - INFO - [DB]  Connection successful
2025-10-28 11:05:41,815 - INFO - [DB] Tables verified
2025-10-28 11:05:41,816 - INFO - 
2025-10-28 11:05:41,817 - INFO - ======================================================================
2025-10-28 11:05:41,817 - INFO - [START] Starting data collection...
2025-10-28 11:05:41,818 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-28 11:05:41,819 - INFO - ======================================================================
2025-10-28 11:05:41,819 - INFO - 
[PROGRESS] Processing keyword 1/5
2025-10-28 11:05:41,820 - INFO - 
2025-10-28 11:05:41,820 - INFO - ======================================================================
2025-10-28 11:05:41,821 - INFO - [COLLECT] Keyword: laptop
2025-10-28 11:05:41,821 - INFO - ======================================================================
2025-10-28 11:05:41,821 - INFO - [API] Submitting task for keyword='laptop'
2025-10-28 11:05:42,505 - INFO - [API]  Task submitted: 10280735-1184-0209-0000-e7593222a92e
2025-10-28 11:05:42,505 - INFO - [WAIT] Initial wait: 180s for processing...
2025-10-28 11:08:42,506 - INFO - [CHECK] Attempt 1/8 to retrieve results...
2025-10-28 11:08:42,507 - INFO - [API] Fetching results for 10280735-1184-0209-0000-e7593222a92e
2025-10-28 11:08:44,103 - INFO - [API]  Results retrieved
2025-10-28 11:08:44,435 - INFO - [SUCCESS]  Saved 95 products for 'laptop'
2025-10-28 11:08:44,438 - INFO - 
[PROGRESS] Processing keyword 2/5
2025-10-28 11:08:44,439 - INFO - 
2025-10-28 11:08:44,440 - INFO - ======================================================================
2025-10-28 11:08:44,441 - INFO - [COLLECT] Keyword: smartphone
2025-10-28 11:08:44,443 - INFO - ======================================================================
2025-10-28 11:08:44,444 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-28 11:08:45,408 - INFO - [API]  Task submitted: 10280738-1184-0209-0000-ec6e66222c1e
2025-10-28 11:08:45,409 - INFO - [WAIT] Initial wait: 180s for processing...
2025-10-28 11:11:45,410 - INFO - [CHECK] Attempt 1/8 to retrieve results...
2025-10-28 11:11:45,411 - INFO - [API] Fetching results for 10280738-1184-0209-0000-ec6e66222c1e
2025-10-28 11:11:47,042 - INFO - [API]  Results retrieved
2025-10-28 11:11:47,342 - INFO - [SUCCESS]  Saved 108 products for 'smartphone'
2025-10-28 11:11:47,343 - INFO - 
[PROGRESS] Processing keyword 3/5
2025-10-28 11:11:47,343 - INFO - 
2025-10-28 11:11:47,344 - INFO - ======================================================================
2025-10-28 11:11:47,344 - INFO - [COLLECT] Keyword: headphones
2025-10-28 11:11:47,344 - INFO - ======================================================================
2025-10-28 11:11:47,344 - INFO - [API] Submitting task for keyword='headphones'
2025-10-28 11:11:48,092 - INFO - [API]  Task submitted: 10280741-1184-0209-0000-7c94e675d1b9
2025-10-28 11:11:48,093 - INFO - [WAIT] Initial wait: 180s for processing...
2025-10-28 11:14:48,094 - INFO - [CHECK] Attempt 1/8 to retrieve results...
2025-10-28 11:14:48,095 - INFO - [API] Fetching results for 10280741-1184-0209-0000-7c94e675d1b9
2025-10-28 11:14:49,980 - INFO - [API]  Results retrieved
2025-10-28 11:14:50,399 - INFO - [SUCCESS]  Saved 120 products for 'headphones'
2025-10-28 11:14:50,401 - INFO - 
[PROGRESS] Processing keyword 4/5
2025-10-28 11:14:50,402 - INFO - 
2025-10-28 11:14:50,402 - INFO - ======================================================================
2025-10-28 11:14:50,403 - INFO - [COLLECT] Keyword: smartwatch
2025-10-28 11:14:50,404 - INFO - ======================================================================
2025-10-28 11:14:50,404 - INFO - [API] Submitting task for keyword='smartwatch'
2025-10-28 11:14:51,143 - INFO - [API]  Task submitted: 10280744-1184-0209-0000-506a652964fa
2025-10-28 11:14:51,144 - INFO - [WAIT] Initial wait: 180s for processing...
2025-10-28 11:17:51,146 - INFO - [CHECK] Attempt 1/8 to retrieve results...
2025-10-28 11:17:51,147 - INFO - [API] Fetching results for 10280744-1184-0209-0000-506a652964fa
2025-10-28 11:17:52,901 - INFO - [API]  Results retrieved
2025-10-28 11:17:53,297 - INFO - [SUCCESS]  Saved 107 products for 'smartwatch'
2025-10-28 11:17:53,298 - INFO - 
[PROGRESS] Processing keyword 5/5
2025-10-28 11:17:53,298 - INFO - 
2025-10-28 11:17:53,299 - INFO - ======================================================================
2025-10-28 11:17:53,299 - INFO - [COLLECT] Keyword: tablet
2025-10-28 11:17:53,299 - INFO - ======================================================================
2025-10-28 11:17:53,300 - INFO - [API] Submitting task for keyword='tablet'
2025-10-28 11:17:54,004 - INFO - [API]  Task submitted: 10280747-1184-0209-0000-217758a520a4
2025-10-28 11:17:54,004 - INFO - [WAIT] Initial wait: 180s for processing...
2025-10-28 11:20:54,005 - INFO - [CHECK] Attempt 1/8 to retrieve results...
2025-10-28 11:20:54,006 - INFO - [API] Fetching results for 10280747-1184-0209-0000-217758a520a4
2025-10-28 11:20:54,791 - WARNING - [API] Task in queue (40602)
2025-10-28 11:20:54,792 - INFO - [WAITING] Results not ready, waiting 30s before retry...
2025-10-28 11:21:24,793 - INFO - [CHECK] Attempt 2/8 to retrieve results...
2025-10-28 11:21:24,793 - INFO - [API] Fetching results for 10280747-1184-0209-0000-217758a520a4
2025-10-28 11:21:26,616 - INFO - [API]  Results retrieved
2025-10-28 11:21:26,970 - INFO - [SUCCESS]  Saved 113 products for 'tablet'
2025-10-28 11:21:26,972 - INFO - [DB] Disconnected
2025-10-28 11:21:26,973 - INFO - 
2025-10-28 11:21:26,973 - INFO - ======================================================================
2025-10-28 11:21:26,975 - INFO - [COMPLETE] Finished data collection
2025-10-28 11:21:26,976 - INFO - [STATS] Successful: 5/5
2025-10-28 11:21:26,976 - INFO - [STATS] Total products: 543
2025-10-28 11:21:26,989 - INFO - [STATS] Estimated cost: $0.543
2025-10-28 11:21:26,990 - INFO - ======================================================================
2025-10-29 17:18:08,163 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-29 17:18:08,163 - INFO - [CONFIG] Language Code: en_US
2025-10-29 17:18:08,163 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-29 17:18:08,164 - INFO - [API] Initialized with 60s timeout
2025-10-29 17:18:08,164 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-29 17:18:10,278 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-29 17:18:12,279 - INFO - [DB] Attempt 2/3: Connecting...
2025-10-29 17:18:14,376 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-29 17:18:18,377 - INFO - [DB] Attempt 3/3: Connecting...
2025-10-29 17:18:20,489 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-29 17:18:20,490 - ERROR - [EXIT] Database connection failed
2025-10-29 17:20:27,540 - INFO - 
======================================================================
2025-10-29 17:20:27,540 - INFO - DataForSEO Amazon Collector - CSV Version
2025-10-29 17:20:27,540 - INFO - No database required - saves to CSV files
2025-10-29 17:20:27,540 - INFO - ======================================================================
2025-10-29 17:20:27,542 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-29 17:20:27,543 - INFO - [CONFIG] Language Code: en_US
2025-10-29 17:20:27,543 - INFO - [CONFIG] Output Directory: data_output
2025-10-29 17:20:27,545 - INFO - [CSV] Output directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-29 17:20:27,545 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-29 17:20:27,545 - INFO - [API] Initialized with 60s timeout
2025-10-29 17:20:27,545 - INFO - 
2025-10-29 17:20:27,545 - INFO - ======================================================================
2025-10-29 17:20:27,546 - INFO - [START] DataForSEO Collection for INDIA
2025-10-29 17:20:27,546 - INFO - [INFO] Location: 2356 (India)
2025-10-29 17:20:27,546 - INFO - [INFO] Language: en_US
2025-10-29 17:20:27,546 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-29 17:20:27,546 - INFO - [INFO] Output: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-29 17:20:27,546 - INFO - ======================================================================
2025-10-29 17:20:27,546 - INFO - 
[PROGRESS] Keyword 1/5
2025-10-29 17:20:27,546 - INFO - 
2025-10-29 17:20:27,546 - INFO - ======================================================================
2025-10-29 17:20:27,546 - INFO - [COLLECT] Keyword: laptop
2025-10-29 17:20:27,546 - INFO - ======================================================================
2025-10-29 17:20:27,546 - INFO - [API] Submitting task for keyword='laptop'
2025-10-29 17:20:27,547 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-29 17:20:28,399 - INFO - [API]  Task submitted: 10291350-1177-0209-0000-5d9c9017c2b5
2025-10-29 17:20:28,400 - INFO - [API] Cost: $0.001
2025-10-29 17:20:28,400 - INFO - [WAIT] Initial wait: 200s...
2025-10-29 17:23:48,402 - INFO - [CHECK] Attempt 1/8...
2025-10-29 17:23:48,402 - INFO - [API] Fetching results for 10291350-1177-0209-0000-5d9c9017c2b5
2025-10-29 17:23:49,352 - INFO - [API]  Results retrieved
2025-10-29 17:23:49,355 - INFO - [CSV]  Saved to: amazon_india_laptop_20251029_172349.csv
2025-10-29 17:23:49,355 - INFO - [SUCCESS]  Saved 120 products for 'laptop'
2025-10-29 17:23:49,355 - INFO - 
[PROGRESS] Keyword 2/5
2025-10-29 17:23:49,355 - INFO - 
2025-10-29 17:23:49,355 - INFO - ======================================================================
2025-10-29 17:23:49,355 - INFO - [COLLECT] Keyword: smartphone
2025-10-29 17:23:49,356 - INFO - ======================================================================
2025-10-29 17:23:49,356 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-29 17:23:49,356 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-29 17:23:49,553 - INFO - [API]  Task submitted: 10291353-1177-0209-0000-e6d766033c01
2025-10-29 17:23:49,554 - INFO - [API] Cost: $0.001
2025-10-29 17:23:49,554 - INFO - [WAIT] Initial wait: 200s...
2025-10-29 17:27:09,555 - INFO - [CHECK] Attempt 1/8...
2025-10-29 17:27:09,556 - INFO - [API] Fetching results for 10291353-1177-0209-0000-e6d766033c01
2025-10-29 17:27:10,864 - INFO - [API]  Results retrieved
2025-10-29 17:27:10,866 - INFO - [CSV]  Saved to: amazon_india_smartphone_20251029_172710.csv
2025-10-29 17:27:10,867 - INFO - [SUCCESS]  Saved 120 products for 'smartphone'
2025-10-29 17:27:10,867 - INFO - 
[PROGRESS] Keyword 3/5
2025-10-29 17:27:10,867 - INFO - 
2025-10-29 17:27:10,867 - INFO - ======================================================================
2025-10-29 17:27:10,867 - INFO - [COLLECT] Keyword: headphones
2025-10-29 17:27:10,867 - INFO - ======================================================================
2025-10-29 17:27:10,867 - INFO - [API] Submitting task for keyword='headphones'
2025-10-29 17:27:10,867 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-29 17:27:11,142 - INFO - [API]  Task submitted: 10291357-1177-0209-0000-f350830e85cb
2025-10-29 17:27:11,143 - INFO - [API] Cost: $0.001
2025-10-29 17:27:11,143 - INFO - [WAIT] Initial wait: 200s...
2025-10-29 17:30:31,145 - INFO - [CHECK] Attempt 1/8...
2025-10-29 17:30:31,146 - INFO - [API] Fetching results for 10291357-1177-0209-0000-f350830e85cb
2025-10-29 17:30:33,995 - INFO - [API]  Results retrieved
2025-10-29 17:30:34,008 - INFO - [CSV]  Saved to: amazon_india_headphones_20251029_173033.csv
2025-10-29 17:30:34,010 - INFO - [SUCCESS]  Saved 98 products for 'headphones'
2025-10-29 17:30:34,012 - INFO - 
[PROGRESS] Keyword 4/5
2025-10-29 17:30:34,013 - INFO - 
2025-10-29 17:30:34,014 - INFO - ======================================================================
2025-10-29 17:30:34,015 - INFO - [COLLECT] Keyword: smartwatch
2025-10-29 17:30:34,021 - INFO - ======================================================================
2025-10-29 17:30:34,024 - INFO - [API] Submitting task for keyword='smartwatch'
2025-10-29 17:30:34,025 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-29 17:30:34,316 - INFO - [API]  Task submitted: 10291400-1177-0209-0000-cd945e137082
2025-10-29 17:30:34,317 - INFO - [API] Cost: $0.001
2025-10-29 17:30:34,317 - INFO - [WAIT] Initial wait: 200s...
2025-10-29 17:33:54,319 - INFO - [CHECK] Attempt 1/8...
2025-10-29 17:33:54,322 - INFO - [API] Fetching results for 10291400-1177-0209-0000-cd945e137082
2025-10-29 17:33:57,246 - INFO - [API]  Results retrieved
2025-10-29 17:33:57,264 - INFO - [CSV]  Saved to: amazon_india_smartwatch_20251029_173357.csv
2025-10-29 17:33:57,266 - INFO - [SUCCESS]  Saved 106 products for 'smartwatch'
2025-10-29 17:33:57,268 - INFO - 
[PROGRESS] Keyword 5/5
2025-10-29 17:33:57,269 - INFO - 
2025-10-29 17:33:57,270 - INFO - ======================================================================
2025-10-29 17:33:57,276 - INFO - [COLLECT] Keyword: tablet
2025-10-29 17:33:57,277 - INFO - ======================================================================
2025-10-29 17:33:57,280 - INFO - [API] Submitting task for keyword='tablet'
2025-10-29 17:33:57,282 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-29 17:33:57,542 - INFO - [API]  Task submitted: 10291403-1177-0209-0000-c705dfe85c9f
2025-10-29 17:33:57,543 - INFO - [API] Cost: $0.001
2025-10-29 17:33:57,545 - INFO - [WAIT] Initial wait: 200s...
2025-10-29 17:37:17,547 - INFO - [CHECK] Attempt 1/8...
2025-10-29 17:37:17,548 - INFO - [API] Fetching results for 10291403-1177-0209-0000-c705dfe85c9f
2025-10-29 17:38:19,375 - ERROR - [RestClient] Timeout after 60s: https://api.dataforseo.com/v3/merchant/amazon/products/task_get/advanced/10291403-1177-0209-0000-c705dfe85c9f
2025-10-29 17:38:19,376 - ERROR - [API] No response received
2025-10-29 17:38:19,376 - INFO - [WAITING] 30s before retry...
2025-10-29 17:38:49,377 - INFO - [CHECK] Attempt 2/8...
2025-10-29 17:38:49,386 - INFO - [API] Fetching results for 10291403-1177-0209-0000-c705dfe85c9f
2025-10-29 17:38:52,033 - WARNING - [API] Task in queue (40602)
2025-10-29 17:38:52,034 - INFO - [WAITING] 30s before retry...
2025-10-29 17:39:22,036 - INFO - [CHECK] Attempt 3/8...
2025-10-29 17:39:22,037 - INFO - [API] Fetching results for 10291403-1177-0209-0000-c705dfe85c9f
2025-10-29 17:39:22,565 - INFO - [API]  Results retrieved
2025-10-29 17:39:22,581 - INFO - [CSV]  Saved to: amazon_india_tablet_20251029_173922.csv
2025-10-29 17:39:22,583 - INFO - [SUCCESS]  Saved 131 products for 'tablet'
2025-10-29 17:39:22,586 - INFO - [CSV]  Summary saved to: summary_20251029_173922.txt
2025-10-29 17:39:22,592 - INFO - 
2025-10-29 17:39:22,593 - INFO - ======================================================================
2025-10-29 17:39:22,593 - INFO - [COMPLETE] Collection Finished!
2025-10-29 17:39:22,595 - INFO - ======================================================================
2025-10-29 17:39:22,596 - INFO - Collection Date: 2025-10-29 17:39:22
2025-10-29 17:39:22,597 - INFO - Location: 2356 (India)
2025-10-29 17:39:22,597 - INFO - Language: en_US
2025-10-29 17:39:22,598 - INFO - Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-29 17:39:22,599 - INFO - Successful: 5/5
2025-10-29 17:39:22,599 - INFO - Total Products: 575
2025-10-29 17:39:22,600 - INFO - Estimated Cost: $0.575
2025-10-29 17:39:22,607 - INFO - Time Taken: 18m 55s
2025-10-29 17:39:22,607 - INFO - Output Directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-29 17:39:22,610 - INFO - ======================================================================
2025-10-30 09:53:27,178 - INFO - 
======================================================================
2025-10-30 09:53:27,178 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 09:53:27,179 - INFO - Table: dataforseo_amazon_products
2025-10-30 09:53:27,179 - INFO - ======================================================================
2025-10-30 09:53:27,183 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 09:53:27,184 - INFO - [CONFIG] Language Code: en_US
2025-10-30 09:53:27,184 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 09:53:27,184 - INFO - [API] Initialized
2025-10-30 09:53:27,185 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 09:53:29,329 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 09:53:29,331 - INFO - [DB] Retrying in 2s...
2025-10-30 09:53:31,332 - INFO - [DB] Attempt 2/3: Connecting...
2025-10-30 09:53:33,427 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 09:53:33,427 - INFO - [DB] Retrying in 4s...
2025-10-30 09:53:37,428 - INFO - [DB] Attempt 3/3: Connecting...
2025-10-30 09:53:39,503 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 09:53:39,509 - ERROR - [DB] All connection attempts failed
2025-10-30 09:53:39,510 - ERROR - [EXIT] Database connection failed
2025-10-30 09:53:39,510 - ERROR - [HELP] Check DATABASE_URL and network connection
2025-10-30 09:55:30,281 - INFO - 
======================================================================
2025-10-30 09:55:30,281 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 09:55:30,282 - INFO - Table: dataforseo_amazon_products
2025-10-30 09:55:30,282 - INFO - ======================================================================
2025-10-30 09:55:30,285 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 09:55:30,285 - INFO - [CONFIG] Language Code: en_US
2025-10-30 09:55:30,286 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 09:55:30,286 - INFO - [API] Initialized
2025-10-30 09:55:30,286 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 09:55:30,816 - INFO - [DB]  Connection successful
2025-10-30 09:55:30,928 - ERROR - [DB ERROR] Failed to create table: column "location_code" does not exist

2025-10-30 09:55:30,965 - ERROR - [EXIT] Failed to create/verify table
2025-10-30 09:57:22,119 - INFO - 
======================================================================
2025-10-30 09:57:22,119 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 09:57:22,119 - INFO - Table: dataforseo_amazon_products
2025-10-30 09:57:22,120 - INFO - ======================================================================
2025-10-30 09:57:22,123 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 09:57:22,123 - INFO - [CONFIG] Language Code: en_US
2025-10-30 09:57:22,124 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 09:57:22,124 - INFO - [API] Initialized
2025-10-30 09:57:22,124 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 09:57:22,418 - INFO - [DB]  Connection successful
2025-10-30 09:57:22,539 - ERROR - [DB ERROR] Failed to create table: column "location_code" does not exist

2025-10-30 09:57:22,603 - ERROR - [EXIT] Failed to create/verify table
2025-10-30 09:58:45,705 - INFO - 
======================================================================
2025-10-30 09:58:45,705 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 09:58:45,706 - INFO - Table: dataforseo_amazon_products
2025-10-30 09:58:45,706 - INFO - ======================================================================
2025-10-30 09:58:45,709 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 09:58:45,709 - INFO - [CONFIG] Language Code: en_US
2025-10-30 09:58:45,710 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 09:58:45,710 - INFO - [API] Initialized
2025-10-30 09:58:45,710 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 09:58:45,983 - INFO - [DB]  Connection successful
2025-10-30 09:58:46,138 - INFO - [DB]  Table 'dataforseo_amazon_products' verified
2025-10-30 09:58:46,217 - INFO - [DB] Current records: 0
2025-10-30 09:58:46,269 - INFO - [DB] Initial stats: 0 products, 0 keywords
2025-10-30 09:58:46,271 - INFO - 
2025-10-30 09:58:46,272 - INFO - ======================================================================
2025-10-30 09:58:46,272 - INFO - [START] DataForSEO Collection - INDIA
2025-10-30 09:58:46,272 - INFO - [INFO] Location: 2356 (India)
2025-10-30 09:58:46,273 - INFO - [INFO] Language: en_US
2025-10-30 09:58:46,273 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 09:58:46,274 - INFO - [INFO] Table: dataforseo_amazon_products
2025-10-30 09:58:46,274 - INFO - ======================================================================
2025-10-30 09:58:46,275 - INFO - 
[PROGRESS] Keyword 1/5
2025-10-30 09:58:46,275 - INFO - 
2025-10-30 09:58:46,275 - INFO - ======================================================================
2025-10-30 09:58:46,276 - INFO - [COLLECT] Keyword: laptop
2025-10-30 09:58:46,276 - INFO - ======================================================================
2025-10-30 09:58:46,278 - INFO - [API] Submitting task for 'laptop'
2025-10-30 09:58:46,278 - INFO - [API] Location: 2356, Language: en_US, Depth: 100
2025-10-30 09:58:47,731 - INFO - [API]  Task submitted: 10300628-1177-0209-0000-e0daac447871
2025-10-30 09:58:47,733 - INFO - [API] Estimated cost: $0.0010
2025-10-30 09:58:47,734 - INFO - [WAIT] Waiting 200s for processing...
2025-10-30 10:02:07,741 - INFO - [CHECK] Attempt 1/8
2025-10-30 10:02:07,742 - INFO - [API] Fetching results for 10300628-1177-0209-0000-e0daac447871
2025-10-30 10:02:09,698 - INFO - [API]  Results retrieved
2025-10-30 10:02:09,702 - INFO - [DB] Saving 120 products...
2025-10-30 10:02:10,026 - ERROR - [DB ERROR] Failed to save products: column "price_from" of relation "dataforseo_amazon_products" does not exist
LINE 4:                  price_from, price_to, currency, rating_valu...
                         ^

2025-10-30 10:02:10,027 - ERROR - [DB ERROR] First product sample: {'task_id': '10300628-1177-0209-0000-e0daac447871', 'asin': 'B0F4R3GFMQ', 'keyword': 'laptop', 'title': "HP 15, 13th Gen Intel Core i3-1315U (12GB DDR4, 512GB SSD) FHD, Anti-Glare, Micro-Edge, 15.6''/39.6cm, Win11, M365 Basic(1yr)* Office24, Silver, 1.59kg, fd0573TU, FHD Camera w/Shutter Laptop", 'url': 'https://www.amazon.in/HP-i3-1315U-Anti-Glare-Micro-Edge-fd0573TU/dp/B0F4R3GFMQ/ref=sr_1_1?crid=X1XL2BVU0Z25&dib=eyJ2IjoiMSJ9.DaCJaC_X__zvgtpETxaWT-rO1K_kNNn2H6oMDD0O7Jfm1n1Rcbihba53-eCcrIsIJ2_oAaQOX1FMSCfcf68IOaY3r5E2cDumx1BWUbNCTCEel8UWJ10f7LU1_9E9dnTDeOZQsd7NDFVGTxzHAD7lPkyO6evOa1rTlLh1Xr5Pjirv8B6aRT7bw5dW6srEdSfSUKwvxfN7ybC4yHAVkeMgULftqbkWQGwFqbpEeBBuD5I.706OpbrrG4PYgcbu7xKlH2KQ3fwUhEC6GkM3_BDxdJk&dib_tag=se&keywords=laptop&qid=1761798541&sprefix=laptop%2Caps%2C262&sr=8-1', 'image_url': 'https://m.media-amazon.com/images/I/71FXHAM+jWL._AC_UY218_.jpg', 'price_from': None, 'price_to': None, 'currency': None, 'rating_value': 4, 'rating_votes': 668, 'is_best_seller': False, 'location_code': 2356, 'language_code': 'en_US'}
2025-10-30 10:02:10,058 - INFO - [SUCCESS]  Saved 0 products for 'laptop'
2025-10-30 10:02:10,059 - INFO - 
[PROGRESS] Keyword 2/5
2025-10-30 10:02:10,060 - INFO - 
2025-10-30 10:02:10,060 - INFO - ======================================================================
2025-10-30 10:02:10,060 - INFO - [COLLECT] Keyword: smartphone
2025-10-30 10:02:10,061 - INFO - ======================================================================
2025-10-30 10:02:10,061 - INFO - [API] Submitting task for 'smartphone'
2025-10-30 10:02:10,062 - INFO - [API] Location: 2356, Language: en_US, Depth: 100
2025-10-30 10:02:10,347 - INFO - [API]  Task submitted: 10300632-1177-0209-0000-71b3eb1638c5
2025-10-30 10:02:10,349 - INFO - [API] Estimated cost: $0.0010
2025-10-30 10:02:10,349 - INFO - [WAIT] Waiting 200s for processing...
2025-10-30 10:05:30,365 - INFO - [CHECK] Attempt 1/8
2025-10-30 10:05:30,365 - INFO - [API] Fetching results for 10300632-1177-0209-0000-71b3eb1638c5
2025-10-30 10:05:32,303 - INFO - [API]  Results retrieved
2025-10-30 10:05:32,305 - INFO - [DB] Saving 108 products...
2025-10-30 10:05:32,657 - ERROR - [DB ERROR] Failed to save products: column "price_from" of relation "dataforseo_amazon_products" does not exist
LINE 4:                  price_from, price_to, currency, rating_valu...
                         ^

2025-10-30 10:05:32,659 - ERROR - [DB ERROR] First product sample: {'task_id': '10300632-1177-0209-0000-71b3eb1638c5', 'asin': 'B0FG2LPC6K', 'keyword': 'smartphone', 'title': "realme NARZO 80 Lite 4G (Obsidian Black, 4GB+64GB) | 6300mAh Segment's Biggest Battery | 7.94mm Slim Design | 300% Ultra Volume | Pulse Light: 9 Colors, 5 Glow Modes | Ai Assist", 'url': 'https://www.amazon.in/realme-Obsidian-6300mAh-Segments-Biggest/dp/B0FG2LPC6K/ref=sr_1_1?crid=OQY1ZVVHF86S&dib=eyJ2IjoiMSJ9.GohkxX1dn0wJz8hBYtVZmpWFoTwkxsIPTjJWgqPr2AzeGYTPvICz8cSsUMmhagfD94zeu-kCv8LPSDTaFvvz5d_5KbL6-DY-vNigBXf0Iw8JMX7oGvdGEHmbIafUFKeiOsOBvqDGZQRSwdriggXCKFvSfzaEGXZGbCw4wP9F70tX8L2SucrZIbWxBwmiRioD-6UEbkHlbpm44s0akS9uOtB7Q6uWOPIZjd6CS30i5g0.De3ff24tbxhBfYOE-EwW1yjXyulkv26CuFiEJr1EROw&dib_tag=se&keywords=smartphone&qid=1761798878&sprefix=smartphone%2Caps%2C151&sr=8-1', 'image_url': 'https://m.media-amazon.com/images/I/81oxfhHd5XL._AC_UY218_.jpg', 'price_from': 6798, 'price_to': None, 'currency': 'INR', 'rating_value': 4.2, 'rating_votes': 1100, 'is_best_seller': False, 'location_code': 2356, 'language_code': 'en_US'}
2025-10-30 10:05:32,693 - INFO - [SUCCESS]  Saved 0 products for 'smartphone'
2025-10-30 10:05:32,695 - INFO - 
[PROGRESS] Keyword 3/5
2025-10-30 10:05:32,695 - INFO - 
2025-10-30 10:05:32,696 - INFO - ======================================================================
2025-10-30 10:05:32,696 - INFO - [COLLECT] Keyword: headphones
2025-10-30 10:05:32,696 - INFO - ======================================================================
2025-10-30 10:05:32,697 - INFO - [API] Submitting task for 'headphones'
2025-10-30 10:05:32,697 - INFO - [API] Location: 2356, Language: en_US, Depth: 100
2025-10-30 10:05:32,957 - INFO - [API]  Task submitted: 10300635-1177-0209-0000-289ace857d5c
2025-10-30 10:05:32,957 - INFO - [API] Estimated cost: $0.0010
2025-10-30 10:05:32,957 - INFO - [WAIT] Waiting 200s for processing...
2025-10-30 10:08:29,625 - INFO - 
[STOP] Stopped by user
2025-10-30 10:19:25,328 - INFO - 
======================================================================
2025-10-30 10:19:25,329 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 10:19:25,329 - INFO - Table: dataforseo_amazon_products
2025-10-30 10:19:25,329 - INFO - ======================================================================
2025-10-30 10:19:25,332 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 10:19:25,332 - INFO - [CONFIG] Language Code: en_US
2025-10-30 10:19:25,333 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 10:19:25,333 - INFO - [API] Initialized
2025-10-30 10:19:25,333 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 10:19:25,603 - INFO - [DB]  Connection successful
2025-10-30 10:19:25,786 - INFO - [DB]  Table 'dataforseo_amazon_products' verified
2025-10-30 10:19:25,887 - INFO - [DB] Current records: 0
2025-10-30 10:19:25,935 - INFO - [DB] Initial stats: 0 products, 0 keywords
2025-10-30 10:19:25,935 - INFO - 
2025-10-30 10:19:25,936 - INFO - ======================================================================
2025-10-30 10:19:25,937 - INFO - [START] DataForSEO Collection - INDIA
2025-10-30 10:19:25,937 - INFO - [INFO] Location: 2356 (India)
2025-10-30 10:19:25,937 - INFO - [INFO] Language: en_US
2025-10-30 10:19:25,938 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 10:19:25,939 - INFO - [INFO] Table: dataforseo_amazon_products
2025-10-30 10:19:25,939 - INFO - ======================================================================
2025-10-30 10:19:25,941 - INFO - 
[PROGRESS] Keyword 1/5
2025-10-30 10:19:25,942 - INFO - 
2025-10-30 10:19:25,943 - INFO - ======================================================================
2025-10-30 10:19:25,944 - INFO - [COLLECT] Keyword: laptop
2025-10-30 10:19:25,944 - INFO - ======================================================================
2025-10-30 10:19:25,945 - INFO - [API] Submitting task for 'laptop'
2025-10-30 10:19:25,945 - INFO - [API] Location: 2356, Language: en_US, Depth: 100
2025-10-30 10:19:27,165 - INFO - [API]  Task submitted: 10300649-1177-0209-0000-fbee9953733b
2025-10-30 10:19:27,165 - INFO - [API] Estimated cost: $0.0010
2025-10-30 10:19:27,165 - INFO - [WAIT] Waiting 200s for processing...
2025-10-30 10:22:47,176 - INFO - [CHECK] Attempt 1/8
2025-10-30 10:22:47,176 - INFO - [API] Fetching results for 10300649-1177-0209-0000-fbee9953733b
2025-10-30 10:22:48,333 - INFO - [API]  Results retrieved
2025-10-30 10:22:48,333 - INFO - [DB] Saving 120 products...
2025-10-30 10:22:48,337 - ERROR - [DB ERROR] Failed to save products: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

2025-10-30 10:22:48,338 - ERROR - [DB ERROR] First product sample: {'task_id': '10300649-1177-0209-0000-fbee9953733b', 'asin': 'B0F4R3GFMQ', 'keyword': 'laptop', 'title': "HP 15, 13th Gen Intel Core i3-1315U (12GB DDR4, 512GB SSD) FHD, Anti-Glare, Micro-Edge, 15.6''/39.6cm, Win11, M365 Basic(1yr)* Office24, Silver, 1.59kg, fd0573TU, FHD Camera w/Shutter Laptop", 'url': 'https://www.amazon.in/HP-i3-1315U-Anti-Glare-Micro-Edge-fd0573TU/dp/B0F4R3GFMQ/ref=sr_1_1?crid=LOJI361N7VVF&dib=eyJ2IjoiMSJ9.DaCJaC_X__zvgtpETxaWT-rO1K_kNNn2H6oMDD0O7JfNU1E2Qmrb8reXmBKk2dOs5HCPI9M4zOO_GMGE7Wg-VVPUJ4hOFCMCg9sC08dXc4fyk3TdeVrNE9goTVXaN6DyuDyV2J4oXagb-0pn5vND24_inzKJyneI30Q7yCxJroc2I9psAQEmtW0lFkleFP-EbXu852_LpsxEYefd6g_Au2m05ifeBmqTAogG6dDFyxM.Gfjt_n4mGMA2IpJiKGi6Zuo91BXChr8J3Y2GdIl6ti4&dib_tag=se&keywords=laptop&qid=1761799808&sprefix=laptop%2Caps%2C131&sr=8-1', 'image_url': 'https://m.media-amazon.com/images/I/71FXHAM+jWL._AC_UY218_.jpg', 'price_from': None, 'price_to': None, 'currency': None, 'rating_value': 4, 'rating_votes': 668, 'is_best_seller': False, 'location_code': 2356, 'language_code': 'en_US'}
2025-10-30 10:22:48,338 - ERROR - [ERROR] connection already closed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1069, in save_products
    execute_values(cursor, """
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
        INSERT INTO dataforseo_amazon_products
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<15 lines>...
            updated_at = NOW()
            ^^^^^^^^^^^^^^^^^^
    """, values)
    ^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 1299, in execute_values
    cur.execute(b''.join(parts))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1408, in main
    results, elapsed = collector.collect_all(config.KEYWORDS)
                       ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1368, in collect_all
    result = self.collect_keyword(keyword.strip())
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1333, in collect_keyword
    saved = self.db.save_products(products)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1101, in save_products
    self.conn.rollback()
    ~~~~~~~~~~~~~~~~~~^^
psycopg2.InterfaceError: connection already closed
2025-10-30 10:33:07,602 - INFO - 
======================================================================
2025-10-30 10:33:07,602 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 10:33:07,602 - INFO - Table: dataforseo_amazon_products
2025-10-30 10:33:07,603 - INFO - ======================================================================
2025-10-30 10:33:07,620 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 10:33:07,620 - INFO - [CONFIG] Language Code: en_US
2025-10-30 10:33:07,620 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 10:33:07,622 - INFO - [API] Initialized
2025-10-30 10:33:07,622 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 10:33:07,957 - INFO - [DB]  Connection successful
2025-10-30 10:38:39,553 - INFO - 
======================================================================
2025-10-30 10:38:39,554 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 10:38:39,554 - INFO - Table: dataforseo_amazon_products
2025-10-30 10:38:39,554 - INFO - ======================================================================
2025-10-30 10:38:39,557 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 10:38:39,557 - INFO - [CONFIG] Language Code: en_US
2025-10-30 10:38:39,558 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 10:38:39,558 - INFO - [API] Initialized
2025-10-30 10:38:39,558 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 10:38:39,892 - INFO - [DB]  Connection successful
2025-10-30 10:40:29,039 - INFO - 
======================================================================
2025-10-30 10:40:29,039 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 10:40:29,040 - INFO - Table: dataforseo_amazon_products
2025-10-30 10:40:29,040 - INFO - ======================================================================
2025-10-30 10:40:29,043 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 10:40:29,043 - INFO - [CONFIG] Language Code: en_US
2025-10-30 10:40:29,043 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 10:40:29,043 - INFO - [API] Initialized
2025-10-30 10:40:29,044 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 10:40:29,299 - INFO - [DB]  Connection successful
2025-10-30 10:45:51,236 - INFO - 
======================================================================
2025-10-30 10:45:51,237 - INFO - DataForSEO Amazon Collector - CSV Version
2025-10-30 10:45:51,237 - INFO - No database required - saves to CSV files
2025-10-30 10:45:51,237 - INFO - ======================================================================
2025-10-30 10:45:51,240 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 10:45:51,240 - INFO - [CONFIG] Language Code: en_US
2025-10-30 10:45:51,240 - INFO - [CONFIG] Output Directory: data_output
2025-10-30 10:45:51,243 - INFO - [CSV] Output directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-30 10:45:51,243 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 10:45:51,244 - INFO - [API] Initialized with 60s timeout
2025-10-30 10:45:51,244 - INFO - 
2025-10-30 10:45:51,246 - INFO - ======================================================================
2025-10-30 10:45:51,246 - INFO - [START] DataForSEO Collection for INDIA
2025-10-30 10:45:51,246 - INFO - [INFO] Location: 2356 (India)
2025-10-30 10:45:51,247 - INFO - [INFO] Language: en_US
2025-10-30 10:45:51,247 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 10:45:51,247 - INFO - [INFO] Output: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-30 10:45:51,247 - INFO - ======================================================================
2025-10-30 10:45:51,247 - INFO - 
[PROGRESS] Keyword 1/5
2025-10-30 10:45:51,248 - INFO - 
2025-10-30 10:45:51,248 - INFO - ======================================================================
2025-10-30 10:45:51,253 - INFO - [COLLECT] Keyword: laptop
2025-10-30 10:45:51,255 - INFO - ======================================================================
2025-10-30 10:45:51,256 - INFO - [API] Submitting task for keyword='laptop'
2025-10-30 10:45:51,256 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 10:45:54,719 - INFO - [API]  Task submitted: 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:45:54,719 - INFO - [API] Cost: $0.001
2025-10-30 10:45:54,720 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 10:49:14,728 - INFO - [CHECK] Attempt 1/8...
2025-10-30 10:49:14,729 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:49:18,481 - WARNING - [API] Task in queue (40602)
2025-10-30 10:49:18,481 - INFO - [WAITING] 30s before retry...
2025-10-30 10:49:48,483 - INFO - [CHECK] Attempt 2/8...
2025-10-30 10:49:48,484 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:49:49,813 - WARNING - [API] Task in queue (40602)
2025-10-30 10:49:49,814 - INFO - [WAITING] 30s before retry...
2025-10-30 10:50:19,816 - INFO - [CHECK] Attempt 3/8...
2025-10-30 10:50:19,817 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:50:21,566 - WARNING - [API] Task in queue (40602)
2025-10-30 10:50:21,567 - INFO - [WAITING] 30s before retry...
2025-10-30 10:50:51,569 - INFO - [CHECK] Attempt 4/8...
2025-10-30 10:50:51,571 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:50:52,624 - WARNING - [API] Task in queue (40602)
2025-10-30 10:50:52,626 - INFO - [WAITING] 30s before retry...
2025-10-30 10:51:22,628 - INFO - [CHECK] Attempt 5/8...
2025-10-30 10:51:22,630 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:51:23,865 - WARNING - [API] Task in queue (40602)
2025-10-30 10:51:23,866 - INFO - [WAITING] 30s before retry...
2025-10-30 10:51:53,868 - INFO - [CHECK] Attempt 6/8...
2025-10-30 10:51:53,868 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:51:55,171 - WARNING - [API] Task in queue (40602)
2025-10-30 10:51:55,171 - INFO - [WAITING] 30s before retry...
2025-10-30 10:52:25,173 - INFO - [CHECK] Attempt 7/8...
2025-10-30 10:52:25,174 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:52:25,801 - WARNING - [API] Task in queue (40602)
2025-10-30 10:52:25,805 - INFO - [WAITING] 30s before retry...
2025-10-30 10:52:55,806 - INFO - [CHECK] Attempt 8/8...
2025-10-30 10:52:55,806 - INFO - [API] Fetching results for 10300715-1177-0209-0000-cc5af4e4dc84
2025-10-30 10:52:56,752 - WARNING - [API] Task in queue (40602)
2025-10-30 10:52:56,752 - ERROR - [FAILED] Could not retrieve results for 'laptop'
2025-10-30 10:52:56,753 - INFO - 
[PROGRESS] Keyword 2/5
2025-10-30 10:52:56,754 - INFO - 
2025-10-30 10:52:56,754 - INFO - ======================================================================
2025-10-30 10:52:56,755 - INFO - [COLLECT] Keyword: smartphone
2025-10-30 10:52:56,755 - INFO - ======================================================================
2025-10-30 10:52:56,755 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-30 10:52:56,755 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 10:52:57,747 - INFO - [API]  Task submitted: 10300722-1177-0209-0000-849434ece38b
2025-10-30 10:52:57,748 - INFO - [API] Cost: $0.001
2025-10-30 10:52:57,748 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 10:54:11,227 - INFO - 
[STOP] Stopped by user
2025-10-30 10:54:47,537 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 10:54:47,537 - INFO - [CONFIG] Language Code: en_US
2025-10-30 10:54:47,538 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 10:54:47,538 - INFO - [API] Initialized with 60s timeout
2025-10-30 10:54:47,538 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 10:54:52,723 - INFO - [DB]  Connection successful
2025-10-30 10:54:54,624 - INFO - [DB] Tables verified (amazon_products_india)
2025-10-30 10:54:54,625 - INFO - 
2025-10-30 10:54:54,626 - INFO - ======================================================================
2025-10-30 10:54:54,626 - INFO - [START] Starting data collection for INDIA
2025-10-30 10:54:54,626 - INFO - [INFO] Location Code: 2356 (India)
2025-10-30 10:54:54,627 - INFO - [INFO] Language Code: en_US
2025-10-30 10:54:54,627 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 10:54:54,627 - INFO - ======================================================================
2025-10-30 10:54:54,627 - INFO - 
[PROGRESS] Processing keyword 1/5
2025-10-30 10:54:54,628 - INFO - 
2025-10-30 10:54:54,628 - INFO - ======================================================================
2025-10-30 10:54:54,628 - INFO - [COLLECT] Keyword: laptop
2025-10-30 10:54:54,628 - INFO - ======================================================================
2025-10-30 10:54:54,628 - INFO - [API] Submitting task for keyword='laptop'
2025-10-30 10:54:54,628 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 10:54:58,055 - INFO - [API]  Task submitted: 10300724-1177-0209-0000-c29cd337c072
2025-10-30 10:54:58,055 - INFO - [API] Task status: Task Created.
2025-10-30 10:54:58,056 - INFO - [WAIT] Initial wait: 200s for processing...
2025-10-30 10:58:18,062 - INFO - [CHECK] Attempt 1/8 to retrieve results...
2025-10-30 10:58:18,062 - INFO - [API] Fetching results for 10300724-1177-0209-0000-c29cd337c072
2025-10-30 10:58:21,872 - WARNING - [API] Task in queue (40602)
2025-10-30 10:58:21,873 - INFO - [WAITING] Results not ready, waiting 30s before retry...
2025-10-30 10:58:51,874 - INFO - [CHECK] Attempt 2/8 to retrieve results...
2025-10-30 10:58:51,875 - INFO - [API] Fetching results for 10300724-1177-0209-0000-c29cd337c072
2025-10-30 10:58:53,015 - WARNING - [API] Task in queue (40602)
2025-10-30 10:58:53,015 - INFO - [WAITING] Results not ready, waiting 30s before retry...
2025-10-30 10:59:11,433 - INFO - 
[STOP] Stopped by user
2025-10-30 10:59:36,624 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 10:59:36,624 - INFO - [CONFIG] Language Code: en_US
2025-10-30 10:59:36,625 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 10:59:36,625 - INFO - [API] Initialized with 60s timeout
2025-10-30 10:59:36,625 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 10:59:42,109 - INFO - [DB]  Connection successful
2025-10-30 10:59:46,480 - INFO - [DB] Tables verified (amazon_products_india)
2025-10-30 10:59:46,481 - INFO - 
2025-10-30 10:59:46,481 - INFO - ======================================================================
2025-10-30 10:59:46,482 - INFO - [START] Starting data collection for INDIA
2025-10-30 10:59:46,482 - INFO - [INFO] Location Code: 2356 (India)
2025-10-30 10:59:46,482 - INFO - [INFO] Language Code: en_US
2025-10-30 10:59:46,483 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 10:59:46,483 - INFO - ======================================================================
2025-10-30 10:59:46,484 - INFO - 
[PROGRESS] Processing keyword 1/5
2025-10-30 10:59:46,484 - INFO - 
2025-10-30 10:59:46,484 - INFO - ======================================================================
2025-10-30 10:59:46,484 - INFO - [COLLECT] Keyword: laptop
2025-10-30 10:59:46,485 - INFO - ======================================================================
2025-10-30 10:59:46,485 - INFO - [API] Submitting task for keyword='laptop'
2025-10-30 10:59:46,486 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 10:59:51,578 - INFO - [API]  Task submitted: 10300729-1177-0209-0000-6e65b1c75f14
2025-10-30 10:59:51,578 - INFO - [API] Task status: Task Created.
2025-10-30 10:59:51,578 - INFO - [WAIT] Initial wait: 200s for processing...
2025-10-30 11:03:11,585 - INFO - [CHECK] Attempt 1/8 to retrieve results...
2025-10-30 11:03:11,587 - INFO - [API] Fetching results for 10300729-1177-0209-0000-6e65b1c75f14
2025-10-30 11:03:15,295 - INFO - [API]  Results retrieved
2025-10-30 11:03:15,300 - ERROR - [DB ERROR] Save failed: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

2025-10-30 11:03:15,302 - ERROR - [ERROR] connection already closed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 541, in save_products
    execute_values(cursor, """
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
        INSERT INTO amazon_products_india
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<12 lines>...
        for p in products
        ^^^^^^^^^^^^^^^^^
    ])
    ^^
  File "C:\Users\AFI-02-AI\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 1299, in execute_values
    cur.execute(b''.join(parts))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 840, in main
    results = collector.collect_all(config.KEYWORDS)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 817, in collect_all
    result = self.collect_keyword(keyword.strip())
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 784, in collect_keyword
    saved = self.db.save_products(products)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 561, in save_products
    self.conn.rollback()
    ~~~~~~~~~~~~~~~~~~^^
psycopg2.InterfaceError: connection already closed
2025-10-30 11:05:26,945 - INFO - 
======================================================================
2025-10-30 11:05:26,945 - INFO - DataForSEO Amazon Collector - CSV Version
2025-10-30 11:05:26,945 - INFO - No database required - saves to CSV files
2025-10-30 11:05:26,945 - INFO - ======================================================================
2025-10-30 11:05:26,948 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 11:05:26,948 - INFO - [CONFIG] Language Code: en_US
2025-10-30 11:05:26,949 - INFO - [CONFIG] Output Directory: data_output
2025-10-30 11:05:26,951 - INFO - [CSV] Output directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-30 11:05:26,951 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 11:05:26,951 - INFO - [API] Initialized with 60s timeout
2025-10-30 11:05:26,952 - INFO - 
2025-10-30 11:05:26,952 - INFO - ======================================================================
2025-10-30 11:05:26,952 - INFO - [START] DataForSEO Collection for INDIA
2025-10-30 11:05:26,952 - INFO - [INFO] Location: 2356 (India)
2025-10-30 11:05:26,952 - INFO - [INFO] Language: en_US
2025-10-30 11:05:26,952 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 11:05:26,952 - INFO - [INFO] Output: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-30 11:05:26,952 - INFO - ======================================================================
2025-10-30 11:05:26,953 - INFO - 
[PROGRESS] Keyword 1/5
2025-10-30 11:05:26,953 - INFO - 
2025-10-30 11:05:26,953 - INFO - ======================================================================
2025-10-30 11:05:26,953 - INFO - [COLLECT] Keyword: laptop
2025-10-30 11:05:26,953 - INFO - ======================================================================
2025-10-30 11:05:26,953 - INFO - [API] Submitting task for keyword='laptop'
2025-10-30 11:05:26,953 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 11:05:27,925 - INFO - [API]  Task submitted: 10300735-1177-0209-0000-971d13076341
2025-10-30 11:05:27,925 - INFO - [API] Cost: $0.001
2025-10-30 11:05:27,926 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 11:08:40,825 - INFO - 
[STOP] Stopped by user
2025-10-30 11:17:10,956 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 11:17:10,957 - INFO - [CONFIG] Language Code: en_US
2025-10-30 11:17:10,957 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 11:17:10,957 - INFO - [API] Initialized with 60s timeout
2025-10-30 11:17:10,957 - INFO - [DB] Attempt 1/3: Connecting...
2025-10-30 11:17:13,085 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 11:17:15,087 - INFO - [DB] Attempt 2/3: Connecting...
2025-10-30 11:17:17,256 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 11:17:21,259 - INFO - [DB] Attempt 3/3: Connecting...
2025-10-30 11:17:23,399 - ERROR - [DB ERROR] connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 11:17:23,399 - ERROR - [EXIT] Database connection failed
2025-10-30 11:18:53,289 - INFO - 
======================================================================
2025-10-30 11:18:53,289 - INFO - DataForSEO Amazon Collector - CSV Version
2025-10-30 11:18:53,289 - INFO - No database required - saves to CSV files
2025-10-30 11:18:53,289 - INFO - ======================================================================
2025-10-30 11:18:53,292 - INFO - [CONFIG] Location Code: 2356 (India)
2025-10-30 11:18:53,292 - INFO - [CONFIG] Language Code: en_US
2025-10-30 11:18:53,292 - INFO - [CONFIG] Output Directory: data_output
2025-10-30 11:18:53,293 - INFO - [CSV] Output directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-30 11:18:53,293 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 11:18:53,294 - INFO - [API] Initialized with 60s timeout
2025-10-30 11:18:53,294 - INFO - 
2025-10-30 11:18:53,294 - INFO - ======================================================================
2025-10-30 11:18:53,294 - INFO - [START] DataForSEO Collection for INDIA
2025-10-30 11:18:53,294 - INFO - [INFO] Location: 2356 (India)
2025-10-30 11:18:53,295 - INFO - [INFO] Language: en_US
2025-10-30 11:18:53,295 - INFO - [INFO] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 11:18:53,295 - INFO - [INFO] Output: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-30 11:18:53,295 - INFO - ======================================================================
2025-10-30 11:18:53,295 - INFO - 
[PROGRESS] Keyword 1/5
2025-10-30 11:18:53,296 - INFO - 
2025-10-30 11:18:53,296 - INFO - ======================================================================
2025-10-30 11:18:53,296 - INFO - [COLLECT] Keyword: laptop
2025-10-30 11:18:53,296 - INFO - ======================================================================
2025-10-30 11:18:53,296 - INFO - [API] Submitting task for keyword='laptop'
2025-10-30 11:18:53,296 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 11:18:54,401 - INFO - [API]  Task submitted: 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:18:54,402 - INFO - [API] Cost: $0.001
2025-10-30 11:18:54,402 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 11:22:14,407 - INFO - [CHECK] Attempt 1/8...
2025-10-30 11:22:14,408 - INFO - [API] Fetching results for 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:22:15,493 - WARNING - [API] Task in queue (40602)
2025-10-30 11:22:15,494 - INFO - [WAITING] 30s before retry...
2025-10-30 11:22:45,496 - INFO - [CHECK] Attempt 2/8...
2025-10-30 11:22:45,496 - INFO - [API] Fetching results for 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:22:45,759 - WARNING - [API] Task in queue (40602)
2025-10-30 11:22:45,760 - INFO - [WAITING] 30s before retry...
2025-10-30 11:23:15,762 - INFO - [CHECK] Attempt 3/8...
2025-10-30 11:23:15,764 - INFO - [API] Fetching results for 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:23:15,992 - WARNING - [API] Task in queue (40602)
2025-10-30 11:23:15,993 - INFO - [WAITING] 30s before retry...
2025-10-30 11:23:45,995 - INFO - [CHECK] Attempt 4/8...
2025-10-30 11:23:45,996 - INFO - [API] Fetching results for 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:23:46,199 - WARNING - [API] Task in queue (40602)
2025-10-30 11:23:46,199 - INFO - [WAITING] 30s before retry...
2025-10-30 11:24:16,201 - INFO - [CHECK] Attempt 5/8...
2025-10-30 11:24:16,202 - INFO - [API] Fetching results for 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:24:16,444 - WARNING - [API] Task in queue (40602)
2025-10-30 11:24:16,445 - INFO - [WAITING] 30s before retry...
2025-10-30 11:24:46,446 - INFO - [CHECK] Attempt 6/8...
2025-10-30 11:24:46,448 - INFO - [API] Fetching results for 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:24:46,872 - WARNING - [API] Task in queue (40602)
2025-10-30 11:24:46,875 - INFO - [WAITING] 30s before retry...
2025-10-30 11:25:16,877 - INFO - [CHECK] Attempt 7/8...
2025-10-30 11:25:16,877 - INFO - [API] Fetching results for 10300748-1177-0209-0000-20c60f6d9969
2025-10-30 11:25:17,336 - INFO - [API]  Results retrieved
2025-10-30 11:25:17,371 - INFO - [CSV]  Saved to: amazon_india_laptop_20251030_112517.csv
2025-10-30 11:25:17,371 - INFO - [SUCCESS]  Saved 108 products for 'laptop'
2025-10-30 11:25:17,372 - INFO - 
[PROGRESS] Keyword 2/5
2025-10-30 11:25:17,372 - INFO - 
2025-10-30 11:25:17,373 - INFO - ======================================================================
2025-10-30 11:25:17,373 - INFO - [COLLECT] Keyword: smartphone
2025-10-30 11:25:17,374 - INFO - ======================================================================
2025-10-30 11:25:17,374 - INFO - [API] Submitting task for keyword='smartphone'
2025-10-30 11:25:17,374 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 11:25:17,560 - INFO - [API]  Task submitted: 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:25:17,561 - INFO - [API] Cost: $0.001
2025-10-30 11:25:17,561 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 11:28:37,566 - INFO - [CHECK] Attempt 1/8...
2025-10-30 11:28:37,568 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:28:38,658 - WARNING - [API] Task in queue (40602)
2025-10-30 11:28:38,659 - INFO - [WAITING] 30s before retry...
2025-10-30 11:29:08,660 - INFO - [CHECK] Attempt 2/8...
2025-10-30 11:29:08,661 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:29:08,924 - WARNING - [API] Task in queue (40602)
2025-10-30 11:29:08,925 - INFO - [WAITING] 30s before retry...
2025-10-30 11:29:38,926 - INFO - [CHECK] Attempt 3/8...
2025-10-30 11:29:38,929 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:29:39,338 - WARNING - [API] Task in queue (40602)
2025-10-30 11:29:39,339 - INFO - [WAITING] 30s before retry...
2025-10-30 11:30:09,340 - INFO - [CHECK] Attempt 4/8...
2025-10-30 11:30:09,341 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:30:09,608 - WARNING - [API] Task in queue (40602)
2025-10-30 11:30:09,608 - INFO - [WAITING] 30s before retry...
2025-10-30 11:30:39,610 - INFO - [CHECK] Attempt 5/8...
2025-10-30 11:30:39,612 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:30:39,903 - WARNING - [API] Task in queue (40602)
2025-10-30 11:30:39,904 - INFO - [WAITING] 30s before retry...
2025-10-30 11:31:09,906 - INFO - [CHECK] Attempt 6/8...
2025-10-30 11:31:09,907 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:31:10,217 - WARNING - [API] Task in queue (40602)
2025-10-30 11:31:10,218 - INFO - [WAITING] 30s before retry...
2025-10-30 11:31:40,220 - INFO - [CHECK] Attempt 7/8...
2025-10-30 11:31:40,223 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:31:40,479 - WARNING - [API] Task in queue (40602)
2025-10-30 11:31:40,481 - INFO - [WAITING] 30s before retry...
2025-10-30 11:32:10,483 - INFO - [CHECK] Attempt 8/8...
2025-10-30 11:32:10,484 - INFO - [API] Fetching results for 10300755-1177-0209-0000-060dfeda705a
2025-10-30 11:32:10,794 - WARNING - [API] Task in queue (40602)
2025-10-30 11:32:10,795 - ERROR - [FAILED] Could not retrieve results for 'smartphone'
2025-10-30 11:32:10,796 - INFO - 
[PROGRESS] Keyword 3/5
2025-10-30 11:32:10,796 - INFO - 
2025-10-30 11:32:10,797 - INFO - ======================================================================
2025-10-30 11:32:10,797 - INFO - [COLLECT] Keyword: headphones
2025-10-30 11:32:10,798 - INFO - ======================================================================
2025-10-30 11:32:10,798 - INFO - [API] Submitting task for keyword='headphones'
2025-10-30 11:32:10,798 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 11:32:11,095 - INFO - [API]  Task submitted: 10300802-1177-0209-0000-5702cf7fd9cb
2025-10-30 11:32:11,095 - INFO - [API] Cost: $0.001
2025-10-30 11:32:11,096 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 11:35:31,100 - INFO - [CHECK] Attempt 1/8...
2025-10-30 11:35:31,101 - INFO - [API] Fetching results for 10300802-1177-0209-0000-5702cf7fd9cb
2025-10-30 11:35:32,734 - INFO - [API]  Results retrieved
2025-10-30 11:35:32,737 - INFO - [CSV]  Saved to: amazon_india_headphones_20251030_113532.csv
2025-10-30 11:35:32,739 - INFO - [SUCCESS]  Saved 62 products for 'headphones'
2025-10-30 11:35:32,741 - INFO - 
[PROGRESS] Keyword 4/5
2025-10-30 11:35:32,741 - INFO - 
2025-10-30 11:35:32,741 - INFO - ======================================================================
2025-10-30 11:35:32,742 - INFO - [COLLECT] Keyword: smartwatch
2025-10-30 11:35:32,743 - INFO - ======================================================================
2025-10-30 11:35:32,743 - INFO - [API] Submitting task for keyword='smartwatch'
2025-10-30 11:35:32,745 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 11:35:32,976 - INFO - [API]  Task submitted: 10300805-1177-0209-0000-a0d42355a32f
2025-10-30 11:35:32,977 - INFO - [API] Cost: $0.001
2025-10-30 11:35:32,979 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 11:38:52,983 - INFO - [CHECK] Attempt 1/8...
2025-10-30 11:38:52,984 - INFO - [API] Fetching results for 10300805-1177-0209-0000-a0d42355a32f
2025-10-30 11:38:54,763 - INFO - [API]  Results retrieved
2025-10-30 11:38:54,773 - INFO - [CSV]  Saved to: amazon_india_smartwatch_20251030_113854.csv
2025-10-30 11:38:54,776 - INFO - [SUCCESS]  Saved 105 products for 'smartwatch'
2025-10-30 11:38:54,777 - INFO - 
[PROGRESS] Keyword 5/5
2025-10-30 11:38:54,777 - INFO - 
2025-10-30 11:38:54,778 - INFO - ======================================================================
2025-10-30 11:38:54,778 - INFO - [COLLECT] Keyword: tablet
2025-10-30 11:38:54,779 - INFO - ======================================================================
2025-10-30 11:38:54,779 - INFO - [API] Submitting task for keyword='tablet'
2025-10-30 11:38:54,783 - INFO - [API] Parameters: location_code=2356, language_code=en_US, depth=100
2025-10-30 11:38:55,060 - INFO - [API]  Task submitted: 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:38:55,061 - INFO - [API] Cost: $0.001
2025-10-30 11:38:55,062 - INFO - [WAIT] Initial wait: 200s...
2025-10-30 11:42:15,065 - INFO - [CHECK] Attempt 1/8...
2025-10-30 11:42:15,068 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:42:17,544 - WARNING - [API] Task in queue (40602)
2025-10-30 11:42:17,545 - INFO - [WAITING] 30s before retry...
2025-10-30 11:42:47,546 - INFO - [CHECK] Attempt 2/8...
2025-10-30 11:42:47,551 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:42:47,831 - WARNING - [API] Task in queue (40602)
2025-10-30 11:42:47,832 - INFO - [WAITING] 30s before retry...
2025-10-30 11:43:17,834 - INFO - [CHECK] Attempt 3/8...
2025-10-30 11:43:17,836 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:43:18,075 - WARNING - [API] Task in queue (40602)
2025-10-30 11:43:18,077 - INFO - [WAITING] 30s before retry...
2025-10-30 11:43:48,078 - INFO - [CHECK] Attempt 4/8...
2025-10-30 11:43:48,080 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:43:48,323 - WARNING - [API] Task in queue (40602)
2025-10-30 11:43:48,327 - INFO - [WAITING] 30s before retry...
2025-10-30 11:44:18,331 - INFO - [CHECK] Attempt 5/8...
2025-10-30 11:44:18,332 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:44:18,567 - WARNING - [API] Task in queue (40602)
2025-10-30 11:44:18,568 - INFO - [WAITING] 30s before retry...
2025-10-30 11:44:48,570 - INFO - [CHECK] Attempt 6/8...
2025-10-30 11:44:48,572 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:44:48,841 - WARNING - [API] Task in queue (40602)
2025-10-30 11:44:48,842 - INFO - [WAITING] 30s before retry...
2025-10-30 11:45:18,843 - INFO - [CHECK] Attempt 7/8...
2025-10-30 11:45:18,844 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:45:19,100 - WARNING - [API] Task in queue (40602)
2025-10-30 11:45:19,101 - INFO - [WAITING] 30s before retry...
2025-10-30 11:45:49,104 - INFO - [CHECK] Attempt 8/8...
2025-10-30 11:45:49,105 - INFO - [API] Fetching results for 10300808-1177-0209-0000-78f8157d0f69
2025-10-30 11:45:49,372 - WARNING - [API] Task in queue (40602)
2025-10-30 11:45:49,374 - ERROR - [FAILED] Could not retrieve results for 'tablet'
2025-10-30 11:45:49,379 - INFO - [CSV]  Summary saved to: summary_20251030_114549.txt
2025-10-30 11:45:49,380 - INFO - 
2025-10-30 11:45:49,384 - INFO - ======================================================================
2025-10-30 11:45:49,385 - INFO - [COMPLETE] Collection Finished!
2025-10-30 11:45:49,387 - INFO - ======================================================================
2025-10-30 11:45:49,388 - INFO - Collection Date: 2025-10-30 11:45:49
2025-10-30 11:45:49,390 - INFO - Location: 2356 (India)
2025-10-30 11:45:49,394 - INFO - Language: en_US
2025-10-30 11:45:49,398 - INFO - Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 11:45:49,400 - INFO - Successful: 3/5
2025-10-30 11:45:49,402 - INFO - Total Products: 275
2025-10-30 11:45:49,403 - INFO - Estimated Cost: $0.275
2025-10-30 11:45:49,405 - INFO - Time Taken: 26m 56s
2025-10-30 11:45:49,410 - INFO - Output Directory: C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\data_output
2025-10-30 11:45:49,411 - INFO - ======================================================================
2025-10-30 13:17:12,737 - INFO - 
======================================================================
2025-10-30 13:17:12,738 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 13:17:12,738 - INFO - ======================================================================
2025-10-30 13:17:12,740 - INFO - ======================================================================
2025-10-30 13:17:12,740 - INFO - [CONFIG] DataForSEO Amazon Collector - Configuration
2025-10-30 13:17:12,741 - INFO - ======================================================================
2025-10-30 13:17:12,741 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-30 13:17:12,741 - INFO - [CONFIG] Language: en_US
2025-10-30 13:17:12,741 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-30 13:17:12,741 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-30 13:17:12,741 - INFO - [CONFIG] Initial Wait: 200s
2025-10-30 13:17:12,741 - INFO - [CONFIG] Max Retries: 8
2025-10-30 13:17:12,741 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 13:17:12,741 - INFO - ======================================================================
2025-10-30 13:17:12,741 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 13:17:12,741 - INFO - [API] Client initialized with 60s timeout
2025-10-30 13:17:12,742 - INFO - 
2025-10-30 13:17:12,742 - INFO - ======================================================================
2025-10-30 13:17:12,742 - INFO - [DATABASE] Testing connection...
2025-10-30 13:17:12,742 - INFO - ======================================================================
2025-10-30 13:17:12,742 - INFO - [DB] Connection string analysis:
2025-10-30 13:17:12,742 - INFO -   - Scheme: postgresql
2025-10-30 13:17:12,742 - INFO -   - Host: 122.176.108.253
2025-10-30 13:17:12,742 - INFO -   - Port: 5432
2025-10-30 13:17:12,742 - INFO -   - Database: db1
2025-10-30 13:17:12,742 - INFO -   - Has SSL params: False
2025-10-30 13:17:12,742 - INFO -   - Has query params: False
2025-10-30 13:17:12,743 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-30 13:17:12,743 - INFO - [DB] Connecting to: 122.176.108.253:5432/db1?connect_timeout=10
2025-10-30 13:17:14,806 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 13:17:14,809 - INFO - [DB] Retrying in 2s...
2025-10-30 13:17:16,810 - INFO - [DB] Connecting to database (attempt 2/3)...
2025-10-30 13:17:16,811 - INFO - [DB] Connecting to: 122.176.108.253:5432/db1?connect_timeout=10
2025-10-30 13:17:18,874 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 13:17:18,875 - INFO - [DB] Retrying in 4s...
2025-10-30 13:17:22,876 - INFO - [DB] Connecting to database (attempt 3/3)...
2025-10-30 13:17:22,876 - INFO - [DB] Connecting to: 122.176.108.253:5432/db1?connect_timeout=10
2025-10-30 13:17:24,925 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-30 13:17:24,926 - ERROR - [DB]  All connection attempts failed
2025-10-30 13:17:24,928 - ERROR - [EXIT] Database connection failed
2025-10-30 13:51:05,217 - INFO - 
======================================================================
2025-10-30 13:51:05,217 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 13:51:05,217 - INFO - ======================================================================
2025-10-30 13:51:05,219 - INFO - ======================================================================
2025-10-30 13:51:05,219 - INFO - [CONFIG] DataForSEO Amazon Collector - Configuration
2025-10-30 13:51:05,220 - INFO - ======================================================================
2025-10-30 13:51:05,220 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-30 13:51:05,220 - INFO - [CONFIG] Language: en_US
2025-10-30 13:51:05,220 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-30 13:51:05,220 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-30 13:51:05,220 - INFO - [CONFIG] Initial Wait: 200s
2025-10-30 13:51:05,220 - INFO - [CONFIG] Max Retries: 8
2025-10-30 13:51:05,220 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 13:51:05,220 - INFO - ======================================================================
2025-10-30 13:51:05,221 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 13:51:05,221 - INFO - [API] Client initialized with 60s timeout
2025-10-30 13:51:05,221 - INFO - 
2025-10-30 13:51:05,221 - INFO - ======================================================================
2025-10-30 13:51:05,221 - INFO - [DATABASE] Testing connection...
2025-10-30 13:51:05,221 - INFO - ======================================================================
2025-10-30 13:51:05,221 - INFO - [DB] Connection string analysis:
2025-10-30 13:51:05,221 - INFO -   - Scheme: postgresql
2025-10-30 13:51:05,221 - INFO -   - Host: 122.176.108.253
2025-10-30 13:51:05,221 - INFO -   - Port: 5432
2025-10-30 13:51:05,221 - INFO -   - Database: db1
2025-10-30 13:51:05,222 - INFO -   - Has SSL params: False
2025-10-30 13:51:05,222 - INFO -   - Has query params: False
2025-10-30 13:51:05,222 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-30 13:51:05,222 - INFO - [DB] Connecting to: 122.176.108.253:5432/db1?connect_timeout=10
2025-10-30 13:51:06,167 - INFO - [DB]  Connection successful
2025-10-30 13:51:06,572 - ERROR - [DB ERROR] Failed to create tables: column "location_code" does not exist

2025-10-30 13:51:06,643 - ERROR - [ERROR] column "location_code" does not exist
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1058, in main
    collector.db.create_tables()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 716, in create_tables
    cursor.execute("""
    ~~~~~~~~~~~~~~^^^^
        CREATE INDEX IF NOT EXISTS idx_amazon_products_location
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        ON amazon_products(location_code)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    """)
    ^^^^
psycopg2.errors.UndefinedColumn: column "location_code" does not exist

2025-10-30 13:58:50,190 - INFO - 
======================================================================
2025-10-30 13:58:50,191 - INFO - DataForSEO Amazon Collector - Database Version
2025-10-30 13:58:50,191 - INFO - ======================================================================
2025-10-30 13:58:50,193 - INFO - ======================================================================
2025-10-30 13:58:50,193 - INFO - [CONFIG] DataForSEO Amazon Collector - Configuration
2025-10-30 13:58:50,193 - INFO - ======================================================================
2025-10-30 13:58:50,194 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-30 13:58:50,194 - INFO - [CONFIG] Language: en_US
2025-10-30 13:58:50,194 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-30 13:58:50,194 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-30 13:58:50,194 - INFO - [CONFIG] Initial Wait: 200s
2025-10-30 13:58:50,194 - INFO - [CONFIG] Max Retries: 8
2025-10-30 13:58:50,194 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 13:58:50,194 - INFO - ======================================================================
2025-10-30 13:58:50,194 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 13:58:50,194 - INFO - [API] Client initialized with 60s timeout
2025-10-30 13:58:50,194 - INFO - 
2025-10-30 13:58:50,195 - INFO - ======================================================================
2025-10-30 13:58:50,195 - INFO - [DATABASE] Testing connection...
2025-10-30 13:58:50,195 - INFO - ======================================================================
2025-10-30 13:58:50,195 - INFO - [DB] Connection string analysis:
2025-10-30 13:58:50,195 - INFO -   - Scheme: postgresql
2025-10-30 13:58:50,195 - INFO -   - Host: 122.176.108.253
2025-10-30 13:58:50,195 - INFO -   - Port: 5432
2025-10-30 13:58:50,195 - INFO -   - Database: db1
2025-10-30 13:58:50,195 - INFO -   - Has SSL params: False
2025-10-30 13:58:50,195 - INFO -   - Has query params: False
2025-10-30 13:58:50,195 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-30 13:58:50,195 - INFO - [DB] Connecting to: 122.176.108.253:5432/db1?connect_timeout=10
2025-10-30 13:58:50,775 - INFO - [DB]  Connection successful
2025-10-30 13:58:51,182 - ERROR - [DB ERROR] Failed to create tables: column "location_code" does not exist

2025-10-30 13:58:51,241 - ERROR - [ERROR] column "location_code" does not exist
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1058, in main
    collector.db.create_tables()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 716, in create_tables
    cursor.execute("""
    ~~~~~~~~~~~~~~^^^^
        CREATE INDEX IF NOT EXISTS idx_amazon_products_location
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        ON amazon_products(location_code)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    """)
    ^^^^
psycopg2.errors.UndefinedColumn: column "location_code" does not exist

2025-10-30 14:34:35,938 - INFO - 
======================================================================
2025-10-30 14:34:35,938 - INFO - DataForSEO Amazon Collector - Batch Processing Version
2025-10-30 14:34:35,938 - INFO - ======================================================================
2025-10-30 14:34:35,940 - INFO - ======================================================================
2025-10-30 14:34:35,940 - INFO - [CONFIG] DataForSEO Amazon Collector - Configuration
2025-10-30 14:34:35,940 - INFO - ======================================================================
2025-10-30 14:34:35,940 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-30 14:34:35,940 - INFO - [CONFIG] Language: en_US
2025-10-30 14:34:35,941 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-30 14:34:35,941 - INFO - [CONFIG] Batch Size: 5 keywords per batch
2025-10-30 14:34:35,941 - INFO - [CONFIG] Batch Delay: 60s between batches
2025-10-30 14:34:35,941 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-30 14:34:35,941 - INFO - [CONFIG] Initial Wait: 200s
2025-10-30 14:34:35,941 - INFO - [CONFIG] Max Retries: 8
2025-10-30 14:34:35,941 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 14:34:35,941 - INFO - ======================================================================
2025-10-30 14:34:35,941 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 14:34:35,941 - INFO - [API] Client initialized
2025-10-30 14:34:35,941 - INFO - 
2025-10-30 14:34:35,941 - INFO - ======================================================================
2025-10-30 14:34:35,942 - INFO - [DATABASE] Connecting...
2025-10-30 14:34:35,942 - INFO - ======================================================================
2025-10-30 14:34:35,942 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-30 14:34:36,285 - INFO - [DB]  Connection successful
2025-10-30 14:34:36,531 - ERROR - [DB ERROR] Failed to create tables: column "location_code" does not exist

2025-10-30 14:34:36,571 - ERROR - [ERROR] column "location_code" does not exist
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1002, in main
    collector.db.create_tables()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 672, in create_tables
    cursor.execute("""
    ~~~~~~~~~~~~~~^^^^
        CREATE INDEX IF NOT EXISTS idx_amazon_products_location
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        ON amazon_products(location_code)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    """)
    ^^^^
psycopg2.errors.UndefinedColumn: column "location_code" does not exist

2025-10-30 14:35:44,234 - INFO - 
======================================================================
2025-10-30 14:35:44,234 - INFO - DataForSEO Amazon Collector - Batch Processing Version
2025-10-30 14:35:44,235 - INFO - ======================================================================
2025-10-30 14:35:44,237 - INFO - ======================================================================
2025-10-30 14:35:44,237 - INFO - [CONFIG] DataForSEO Amazon Collector - Configuration
2025-10-30 14:35:44,237 - INFO - ======================================================================
2025-10-30 14:35:44,237 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-30 14:35:44,237 - INFO - [CONFIG] Language: en_US
2025-10-30 14:35:44,238 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-30 14:35:44,238 - INFO - [CONFIG] Batch Size: 5 keywords per batch
2025-10-30 14:35:44,238 - INFO - [CONFIG] Batch Delay: 60s between batches
2025-10-30 14:35:44,238 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-30 14:35:44,238 - INFO - [CONFIG] Initial Wait: 200s
2025-10-30 14:35:44,238 - INFO - [CONFIG] Max Retries: 8
2025-10-30 14:35:44,238 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-30 14:35:44,238 - INFO - ======================================================================
2025-10-30 14:35:44,238 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-30 14:35:44,238 - INFO - [API] Client initialized
2025-10-30 14:35:44,239 - INFO - 
2025-10-30 14:35:44,239 - INFO - ======================================================================
2025-10-30 14:35:44,239 - INFO - [DATABASE] Connecting...
2025-10-30 14:35:44,239 - INFO - ======================================================================
2025-10-30 14:35:44,239 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-30 14:35:44,619 - INFO - [DB]  Connection successful
2025-10-30 14:35:44,734 - INFO - [DB] Migrating table: Adding location_code column...
2025-10-30 14:35:44,854 - INFO - [DB] Migrating table: Adding language_code column...
2025-10-30 14:35:45,213 - INFO - [DB]  Tables and indexes verified
2025-10-30 14:35:45,214 - INFO - 
2025-10-30 14:35:45,214 - INFO - ======================================================================
2025-10-30 14:35:45,215 - INFO - [START] Starting Batch Collection
2025-10-30 14:35:45,215 - INFO - ======================================================================
2025-10-30 14:35:45,215 - INFO - [INFO] Total keywords: 5
2025-10-30 14:35:45,216 - INFO - [INFO] Batch size: 5
2025-10-30 14:35:45,216 - INFO - [INFO] Total batches: 1
2025-10-30 14:35:45,216 - INFO - 
2025-10-30 14:35:45,217 - INFO - ======================================================================
2025-10-30 14:35:45,217 - INFO - [BATCH 1/1] Processing 5 keywords
2025-10-30 14:35:45,217 - INFO - ======================================================================
2025-10-30 14:35:45,217 - INFO - 
[BATCH 1] Keyword 1/5
2025-10-30 14:35:45,217 - INFO - [COLLECT] Processing: laptop
2025-10-30 14:35:45,217 - INFO - [API] Submitting task for 'laptop'
2025-10-30 14:35:46,476 - INFO - [API]  Task submitted: 10301105-1177-0209-0000-d29ea363228b
2025-10-30 14:35:46,477 - INFO - [WAIT] Waiting 200s...
2025-10-30 14:39:06,480 - INFO - [CHECK] Attempt 1/8...
2025-10-30 14:39:08,897 - INFO - [WAITING] 30s before retry...
2025-10-30 14:39:38,899 - INFO - [CHECK] Attempt 2/8...
2025-10-30 14:39:39,454 - INFO - [API]  Results retrieved for 10301105-1177-0209-0000-d29ea363228b
2025-10-30 14:39:39,457 - INFO - [EXTRACT] Found 108 products
2025-10-30 14:39:40,420 - INFO - [DB]  Saved 108 products total
2025-10-30 14:39:40,421 - INFO - [SUCCESS]  Saved 108 products for 'laptop'
2025-10-30 14:39:40,424 - INFO - 
[BATCH 1] Keyword 2/5
2025-10-30 14:39:40,426 - INFO - [COLLECT] Processing: smartphone
2025-10-30 14:39:40,429 - INFO - [API] Submitting task for 'smartphone'
2025-10-30 14:39:40,690 - INFO - [API]  Task submitted: 10301109-1177-0209-0000-ba896bfdab67
2025-10-30 14:39:40,693 - INFO - [WAIT] Waiting 200s...
2025-10-30 14:43:00,697 - INFO - [CHECK] Attempt 1/8...
2025-10-30 14:43:03,348 - INFO - [WAITING] 30s before retry...
2025-10-30 14:43:33,352 - INFO - [CHECK] Attempt 2/8...
2025-10-30 14:43:33,869 - INFO - [API]  Results retrieved for 10301109-1177-0209-0000-ba896bfdab67
2025-10-30 14:43:33,871 - INFO - [EXTRACT] Found 108 products
2025-10-30 14:43:34,879 - INFO - [DB]  Saved 108 products total
2025-10-30 14:43:34,881 - INFO - [SUCCESS]  Saved 108 products for 'smartphone'
2025-10-30 14:43:34,883 - INFO - 
[BATCH 1] Keyword 3/5
2025-10-30 14:43:34,884 - INFO - [COLLECT] Processing: headphones
2025-10-30 14:43:34,887 - INFO - [API] Submitting task for 'headphones'
2025-10-30 14:43:35,160 - INFO - [API]  Task submitted: 10301113-1177-0209-0000-a650c0a2d0f6
2025-10-30 14:43:35,163 - INFO - [WAIT] Waiting 200s...
2025-10-30 14:46:55,168 - INFO - [CHECK] Attempt 1/8...
2025-10-30 14:46:57,850 - INFO - [WAITING] 30s before retry...
2025-10-30 14:47:27,852 - INFO - [CHECK] Attempt 2/8...
2025-10-30 14:47:28,168 - INFO - [WAITING] 30s before retry...
2025-10-30 14:47:58,175 - INFO - [CHECK] Attempt 3/8...
2025-10-30 14:47:58,470 - INFO - [WAITING] 30s before retry...
2025-10-30 14:48:28,471 - INFO - [CHECK] Attempt 4/8...
2025-10-30 14:48:28,763 - INFO - [WAITING] 30s before retry...
2025-10-30 14:48:58,766 - INFO - [CHECK] Attempt 5/8...
2025-10-30 14:48:59,238 - INFO - [WAITING] 30s before retry...
2025-10-30 14:49:29,241 - INFO - [CHECK] Attempt 6/8...
2025-10-30 14:49:29,516 - INFO - [WAITING] 30s before retry...
2025-10-30 14:49:59,519 - INFO - [CHECK] Attempt 7/8...
2025-10-30 14:49:59,785 - INFO - [WAITING] 30s before retry...
2025-10-30 14:50:29,786 - INFO - [CHECK] Attempt 8/8...
2025-10-30 14:50:30,100 - ERROR - [FAILED] Could not retrieve results for 'headphones'
2025-10-30 14:50:30,101 - INFO - 
[BATCH 1] Keyword 4/5
2025-10-30 14:50:30,101 - INFO - [COLLECT] Processing: smartwatch
2025-10-30 14:50:30,102 - INFO - [API] Submitting task for 'smartwatch'
2025-10-30 14:50:30,437 - INFO - [API]  Task submitted: 10301120-1177-0209-0000-00c983704c4e
2025-10-30 14:50:30,438 - INFO - [WAIT] Waiting 200s...
2025-10-30 14:53:50,442 - INFO - [CHECK] Attempt 1/8...
2025-10-30 14:53:56,197 - INFO - [WAITING] 30s before retry...
2025-10-30 14:54:26,198 - INFO - [CHECK] Attempt 2/8...
2025-10-30 14:54:26,884 - INFO - [API]  Results retrieved for 10301120-1177-0209-0000-00c983704c4e
2025-10-30 14:54:26,885 - INFO - [EXTRACT] Found 105 products
2025-10-30 14:54:26,941 - ERROR - [DB ERROR] Failed to save products: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 731, in save_products
    execute_values(cursor, """
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
        INSERT INTO amazon_products
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<22 lines>...
        for p in chunk
        ^^^^^^^^^^^^^^
    ])
    ^^
  File "C:\Users\AFI-02-AI\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 1299, in execute_values
    cur.execute(b''.join(parts))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.

2025-10-30 14:54:27,091 - ERROR - [ERROR] connection already closed
Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 731, in save_products
    execute_values(cursor, """
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
        INSERT INTO amazon_products
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<22 lines>...
        for p in chunk
        ^^^^^^^^^^^^^^
    ])
    ^^
  File "C:\Users\AFI-02-AI\AppData\Roaming\Python\Python313\site-packages\psycopg2\extras.py", line 1299, in execute_values
    cur.execute(b''.join(parts))
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
psycopg2.OperationalError: server closed the connection unexpectedly
	This probably means the server terminated abnormally
	before or while processing the request.


During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 1035, in main
    results = collector.collect_all(config.DEFAULT_KEYWORDS)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 996, in collect_all
    batch_results = self.collect_batch(batch_keywords, batch_num + 1, total_batches)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 968, in collect_batch
    result = self.collect_keyword(keyword.strip())
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 936, in collect_keyword
    saved = self.db.save_products(products)
  File "C:\Users\AFI-02-AI\Desktop\TrendSensei\server_py\dataforseo_cron.py", line 767, in save_products
    self.conn.rollback()
    ~~~~~~~~~~~~~~~~~~^^
psycopg2.InterfaceError: connection already closed
2025-10-31 09:36:31,054 - INFO - 
======================================================================
2025-10-31 09:36:31,056 - INFO - DataForSEO Amazon Collector - Batch Processing Version
2025-10-31 09:36:31,056 - INFO - ======================================================================
2025-10-31 09:36:31,060 - INFO - ======================================================================
2025-10-31 09:36:31,060 - INFO - [CONFIG] DataForSEO Amazon Collector - Configuration
2025-10-31 09:36:31,060 - INFO - ======================================================================
2025-10-31 09:36:31,060 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-31 09:36:31,061 - INFO - [CONFIG] Language: en_US
2025-10-31 09:36:31,061 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-31 09:36:31,061 - INFO - [CONFIG] Batch Size: 5 keywords per batch
2025-10-31 09:36:31,061 - INFO - [CONFIG] Batch Delay: 60s between batches
2025-10-31 09:36:31,062 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-31 09:36:31,062 - INFO - [CONFIG] Initial Wait: 200s
2025-10-31 09:36:31,062 - INFO - [CONFIG] Max Retries: 8
2025-10-31 09:36:31,062 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-31 09:36:31,062 - INFO - ======================================================================
2025-10-31 09:36:31,063 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-31 09:36:31,063 - INFO - [API] Client initialized
2025-10-31 09:36:31,063 - INFO - 
2025-10-31 09:36:31,063 - INFO - ======================================================================
2025-10-31 09:36:31,064 - INFO - [DATABASE] Connecting...
2025-10-31 09:36:31,064 - INFO - ======================================================================
2025-10-31 09:36:31,064 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-31 09:36:33,167 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-31 09:36:33,168 - INFO - [DB] Retrying in 2s...
2025-10-31 09:36:35,169 - INFO - [DB] Connecting to database (attempt 2/3)...
2025-10-31 09:36:37,268 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-31 09:36:37,268 - INFO - [DB] Retrying in 4s...
2025-10-31 09:36:41,269 - INFO - [DB] Connecting to database (attempt 3/3)...
2025-10-31 09:36:43,364 - ERROR - [DB ERROR] Connection failed: connection to server at "122.176.108.253", port 5432 failed: Connection refused (0x0000274D/10061)
	Is the server running on that host and accepting TCP/IP connections?

2025-10-31 09:36:43,367 - ERROR - [DB]  All connection attempts failed
2025-10-31 09:36:43,369 - ERROR - [EXIT] Database connection failed
2025-10-31 09:45:54,661 - INFO - 
======================================================================
2025-10-31 09:45:54,661 - INFO - DataForSEO Amazon Collector - Batch Processing Version
2025-10-31 09:45:54,661 - INFO - ======================================================================
2025-10-31 09:45:54,664 - INFO - ======================================================================
2025-10-31 09:45:54,665 - INFO - [CONFIG] DataForSEO Amazon Collector - Configuration
2025-10-31 09:45:54,665 - INFO - ======================================================================
2025-10-31 09:45:54,665 - INFO - [CONFIG] Location: India (Code: 2356)
2025-10-31 09:45:54,665 - INFO - [CONFIG] Language: en_US
2025-10-31 09:45:54,665 - INFO - [CONFIG] Depth: 100 products per keyword
2025-10-31 09:45:54,665 - INFO - [CONFIG] Batch Size: 5 keywords per batch
2025-10-31 09:45:54,666 - INFO - [CONFIG] Batch Delay: 60s between batches
2025-10-31 09:45:54,666 - INFO - [CONFIG] Queue: Standard ($0.001/product)
2025-10-31 09:45:54,666 - INFO - [CONFIG] Initial Wait: 200s
2025-10-31 09:45:54,666 - INFO - [CONFIG] Max Retries: 8
2025-10-31 09:45:54,666 - INFO - [CONFIG] Keywords: laptop, smartphone, headphones, smartwatch, tablet
2025-10-31 09:45:54,667 - INFO - ======================================================================
2025-10-31 09:45:54,667 - INFO - [RestClient] Initialized for https://api.dataforseo.com
2025-10-31 09:45:54,667 - INFO - [API] Client initialized
2025-10-31 09:45:54,667 - INFO - 
2025-10-31 09:45:54,667 - INFO - ======================================================================
2025-10-31 09:45:54,668 - INFO - [DATABASE] Connecting...
2025-10-31 09:45:54,668 - INFO - ======================================================================
2025-10-31 09:45:54,668 - INFO - [DB] Connecting to database (attempt 1/3)...
2025-10-31 09:45:55,113 - INFO - [DB]  Connection successful
2025-10-31 09:45:55,615 - INFO - [DB]  Tables and indexes verified
2025-10-31 09:45:55,643 - INFO - 
2025-10-31 09:45:55,643 - INFO - ======================================================================
2025-10-31 09:45:55,643 - INFO - [START] Starting Batch Collection
2025-10-31 09:45:55,643 - INFO - ======================================================================
2025-10-31 09:45:55,644 - INFO - [INFO] Total keywords: 5
2025-10-31 09:45:55,644 - INFO - [INFO] Batch size: 5
2025-10-31 09:45:55,644 - INFO - [INFO] Total batches: 1
2025-10-31 09:45:55,644 - INFO - 
2025-10-31 09:45:55,644 - INFO - ======================================================================
2025-10-31 09:45:55,644 - INFO - [BATCH 1/1] Processing 5 keywords
2025-10-31 09:45:55,644 - INFO - ======================================================================
2025-10-31 09:45:55,645 - INFO - 
[BATCH 1] Keyword 1/5
2025-10-31 09:45:55,645 - INFO - [COLLECT] Processing: laptop
2025-10-31 09:45:55,646 - INFO - [API] Submitting task for 'laptop'
2025-10-31 09:45:57,034 - INFO - [API]  Task submitted: 10310615-1177-0209-0000-2c35ae1685f1
2025-10-31 09:45:57,035 - INFO - [WAIT] Waiting 200s...
2025-10-31 09:49:17,036 - INFO - [CHECK] Attempt 1/8...
2025-10-31 09:49:18,762 - INFO - [API]  Results retrieved for 10310615-1177-0209-0000-2c35ae1685f1
2025-10-31 09:49:18,763 - INFO - [EXTRACT] Found 106 products
2025-10-31 09:49:19,723 - INFO - [DB]  Saved 106 products total
2025-10-31 09:49:19,724 - INFO - [SUCCESS]  Saved 106 products for 'laptop'
2025-10-31 09:49:19,724 - INFO - 
[BATCH 1] Keyword 2/5
2025-10-31 09:49:19,725 - INFO - [COLLECT] Processing: smartphone
2025-10-31 09:49:19,726 - INFO - [API] Submitting task for 'smartphone'
2025-10-31 09:49:20,011 - INFO - [API]  Task submitted: 10310619-1177-0209-0000-6cb9de637233
2025-10-31 09:49:20,013 - INFO - [WAIT] Waiting 200s...
2025-10-31 09:52:40,016 - INFO - [CHECK] Attempt 1/8...
2025-10-31 09:52:41,606 - INFO - [WAITING] 30s before retry...
2025-10-31 09:53:11,609 - INFO - [CHECK] Attempt 2/8...
2025-10-31 09:53:12,114 - INFO - [API]  Results retrieved for 10310619-1177-0209-0000-6cb9de637233
2025-10-31 09:53:12,115 - INFO - [EXTRACT] Found 108 products
2025-10-31 09:53:12,800 - INFO - [DB]  Saved 108 products total
2025-10-31 09:53:12,802 - INFO - [SUCCESS]  Saved 108 products for 'smartphone'
2025-10-31 09:53:12,803 - INFO - 
[BATCH 1] Keyword 3/5
2025-10-31 09:53:12,803 - INFO - [COLLECT] Processing: headphones
2025-10-31 09:53:12,804 - INFO - [API] Submitting task for 'headphones'
2025-10-31 09:53:13,088 - INFO - [API]  Task submitted: 10310623-1177-0209-0000-e6849042b06c
2025-10-31 09:53:13,088 - INFO - [WAIT] Waiting 200s...
2025-10-31 09:56:33,089 - INFO - [CHECK] Attempt 1/8...
2025-10-31 09:56:35,366 - INFO - [API]  Results retrieved for 10310623-1177-0209-0000-e6849042b06c
2025-10-31 09:56:35,367 - INFO - [EXTRACT] Found 106 products
2025-10-31 09:56:37,541 - INFO - [DB]  Saved 106 products total
2025-10-31 09:56:37,541 - INFO - [SUCCESS]  Saved 106 products for 'headphones'
2025-10-31 09:56:37,542 - INFO - 
[BATCH 1] Keyword 4/5
2025-10-31 09:56:37,543 - INFO - [COLLECT] Processing: smartwatch
2025-10-31 09:56:37,543 - INFO - [API] Submitting task for 'smartwatch'
2025-10-31 09:56:37,818 - INFO - [API]  Task submitted: 10310626-1177-0209-0000-6edce0c9b666
2025-10-31 09:56:37,819 - INFO - [WAIT] Waiting 200s...
2025-10-31 09:59:57,820 - INFO - [CHECK] Attempt 1/8...
2025-10-31 09:59:59,958 - INFO - [API]  Results retrieved for 10310626-1177-0209-0000-6edce0c9b666
2025-10-31 09:59:59,959 - INFO - [EXTRACT] Found 106 products
2025-10-31 10:00:00,463 - INFO - [DB]  Saved 106 products total
2025-10-31 10:00:00,464 - INFO - [SUCCESS]  Saved 106 products for 'smartwatch'
2025-10-31 10:00:00,465 - INFO - 
[BATCH 1] Keyword 5/5
2025-10-31 10:00:00,465 - INFO - [COLLECT] Processing: tablet
2025-10-31 10:00:00,466 - INFO - [API] Submitting task for 'tablet'
2025-10-31 10:00:00,746 - INFO - [API]  Task submitted: 10310630-1177-0209-0000-2a9a5cea6781
2025-10-31 10:00:00,749 - INFO - [WAIT] Waiting 200s...
2025-10-31 10:03:20,750 - INFO - [CHECK] Attempt 1/8...
2025-10-31 10:03:22,334 - INFO - [WAITING] 30s before retry...
2025-10-31 10:03:52,335 - INFO - [CHECK] Attempt 2/8...
2025-10-31 10:03:52,622 - INFO - [WAITING] 30s before retry...
2025-10-31 10:04:22,625 - INFO - [CHECK] Attempt 3/8...
2025-10-31 10:04:22,934 - INFO - [WAITING] 30s before retry...
2025-10-31 10:04:52,935 - INFO - [CHECK] Attempt 4/8...
2025-10-31 10:04:53,248 - INFO - [WAITING] 30s before retry...
2025-10-31 10:05:23,251 - INFO - [CHECK] Attempt 5/8...
2025-10-31 10:05:23,549 - INFO - [WAITING] 30s before retry...
2025-10-31 10:05:53,550 - INFO - [CHECK] Attempt 6/8...
2025-10-31 10:05:53,869 - INFO - [WAITING] 30s before retry...
2025-10-31 10:06:23,871 - INFO - [CHECK] Attempt 7/8...
2025-10-31 10:06:24,222 - INFO - [WAITING] 30s before retry...
2025-10-31 10:06:54,224 - INFO - [CHECK] Attempt 8/8...
2025-10-31 10:06:54,976 - ERROR - [FAILED] Could not retrieve results for 'tablet'
2025-10-31 10:06:54,977 - INFO - [DB] Connection closed
2025-10-31 10:06:54,977 - INFO - 
2025-10-31 10:06:54,978 - INFO - ======================================================================
2025-10-31 10:06:54,979 - INFO - [COMPLETE] Collection Finished!
2025-10-31 10:06:54,979 - INFO - ======================================================================
2025-10-31 10:06:54,980 - INFO - Collection Date: 2025-10-31 10:06:54
2025-10-31 10:06:54,980 - INFO - Location: India
2025-10-31 10:06:54,981 - INFO - Successful: 4/5
2025-10-31 10:06:54,981 - INFO - Total Products: 426
2025-10-31 10:06:54,981 - INFO - Estimated Cost: $0.426
2025-10-31 10:06:54,982 - INFO - Time Taken: 20m 59s
2025-10-31 10:06:54,982 - INFO - ======================================================================
